gdjs.projectData = {"firstLayout":"menu","gdVersion":{"build":99,"major":4,"minor":0,"revision":0},"properties":{"adaptGameResolutionAtRuntime":true,"antialiasingMode":"MSAA","antialisingEnabledOnMobile":false,"folderProject":true,"orientation":"landscape","packageName":"b3d.black360o.randomsandbox","pixelsRounding":false,"projectUuid":"b406cb89-07dc-46dd-a4f6-2c4c79f976ac","scaleMode":"nearest","sizeOnStartupMode":"adaptWidth","templateSlug":"","useExternalSourceFiles":false,"version":"0.1.0","name":"random sandbox","description":"","author":"Black Purpleni","windowWidth":1280,"windowHeight":720,"latestCompilationDirectory":"E:\\Black360o\\Desktop\\Workspace\\random-sandbox_builds\\0.1.0","maxFPS":60,"minFPS":20,"verticalSync":false,"platformSpecificAssets":{},"loadingScreen":{"backgroundColor":0,"backgroundFadeInDuration":0.2,"backgroundImageResourceName":"","gdevelopLogoStyle":"light","logoAndProgressFadeInDuration":0.2,"logoAndProgressLogoFadeInDelay":0.0,"minDuration":1.5,"progressBarColor":16777215,"progressBarHeight":20.0,"progressBarMaxWidth":200.0,"progressBarMinWidth":40.0,"progressBarWidthPercent":30.0,"showGDevelopSplash":true,"showProgressBar":true},"watermark":{"placement":"bottom-left","showWatermark":true},"authorIds":["dDwCsSxiJoVQeDq1Py0RhXF4bV63"],"authorUsernames":["Yourself (no username)"],"categories":[],"playableDevices":[],"extensionProperties":[],"platforms":[{"name":"GDevelop JS platform"}],"currentPlatform":"GDevelop JS platform"},"resources":{"resources":[{"file":"SofiaProMedium.ttf","kind":"font","metadata":"","name":"SofiaProMedium.ttf","userAdded":false},{"alwaysLoaded":false,"file":"NewSprite.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"prototype-playButton","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"tile.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"tile","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"OGtile.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"OGtile","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"tabButton.png","kind":"image","metadata":"","name":"assets\\tabButton.png","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"twinTile.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"twinTile","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"transhalfTile.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"transhalfTile","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"nottileTab.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"nottileTab","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"staticTileADDbutton-hovered.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"staticTileADDbutton-hovered","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"staticTileADDbutton-idle.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"staticTileADDbutton-idle","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"staticTileADDbutton-pressed.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{},\"localFilePath\":\"assets/staticTileADDbutton-pressed.png\"}","name":"staticTileADDbutton-pressed","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"dynamicTileADDbutton-idle.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"dynamicTileADDbutton-idle","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"dynamicTileADDbutton-hovered.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"dynamicTileADDbutton-hovered","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"dynamicTileADDbutton-pressed.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"dynamicTileADDbutton-pressed","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"tileSIZEbutton-idle.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"tileSIZEbutton-idle","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"tileSIZEbutton-hovered.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"tileSIZEbutton-hovered","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"tileSIZEbutton-pressed.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"tileSIZEbutton-pressed","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"staticTileDELbutton-idle.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"staticTileDELbutton-idle","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"staticTileDELbutton-hovered.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"staticTileDELbutton-hovered","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"dynamicTileDELbutton-idle.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"dynamicTileDELbutton-idle","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"dynamicTileDELbutton-hovered.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"dynamicTileDELbutton-hovered","smoothed":false,"userAdded":true}],"resourceFolders":[]},"objects":[],"objectsFolderStructure":{"folderName":"__ROOT"},"objectsGroups":[],"variables":[],"layouts":[{"b":128,"disableInputWhenNotFocused":true,"mangledName":"menu","name":"menu","r":128,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"random sandbox | menu","v":128,"uiSettings":{"grid":false,"gridType":"rectangular","gridWidth":32.0,"gridHeight":32.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":false,"zoomFactor":0.6455105703311477,"windowMask":false},"objectsGroups":[],"variables":[],"instances":[{"angle":0.0,"customSize":true,"depth":2.0,"height":70.0,"layer":"","name":"title","persistentUuid":"8aa7d901-0914-478e-9a88-6a8afb61ceaf","width":468.0,"x":50.0,"y":330.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":3.0,"height":200.0,"layer":"","name":"prototype_playButton","persistentUuid":"066d142e-847a-4708-b0b5-d44ad77718b2","width":200.0,"x":1000.0,"y":275.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"assetStoreId":"","bold":false,"italic":false,"name":"title","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"}],"string":"random sandbox","font":"SofiaProMedium.ttf","textAlignment":"left","characterSize":60.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":true,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":3.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"random sandbox","font":"SofiaProMedium.ttf","textAlignment":"left","characterSize":60.0,"color":"0;0;0"}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"prototype_playButton","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[{"name":"Animation","type":"AnimatableCapability::AnimatableBehavior"},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"}],"animations":[{"name":"prototype_playButton","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"prototype-playButton","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":64.0,"y":0.0},{"x":64.0,"y":64.0},{"x":0.0,"y":64.0}]]}]}]}]}],"objectsFolderStructure":{"folderName":"__ROOT"},"events":[],"layers":[{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]}],"behaviorsSharedData":[{"name":"Animation","type":"AnimatableCapability::AnimatableBehavior"},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"}],"usedResources":[{"name":"SofiaProMedium.ttf"},{"name":"prototype-playButton"}]},{"b":155,"disableInputWhenNotFocused":true,"mangledName":"scene","name":"scene","r":155,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"random sandbox | scene","v":155,"uiSettings":{"grid":false,"gridType":"rectangular","gridWidth":16.0,"gridHeight":16.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.67,"snap":false,"zoomFactor":0.9296875000000003,"windowMask":false},"objectsGroups":[],"variables":[{"folded":true,"name":"tileSize","type":"number","value":95.0}],"instances":[{"angle":0.0,"customSize":true,"depth":1.0,"height":48.0,"layer":"","name":"tilePlatform","persistentUuid":"86b6060a-617b-46f1-b99b-120fc95e4631","width":1164.0,"x":60.0,"y":620.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":0.0,"height":95.0,"layer":"","name":"OGtile","persistentUuid":"ccd69684-855f-448f-86dc-b37dfb858600","width":95.0,"x":609.0,"y":304.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"staticTileADDbutton","persistentUuid":"26d8f378-27b4-4ee0-8154-af2002c96387","width":0.0,"x":1184.0,"y":32.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"dynamicTileADDbutton","persistentUuid":"96af353c-81d8-410e-97a1-15ae9c0add87","width":0.0,"x":1104.0,"y":32.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"tileSIZEbutton","persistentUuid":"9989388a-b352-450e-ab29-d7c9f42ef1e0","width":0.0,"x":1184.0,"y":208.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"staticTileDELbutton","persistentUuid":"88f64a48-611e-494f-a782-a1e3beee16e5","width":0.0,"x":1184.0,"y":112.0,"zOrder":6,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"dynamicTileDELbutton","persistentUuid":"03cbf8fa-809f-4e5a-b7a4-232e644cbb9c","width":0.0,"x":1104.0,"y":112.0,"zOrder":7,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"assetStoreId":"","height":95.0,"name":"tilePlatform","texture":"tile","type":"TiledSpriteObject::TiledSprite","width":95.0,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Physics2","type":"Physics2::Physics2Behavior","bodyType":"Static","bullet":false,"fixedRotation":true,"canSleep":true,"shape":"Box","shapeDimensionA":0.0,"shapeDimensionB":0.0,"shapeOffsetX":0.0,"shapeOffsetY":0.0,"polygonOrigin":"Center","vertices":[],"density":1.0,"friction":0.3,"restitution":0.1,"linearDamping":0.1,"angularDamping":0.1,"gravityScale":1.0,"layers":1.0,"masks":1.0},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ","type":"DraggableBehavior::Draggable","checkCollisionMask":true}]},{"assetStoreId":"","bottomMargin":0.0,"height":95.0,"leftMargin":0.0,"name":"OGtile","rightMargin":0.0,"texture":"OGtile","tiled":true,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":95.0,"variables":[],"effects":[],"behaviors":[{"name":"DraggablePhysics","type":"DraggablePhysics::DraggablePhysics","PhysicsBehavior":"Physics2","MouseButton":"Left","MaxForce":500.0,"Frequency":20.0,"Damping":1.0,"MouseJointID":1.00000000000091,"EnableAutomaticDragging":true},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Physics2","type":"Physics2::Physics2Behavior","bodyType":"Dynamic","bullet":false,"fixedRotation":false,"canSleep":true,"shape":"Box","shapeDimensionA":0.0,"shapeDimensionB":0.0,"shapeOffsetX":0.0,"shapeOffsetY":0.0,"polygonOrigin":"Center","vertices":[],"density":1.0,"friction":0.25,"restitution":0.1,"linearDamping":0.1,"angularDamping":0.1,"gravityScale":1.0,"layers":1.0,"masks":1.0},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"}]},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"tabButton","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[{"name":"Animation","type":"AnimatableCapability::AnimatableBehavior"},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"}],"animations":[{"name":"tabButton","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\tabButton.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":64.0,"y":0.0},{"x":64.0,"y":64.0},{"x":0.0,"y":64.0}]]}]}]}]},{"assetStoreId":"","height":512.0,"name":"transhalfTab","texture":"nottileTab","type":"TiledSpriteObject::TiledSprite","width":1024.0,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ","type":"DraggableBehavior::Draggable","checkCollisionMask":false}]},{"assetStoreId":"","bold":false,"italic":false,"name":"fps","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"FPSDisplayer","type":"FPS::FPSDisplayer","prefix":"fps: ","DecimalDigits":0.0},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"}],"string":"fps: null","font":"SofiaProMedium.ttf","textAlignment":"left","characterSize":32.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":true,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":3.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"fps: null","font":"SofiaProMedium.ttf","textAlignment":"left","characterSize":32.0,"color":"0;0;0"}},{"assetStoreId":"","name":"staticTileADDbutton","type":"PanelSpriteButton::PanelSpriteButton","variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"}],"content":{},"childrenContent":{"Hovered":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"staticTileADDbutton-hovered","tiled":false,"topMargin":0.0,"width":64.0},"Idle":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"staticTileADDbutton-idle","tiled":false,"topMargin":0.0,"width":64.0},"Label":{"bold":false,"italic":false,"smoothed":true,"underlined":false,"string":"","font":"","textAlignment":"center","characterSize":64.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":true,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":3.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"","font":"","textAlignment":"center","characterSize":64.0,"color":"0;0;0"}},"Pressed":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"staticTileADDbutton-pressed","tiled":false,"topMargin":0.0,"width":64.0}}},{"assetStoreId":"","name":"dynamicTileADDbutton","type":"PanelSpriteButton::PanelSpriteButton","variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"}],"content":{},"childrenContent":{"Hovered":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"dynamicTileADDbutton-hovered","tiled":false,"topMargin":0.0,"width":64.0},"Idle":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"dynamicTileADDbutton-idle","tiled":false,"topMargin":0.0,"width":64.0},"Label":{"bold":false,"italic":false,"smoothed":true,"underlined":false,"string":"","font":"","textAlignment":"center","characterSize":64.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":true,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":3.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"","font":"","textAlignment":"center","characterSize":64.0,"color":"0;0;0"}},"Pressed":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"dynamicTileADDbutton-pressed","tiled":false,"topMargin":0.0,"width":64.0}}},{"assetStoreId":"","name":"tileSIZEbutton","type":"PanelSpriteButton::PanelSpriteButton","variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"}],"content":{},"childrenContent":{"Hovered":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"tileSIZEbutton-hovered","tiled":false,"topMargin":0.0,"width":64.0},"Idle":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"tileSIZEbutton-idle","tiled":false,"topMargin":0.0,"width":64.0},"Label":{"bold":false,"italic":false,"smoothed":true,"underlined":false,"string":"","font":"","textAlignment":"center","characterSize":64.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":true,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":3.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"","font":"","textAlignment":"center","characterSize":64.0,"color":"0;0;0"}},"Pressed":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"tileSIZEbutton-pressed","tiled":false,"topMargin":0.0,"width":64.0}}},{"assetStoreId":"","name":"staticTileDELbutton","type":"PanelSpriteButton::PanelSpriteButton","variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"}],"content":{},"childrenContent":{"Hovered":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"staticTileDELbutton-hovered","tiled":false,"topMargin":0.0,"width":64.0},"Idle":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"staticTileDELbutton-idle","tiled":false,"topMargin":0.0,"width":64.0},"Label":{"bold":false,"italic":false,"smoothed":true,"underlined":false,"string":"","font":"","textAlignment":"center","characterSize":64.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":true,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":3.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"","font":"","textAlignment":"center","characterSize":64.0,"color":"0;0;0"}},"Pressed":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"staticTileADDbutton-pressed","tiled":false,"topMargin":0.0,"width":64.0}}},{"assetStoreId":"","name":"dynamicTileDELbutton","type":"PanelSpriteButton::PanelSpriteButton","variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"}],"content":{},"childrenContent":{"Hovered":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"dynamicTileDELbutton-hovered","tiled":false,"topMargin":0.0,"width":64.0},"Idle":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"dynamicTileDELbutton-idle","tiled":false,"topMargin":0.0,"width":64.0},"Label":{"bold":false,"italic":false,"smoothed":true,"underlined":false,"string":"","font":"","textAlignment":"center","characterSize":64.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":true,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":3.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"","font":"","textAlignment":"center","characterSize":64.0,"color":"0;0;0"}},"Pressed":{"bottomMargin":0.0,"height":64.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"dynamicTileADDbutton-pressed","tiled":false,"topMargin":0.0,"width":64.0}}},{"assetStoreId":"","height":95.0,"name":"tile","texture":"tile","type":"TiledSpriteObject::TiledSprite","width":95.0,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Physics2","type":"Physics2::Physics2Behavior","bodyType":"Static","bullet":false,"fixedRotation":true,"canSleep":true,"shape":"Box","shapeDimensionA":0.0,"shapeDimensionB":0.0,"shapeOffsetX":0.0,"shapeOffsetY":0.0,"polygonOrigin":"Center","vertices":[],"density":1.0,"friction":0.3,"restitution":0.1,"linearDamping":0.1,"angularDamping":0.1,"gravityScale":1.0,"layers":1.0,"masks":1.0},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ","type":"DraggableBehavior::Draggable","checkCollisionMask":true}]}],"objectsFolderStructure":{"folderName":"__ROOT"},"events":[],"layers":[{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]}],"behaviorsSharedData":[{"name":"Animation","type":"AnimatableCapability::AnimatableBehavior"},{"name":"DraggablePhysics","type":"DraggablePhysics::DraggablePhysics"},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"FPSDisplayer","type":"FPS::FPSDisplayer"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Physics2","type":"Physics2::Physics2Behavior","gravityX":0.0,"gravityY":9.8,"scaleX":100.0,"scaleY":100.0},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"}],"usedResources":[{"name":"OGtile"},{"name":"SofiaProMedium.ttf"},{"name":"assets\\tabButton.png"},{"name":"dynamicTileADDbutton-hovered"},{"name":"dynamicTileADDbutton-idle"},{"name":"dynamicTileADDbutton-pressed"},{"name":"dynamicTileDELbutton-hovered"},{"name":"dynamicTileDELbutton-idle"},{"name":"nottileTab"},{"name":"staticTileADDbutton-hovered"},{"name":"staticTileADDbutton-idle"},{"name":"staticTileADDbutton-pressed"},{"name":"staticTileDELbutton-hovered"},{"name":"staticTileDELbutton-idle"},{"name":"tile"},{"name":"tileSIZEbutton-hovered"},{"name":"tileSIZEbutton-idle"},{"name":"tileSIZEbutton-pressed"}]}],"externalEvents":[],"eventsFunctionsExtensions":[{"author":"","category":"User interface","extensionNamespace":"","fullName":"Panel sprite button","helpPath":"/objects/button","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI5LDIzSDNjLTEuMSwwLTItMC45LTItMlYxMWMwLTEuMSwwLjktMiwyLTJoMjZjMS4xLDAsMiwwLjksMiwydjEwQzMxLDIyLjEsMzAuMSwyMywyOSwyM3oiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMywxOUwxMywxOWMtMS4xLDAtMi0wLjktMi0ydi0yYzAtMS4xLDAuOS0yLDItMmgwYzEuMSwwLDIsMC45LDIsMnYyQzE1LDE4LjEsMTQuMSwxOSwxMywxOXoiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIxOCIgeTE9IjEzIiB4Mj0iMTgiIHkyPSIxOSIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjIxIiB5MT0iMTMiIHgyPSIxOCIgeTI9IjE3Ii8+DQo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMjEiIHkxPSIxOSIgeDI9IjE5IiB5Mj0iMTYiLz4NCjwvc3ZnPg0K","name":"PanelSpriteButton","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Interface Elements/Interface Elements_interface_ui_button_ok_cta_clock_tap.svg","shortDescription":"A button that can be customized.","version":"1.4.4","description":["The button can be customized with a background for each state and a label. It handles user interactions and a simple condition can be used to check if it is clicked.","","There are ready-to-use buttons in the asset-store [menu buttons pack](https://editor.gdevelop.io/?initial-dialog=asset-store&asset-pack=menu-buttons-menu-buttons)."],"tags":["button","ui"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[],"eventsBasedObjects":[{"defaultName":"","description":"","fullName":"","isTextContainer":true,"name":"PanelSpriteButton","eventsFunctions":[],"propertyDescriptors":[],"objects":[{"assetStoreId":"","bold":false,"italic":false,"name":"Label","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"}],"string":"Text","font":"","textAlignment":"","characterSize":20.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Text","font":"","textAlignment":"","characterSize":20.0,"color":"0;0;0"}},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Idle","rightMargin":0.0,"texture":"","tiled":false,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[{"folded":true,"name":"State","type":"string","value":"Idle"}],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"PanelSpriteButton::ButtonFSM","ShouldCheckHovering":true},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"}]},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Hovered","rightMargin":0.0,"texture":"","tiled":false,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Tween","type":"Tween::TweenBehavior"}]},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Pressed","rightMargin":0.0,"texture":"","tiled":false,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"}]}],"objectsFolderStructure":{"folderName":"__ROOT"}}]},{"author":"","category":"User interface","extensionNamespace":"","fullName":"Slider","helpPath":"/objects/slider","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMjMiIGN5PSI3IiByPSIzIi8+DQo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMyIgeTE9IjciIHgyPSIyMCIgeTI9IjciLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyOSIgeTE9IjciIHgyPSIyNiIgeTI9IjciLz4NCjxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjEyIiBjeT0iMTYiIHI9IjMiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIzIiB5MT0iMTYiIHgyPSI5IiB5Mj0iMTYiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyOSIgeTE9IjE2IiB4Mj0iMTUiIHkyPSIxNiIvPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMjMiIGN5PSIyNSIgcj0iMyIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjMiIHkxPSIyNSIgeDI9IjIwIiB5Mj0iMjUiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyOSIgeTE9IjI1IiB4Mj0iMjYiIHkyPSIyNSIvPg0KPC9zdmc+DQo=","name":"PanelSpriteSlider","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/UI Essentials/1678c39a3b2bd3df4f82a8a293770db4986a6bcfd3f78e738ddfc86e39176423_UI Essentials_sliders_options.svg","shortDescription":"A draggable slider that users can move to select a numerical value.","version":"1.4.2","description":["A draggable slider that users can move to select a numerical value. The slider can be customized with sprites.","","There are ready-to-use sliders in the asset-store [settings UI pack](https://editor.gdevelop.io/?initial-dialog=asset-store&asset-pack=settings-ui-settings-ui)."],"tags":["draggable","slider","ui","widget"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2","gqDaZjCfevOOxBYkK6zlhtZnXCg1"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[],"eventsBasedObjects":[{"defaultName":"","description":"","fullName":"","is3D":true,"isTextContainer":true,"name":"PanelSpriteSlider","eventsFunctions":[],"propertyDescriptors":[],"objects":[{"assetStoreId":"","bold":false,"italic":false,"name":"Label","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"}],"string":"It displays the value when it changes.","font":"","textAlignment":"","characterSize":20.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"It displays the value when it changes.","font":"","textAlignment":"","characterSize":20.0,"color":"0;0;0"}},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Thumb","rightMargin":0.0,"texture":"","tiled":false,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Draggable","type":"DraggableBehavior::Draggable","checkCollisionMask":false},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"}]},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"FillBar","rightMargin":0.0,"texture":"","tiled":true,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Slider","type":"PanelSpriteSlider::Slider","Value":0.0,"MinValue":0.0,"MaxValue":1.0,"StepSize":1.0}]},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Background","rightMargin":0.0,"texture":"","tiled":true,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"PanelSpriteSlider::ButtonFSM","ShouldCheckHovering":true,"State":"Idle","TouchId":0.0,"TouchIsInside":false,"MouseIsInside":false,"Index":0.0},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"}]}],"objectsFolderStructure":{"folderName":"__ROOT"}}]},{"author":"","category":"","extensionNamespace":"","fullName":"With Three JS","helpPath":"https://pandako.itch.io/with-threejs-extension-for-gdevelop","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXJvdGF0ZS0zZCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik03LjQ3LDIxLjVDNC4yLDE5Ljk0IDEuODYsMTYuNzYgMS41LDEzSDBDMC41LDE5LjE2IDUuNjYsMjQgMTEuOTUsMjRMMTIuNjEsMjMuOTdMOC44LDIwLjE2TDcuNDcsMjEuNU04LjM2LDE0Ljk2QzguMTcsMTQuOTYgOCwxNC45MyA3Ljg0LDE0Ljg4QzcuNjgsMTQuODIgNy41NSwxNC43NSA3LjQ0LDE0LjY0QzcuMzMsMTQuNTQgNy4yNCwxNC40MiA3LjE4LDE0LjI3QzcuMTIsMTQuMTMgNy4wOSwxMy45NyA3LjA5LDEzLjhINS43OUM1Ljc5LDE0LjE2IDUuODYsMTQuNSA2LDE0Ljc1QzYuMTQsMTUgNi4zMywxNS4yNSA2LjU2LDE1LjQ0QzYuOCwxNS42MiA3LjA3LDE1Ljc2IDcuMzgsMTUuODVDNy42OCwxNS45NSA4LDE2IDguMzQsMTZDOC43MSwxNiA5LjA2LDE1Ljk1IDkuMzcsMTUuODVDOS42OSwxNS43NSA5Ljk3LDE1LjYgMTAuMiwxNS40MUMxMC40MywxNS4yMiAxMC42MiwxNSAxMC43NSwxNC42OUMxMC44OCwxNC40IDEwLjk1LDE0LjA4IDEwLjk1LDEzLjcyQzEwLjk1LDEzLjUzIDEwLjkzLDEzLjM0IDEwLjg4LDEzLjE2QzEwLjgzLDEzIDEwLjc2LDEyLjgxIDEwLjY1LDEyLjY1QzEwLjU1LDEyLjUgMTAuNDEsMTIuMzUgMTAuMjUsMTIuMjJDMTAuMDgsMTIuMDkgOS44OCwxMiA5LjY0LDExLjkxQzkuODQsMTEuODIgMTAsMTEuNzEgMTAuMTYsMTEuNThDMTAuMzEsMTEuNDUgMTAuNDMsMTEuMzEgMTAuNTMsMTEuMTZDMTAuNjMsMTEgMTAuNywxMC44NiAxMC43NSwxMC43QzEwLjgsMTAuNTQgMTAuODIsMTAuMzggMTAuODIsMTAuMjJDMTAuODIsOS44NiAxMC43Niw5LjU0IDEwLjY0LDkuMjZDMTAuNSw5IDEwLjM1LDguNzUgMTAuMTMsOC41N0M5LjkzLDguMzggOS42Niw4LjI0IDkuMzYsOC4xNEM5LjA1LDguMDUgOC43MSw4IDguMzQsOEM4LDggNy42NSw4LjA1IDcuMzQsOC4xNkM3LjA0LDguMjcgNi43Nyw4LjQyIDYuNTUsOC42MUM2LjM0LDguOCA2LjE3LDkgNi4wNCw5LjI4QzUuOTIsOS41NCA1Ljg2LDkuODIgNS44NiwxMC4xM0g3LjE2QzcuMTYsOS45NiA3LjE5LDkuODEgNy4yNSw5LjY4QzcuMzEsOS41NSA3LjM5LDkuNDMgNy41LDkuMzRDNy42MSw5LjI1IDcuNzMsOS4xNyA3Ljg4LDkuMTJDOC4wMyw5LjA3IDguMTgsOS4wNCA4LjM2LDkuMDRDOC43Niw5LjA0IDkuMDYsOS4xNCA5LjI1LDkuMzVDOS40NCw5LjU1IDkuNTQsOS44NCA5LjU0LDEwLjIxQzkuNTQsMTAuMzkgOS41LDEwLjU1IDkuNDYsMTAuN0M5LjQxLDEwLjg1IDkuMzIsMTAuOTcgOS4yMSwxMS4wN0M5LjEsMTEuMTcgOC45NiwxMS4yNSA4LjgsMTEuMzFDOC42NCwxMS4zNyA4LjQ0LDExLjQgOC4yMiwxMS40SDcuNDVWMTIuNDNIOC4yMkM4LjQ0LDEyLjQzIDguNjQsMTIuNDUgOC44MiwxMi41QzksMTIuNTUgOS4xNSwxMi42MyA5LjI3LDEyLjczQzkuMzksMTIuODQgOS41LDEyLjk3IDkuNTYsMTMuMTNDOS42MywxMy4yOSA5LjY2LDEzLjUgOS42NiwxMy43QzkuNjYsMTQuMTEgOS41NCwxNC40MiA5LjMxLDE0LjYzQzkuMDgsMTQuODYgOC43NiwxNC45NiA4LjM2LDE0Ljk2TTE2LjkxLDkuMDRDMTYuNTksOC43MSAxNi4yMSw4LjQ1IDE1Ljc3LDguMjdDMTUuMzQsOC4wOSAxNC44NSw4IDE0LjMxLDhIMTEuOTVWMTZIMTQuMjVDMTQuOCwxNiAxNS4zMSwxNS45MSAxNS43NiwxNS43M0MxNi4yMSwxNS41NSAxNi42LDE1LjMgMTYuOTIsMTQuOTdDMTcuMjQsMTQuNjQgMTcuNSwxNC4yNCAxNy42NiwxMy43OEMxNy44MywxMy4zMSAxNy45MiwxMi43OSAxNy45MiwxMi4yMVYxMS44MUMxNy45MiwxMS4yMyAxNy44MywxMC43MSAxNy42NiwxMC4yNEMxNy41LDkuNzcgMTcuMjMsOS4zNyAxNi45MSw5LjA0TTE2LjUsMTIuMkMxNi41LDEyLjYyIDE2LjQ3LDEzIDE2LjM4LDEzLjMzQzE2LjI4LDEzLjY2IDE2LjE0LDEzLjk1IDE1Ljk1LDE0LjE4QzE1Ljc2LDE0LjQxIDE1LjUsMTQuNTkgMTUuMjQsMTQuNzFDMTQuOTUsMTQuODMgMTQuNjIsMTQuODkgMTQuMjUsMTQuODlIMTMuMzRWOS4xMkgxNC4zMUMxNS4wMyw5LjEyIDE1LjU4LDkuMzUgMTUuOTUsOS44MUMxNi4zMywxMC4yNyAxNi41LDEwLjkzIDE2LjUsMTEuOE0xMS45NSwwTDExLjI5LDAuMDNMMTUuMSwzLjg0TDE2LjQzLDIuNUMxOS43LDQuMDYgMjIuMDQsNy4yMyAyMi4zOSwxMUgyMy44OUMyMy4zOSw0Ljg0IDE4LjI0LDAgMTEuOTUsMFoiIC8+PC9zdmc+","name":"WithThreeJS","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/rotate-3d.svg","shortDescription":"Create a simple 3D scene.","version":"1.2.1","description":["Extension for GDevelop to create simple 3D scenes.  ","This extension is intended for easy and simple 3D rendering. It does not currently aim for realistic 3D rendering.  ","","## üìñ How to use  ","Check out this page.  ","[WithThreeJs Extension for GDevelop](https://pandako.itch.io/with-threejs-extension-for-gdevelop)  ","","## üç© Donation  ","Currently, I'm doing development in between jobs, but if many people support me, I will be able to devote more time to the development.  ","If you enjoy this extension, please consider [downloading the Example project file](https://pandako.itch.io/with-threejs-extension-for-gdevelop) to maintain this extension. (The Example project file will surely help you.üòâ)  ","","## Three.js  ","Copyright 2010-2022 Three.js Authors  ","https://github.com/mrdoob/three.js/blob/dev/LICENSE"],"tags":["3d"],"authorIds":["Zu55H5hcb9YmZTltIVOTAFDJQyB2"],"dependencies":[],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Three.js"},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"WithThreeJS"},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["gdjs.__WithThreeJS = new Map();\r","gdjs.__WithThreeJS.set(\"NoTHREE\", typeof THREE != \"object\");\r","gdjs.__WithThreeJS.set(\"BuiltIn3D\", (runtimeScene.getRenderer()._threeRenderer ? true : false));\r","if (gdjs.__WithThreeJS.get(\"NoTHREE\")) {\r","  return;\r","}\r","//\r","THREE.Cache.enabled = true;// „É≠„Éº„ÉÄ„Éº„ÅÆ„Åü„ÇÅ„Å´„Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆÊúâÂäπÂåñ\r","//\r","gdjs.__WithThreeJS.set(\"SceneIsReady\", false);\r","gdjs.__WithThreeJS.set(\"Blend2Dto3D\", [THREE.NormalBlending, THREE.AdditiveBlending, THREE.MultiplyBlending, THREE.NormalBlending, THREE.SubtractiveBlending]);// PixiJS„ÅÆSUBTRACT„ÅØ28\r","if (THREE.REVISION == \"152\") {\r","  gdjs.__WithThreeJS.set(\"LightIntensityScale\", 1);\r","  gdjs.__WithThreeJS.set(\"LightIntensityCandela\", 1);\r","} else {\r","  // >= \"160\"\r","  gdjs.__WithThreeJS.set(\"LightIntensityScale\", Math.PI);\r","  gdjs.__WithThreeJS.set(\"LightIntensityCandela\", 10000);//ÈÅ©ÂΩì\r","}\r","//\r","gdjs.__WithThreeJS.set(\"GetResourceFileName\", function(ResourceName, Kind) {\r","  for (const V of gdjs.projectData.resources.resources) {\r","    if (V.name === ResourceName && V.kind === Kind) {\r","      return V.file;\r","    }\r","  }\r","});\r","//\r","gdjs.__WithThreeJS.set(\"SettingRecursiveTextures\", function(Obj, Textures) {\r","  let TxNum = Textures.length;\r","  if (Obj.isMesh || Obj.isGroup || Obj.isObject3D) {\r","    if (Obj.material) {\r","      if (Array.isArray(Obj.material)) {\r","        for (let i = 0; i < Obj.material.length; i++) {\r","          if (i < TxNum && (Obj.material[i].map !== undefined)) {\r","            Obj.material[i].map = Textures[i];\r","          }\r","        }\r","      } else {\r","        if (Obj.material.map !== undefined) {\r","          Obj.material.map = Textures[0];\r","        }\r","      }\r","    }\r","    //\r","    for (let i = 0; i < Obj.children.length; i++) {\r","      gdjs.__WithThreeJS.get(\"SettingRecursiveTextures\")(Obj.children[i], Textures);\r","    }\r","  }\r","});\r","//\r","gdjs.__WithThreeJS.set(\"GetModelInfo\", function(Obj, T, Lv) {\r","  const Indent = \" \".repeat(Lv * 2);\r","  T += Indent + \"---\\n\";\r","  T += Indent + \"Name: \" + Obj.name + \"\\n\";\r","  T += Indent + \"Type: \" + Obj.type + \"\\n\";\r","  for (let i = 0; i < Obj.animations.length; i++) {\r","    T += Indent + \"Animation \" + i + \": \" + Obj.animations[i].name + \"\\n\";\r","  }\r","  if (Obj.material) {\r","    if (Array.isArray(Obj.material)) {\r","      for (let i = 0; i < Obj.material.length; i++) {\r","        T += Indent + \"Material \" + (i + 1) + \": \" + Obj.material[i].name + \"\\n\";\r","      }\r","    } else {\r","      T += Indent + \"Material 1: \" + Obj.material.name + \"\\n\";\r","    }\r","  }\r","  //\r","  for (let i = 0; i < Obj.children.length; i++) {\r","    T = gdjs.__WithThreeJS.get(\"GetModelInfo\")(Obj.children[i], T, Lv + 1);\r","  }\r","  return T;\r","});\r","//\r","/*\r","gdjs.__WithThreeJS.set(\"AllMaterialClone\", function(Obj, Transparent, AlphaTest, Blend, Opacity) {\r","  if (Obj.material) {\r","    if (Array.isArray(Obj.material)) {\r","      for (let i = 0; i < Obj.material.length; i++) {\r","        const CloneMaterial = Obj.material[i].clone();\r","        Obj.material[i] = CloneMaterial;\r","        Obj.material[i].transparent = Transparent;\r","        Obj.material[i].alphaTest = AlphaTest;\r","        Obj.material[i].blending = Blend;\r","        Obj.material[i].opacity = Opacity;\r","      }\r","    } else {\r","      const CloneMaterial = Obj.material.clone();\r","      Obj.material = CloneMaterial;\r","      Obj.material.transparent = Transparent;\r","      Obj.material.alphaTest = AlphaTest;\r","      Obj.material.blending = Blend;\r","      Obj.material.opacity = Opacity;\r","    }\r","  }\r","  //\r","  for (let i = 0; i < Obj.children.length; i++) {\r","    gdjs.__WithThreeJS.get(\"AllMaterialClone\")(Obj.children[i], Transparent, AlphaTest, Blend, Opacity);\r","  }\r","});\r","*/\r","// „Éû„ÉÜ„É™„Ç¢„É´„ÅÆ„É™„Çπ„Éà„Ç¢„ÉÉ„Éó\r","gdjs.__WithThreeJS.set(\"GetAllMaterials\", function(Obj, Mats) {\r","  if (Obj.material) {\r","    if (Array.isArray(Obj.material)) {\r","      for (let i = 0; i < Obj.material.length; i++) {\r","        if (!Mats.has(Obj.material[i].uuid)) {\r","          Mats.set(Obj.material[i].uuid, Obj.material[i]);\r","        }\r","      }\r","    } else {\r","      if (!Mats.has(Obj.material.uuid)) {\r","        Mats.set(Obj.material.uuid, Obj.material);\r","      }\r","    }\r","  }\r","  //\r","  for (let i = 0; i < Obj.children.length; i++) {\r","    gdjs.__WithThreeJS.get(\"GetAllMaterials\")(Obj.children[i], Mats);\r","  }\r","});\r","// „Éû„ÉÜ„É™„Ç¢„É´„É™„Çπ„Éà„Å´„Çà„ÇãÂ∑Æ„ÅóÊõø„Åà\r","gdjs.__WithThreeJS.set(\"ReplaceMaterial\", function(Obj, Mats) {\r","  if (Obj.material) {\r","    if (Array.isArray(Obj.material)) {\r","      for (let i = 0; i < Obj.material.length; i++) {\r","        if (Mats.has(Obj.material[i].uuid)) {\r","          Obj.material[i] = Mats.get(Obj.material[i].uuid);\r","        }\r","      }\r","    } else {\r","      if (Mats.has(Obj.material.uuid)) {\r","        Obj.material = Mats.get(Obj.material.uuid);\r","      }\r","    }\r","  }\r","  //\r","  for (let i = 0; i < Obj.children.length; i++) {\r","    gdjs.__WithThreeJS.get(\"ReplaceMaterial\")(Obj.children[i], Mats);\r","  }\r","});\r","//\r","gdjs.__WithThreeJS.set(\"GetAllObjectsName\", function(Obj, T, Lv) {\r","  const Indent = \" \".repeat(Lv * 2);\r","  T += Indent + \"ID: \" + Obj.name + \"\\n\";\r","  //\r","  for (let i = 0; i < Obj.children.length; i++) {\r","    T = gdjs.__WithThreeJS.get(\"GetAllObjectsName\")(Obj.children[i], T, Lv + 1);\r","  }\r","  return T;\r","});\r","//\r","gdjs.__WithThreeJS.set(\"AllMaterialDispose\", function(Obj) {\r","  if (Obj.material) {\r","    if (Array.isArray(Obj.material)) {\r","      for (let i = Obj.material.length - 1; i >= 0; i--){\r","        Obj.material[i].dispose();\r","      }\r","    } else {\r","      Obj.material.dispose();\r","    }\r","  }\r","  //\r","  for (let i = 0; i < Obj.children.length; i++) {\r","    gdjs.__WithThreeJS.get(\"AllMaterialDispose\")(Obj.children[i]);\r","  }\r","});\r","//\r","gdjs.__WithThreeJS.set(\"AllSoundsStop\", function(Obj) {\r","  if (Obj.type === \"Audio\") {\r","    if (Obj.isPlaying) {\r","      Obj.stop();\r","    }\r","  }\r","  //\r","  for (let i = 0; i < Obj.children.length; i++) {\r","    gdjs.__WithThreeJS.get(\"AllSoundsStop\")(Obj.children[i]);\r","  }\r","});\r","//\r","gdjs.__WithThreeJS.set(\"GetSingleRadian3\", function(Obj) {\r","  /*\r","  XYZ„Åù„Çå„Åû„ÇåÁã¨Á´ã„Åó„Å¶Ê±Ç„ÇÅ„Å¶„ÅÑ„Çã„ÅÆ„Åß„ÄÅÁµÑ„ÅøÂêà„Çè„Åõ„Å¶‰ΩøÁî®„Åô„Çã„Åì„Å®„ÅØ„Åß„Åç„Å™„ÅÑ„ÄÇ\r","  ‰æã„Åà„Å∞Êµ∑ËÄÅÂèç„ÇäË¶ñÁÇπ„ÅØ„Åì„Çå„ÅßÊ±Ç„ÇÅ„ÅüXYZ„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Å¶„ÇÇÂÜçÁèæ„Åß„Åç„Å™„ÅÑ„ÄÇ\r","  */\r","  const HalfPi = Math.PI / 2;/* Pi / 2 = 90Â∫¶ */\r","  // X\r","  // „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆË¶ñÁÇπÊñπÂêë„Éô„ÇØ„Éà„É´„Å®‰∏äÊñπÂêë„Éô„ÇØ„Éà„É´„Çí‰ΩúÊàê\r","  const DirObj = new THREE.Vector3(0, 0, -1);\r","  DirObj.applyQuaternion(Obj.quaternion);\r","  const UpObj = new THREE.Vector3(0, 1, 0);\r","  UpObj.applyQuaternion(Obj.quaternion);\r","  // È†≠„Çí‰∏ä„Å´Âêë„Åë„Å¶Ë¶ñÁÇπÊñπÂêë„Éô„ÇØ„Éà„É´„ÇíÂêë„ÅÑ„Å¶„ÅÑ„ÇãÊØîËºÉÁî®„ÅÆM4„Çí‰ΩúÊàê\r","  const M4 = new THREE.Matrix4();\r","  M4.lookAt(new THREE.Vector3(), DirObj, new THREE.Vector3(0, 1, 0));\r","  // M4„Åã„ÇâQua„Çí‰ΩúÊàê„Åó„ÄÅ„Åï„Çâ„Å´ÊØîËºÉÁî®„ÅÆ‰∏äÊñπÂêë„Éô„ÇØ„Éà„É´„Çí‰ΩúÊàê\r","  const Qua = new THREE.Quaternion();\r","  Qua.setFromRotationMatrix(M4);\r","  const Up = new THREE.Vector3(0, 1, 0);\r","  Up.applyQuaternion(Qua);\r","  // ÊñπÂêë„Éô„ÇØ„Éà„É´„ÇíÂπ≥Èù¢„Å´ÊäïÂΩ±„Åó„Åü„Éô„ÇØ„Éà„É´„Çí‰ΩúÊàê\r","  const DirObjY0 = DirObj.clone();\r","  DirObjY0.y = 0;// DirObjY0.projectOnPlane(new THREE.Vector3(0, 1, 0));// y=0„ÅÆ„Åª„ÅÜ„ÅåÂçòÁ¥î\r","  DirObjY0.normalize();\r","  // X„É©„Ç∏„Ç¢„É≥\r","  let RadX = DirObjY0.angleTo(DirObj);\r","  // Êµ∑ËÄÅÂèç„ÇäË¶ñÁÇπ„ÅÆÂ†¥ÂêàÔºà‰∏äÊñπÂêë„Å®ÊØîËºÉÁî®‰∏äÊñπÂêë„ÅÆÂ∑Æ„Åß90Â∫¶„Ç™„Éº„Éê„Éº„Åó„Å¶„ÅÑ„Çã„Åã„ÇíÂà§ÂÆöÔºâ\r","  const UpToUp = UpObj.angleTo(Up);\r","  if (UpToUp >= HalfPi) {\r","    RadX = (HalfPi - RadX) + HalfPi;\r","  }\r","  // +-ÊñπÂêëÂà§ÂÆö\r","  if (DirObj.y < 0) {\r","    RadX *= -1;\r","  }\r","  //\r","  // Y\r","  let RadY = new THREE.Vector3(0, 0, -1).angleTo(DirObjY0);\r","  if (DirObj.x > 0) {\r","    RadY *= -1;\r","  }\r","  //\r","  // Z\r","  let RadZ = UpToUp;\r","  // Â§ñÁ©ç„Å®Ë¶ñÁÇπ„ÅÆËßíÂ∫¶Â∑Æ„Åß+-„ÇíÂà§Êñ≠\r","  const Cross = new THREE.Vector3();\r","  Cross.crossVectors(UpObj, Up);\r","  if (Cross.angleTo(DirObj) >= HalfPi) {\r","    RadZ *= -1;\r","  }\r","  //\r","  return new THREE.Vector3(RadX, RadY, RadZ);\r","});\r","//\r","gdjs.__WithThreeJS.set(\"SetBoundingBoxCollisionResult\", function(Obj1, Obj2) {\r","  if (!gdjs.__WithThreeJS.has(\"BoundingBoxCollisionResult\")) {\r","      gdjs.__WithThreeJS.set(\"BoundingBoxCollisionResult\", {});\r","  }\r","  const BoundingBoxCollisionResult = gdjs.__WithThreeJS.get(\"BoundingBoxCollisionResult\");\r","  BoundingBoxCollisionResult.Hit = false;\r","  BoundingBoxCollisionResult.CenterX = 0;\r","  BoundingBoxCollisionResult.CenterY = 0;\r","  BoundingBoxCollisionResult.CenterZ = 0;\r","  BoundingBoxCollisionResult.SizeX = 0;\r","  BoundingBoxCollisionResult.SizeY = 0;\r","  BoundingBoxCollisionResult.SizeZ = 0;\r","  BoundingBoxCollisionResult.MoveX = 0;\r","  BoundingBoxCollisionResult.MoveY = 0;\r","  BoundingBoxCollisionResult.MoveZ = 0;\r","  //\r","  // geometry„ÇíÊåÅ„Åü„Å™„ÅÑÂ†¥Âêà„ÇíÂõûÈÅø„ÄÇ„Å™„Åú„ÅãSprite„Å´„ÅØgeometry„Åå„ÅÇ„Çã\r","  const Geo1 = Obj1.geometry;\r","  const Geo2 = Obj2.geometry;\r","  if (!Geo1 || !Geo2) {\r","      console.warn(\"Geometry not found.\");\r","      return BoundingBoxCollisionResult;\r","  }\r","  //\r","  const Box1 = new THREE.Box3();\r","  const Box2 = new THREE.Box3();\r","  // Box1.setFromObject(Obj1, false);\r","  // Box2.setFromObject(Obj2, false);\r","  Obj1.updateMatrixWorld(true);//ÂøÖË¶Å\r","  Obj2.updateMatrixWorld(true);//ÂøÖË¶Å\r","  Box1.copy(Geo1.boundingBox).applyMatrix4(Obj1.matrixWorld);\r","  Box2.copy(Geo2.boundingBox).applyMatrix4(Obj2.matrixWorld);\r","  //\r","  const HitBox = Box1.clone();\r","  HitBox.intersect(Box2);\r","  if (HitBox.isEmpty()) {\r","      return BoundingBoxCollisionResult;\r","  }\r","  //\r","  const Box1Center = new THREE.Vector3();\r","  const Box2Center = new THREE.Vector3();\r","  const HitCenter = new THREE.Vector3();\r","  const HitSize = new THREE.Vector3();\r","  Box1.getCenter(Box1Center);\r","  Box2.getCenter(Box2Center);\r","  HitBox.getCenter(HitCenter);\r","  HitBox.getSize(HitSize);\r","  //\r","  let MoveValue = {x:0, y:0, z:0};\r","  if (HitSize.x <= HitSize.y && HitSize.x <= HitSize.z) {\r","      if (Box1Center.x > Box2Center.x) {\r","          MoveValue.x = HitSize.x;\r","      } else {\r","          MoveValue.x = HitSize.x * -1;\r","      }\r","  } else if (HitSize.y <= HitSize.x && HitSize.y <= HitSize.z) {\r","      if (Box1Center.y > Box2Center.y) {\r","          MoveValue.y = HitSize.y;\r","      } else {\r","          MoveValue.y = HitSize.y * -1;\r","      }\r","  } else if (HitSize.z <= HitSize.x && HitSize.z <= HitSize.y) {\r","      if (Box1Center.z > Box2Center.z) {\r","          MoveValue.z = HitSize.z;\r","      } else {\r","          MoveValue.z = HitSize.z * -1;\r","      }\r","  }\r","  //\r","  BoundingBoxCollisionResult.Hit = true;\r","  BoundingBoxCollisionResult.CenterX = HitCenter.x;\r","  BoundingBoxCollisionResult.CenterY = HitCenter.y;\r","  BoundingBoxCollisionResult.CenterZ = HitCenter.z;\r","  BoundingBoxCollisionResult.SizeX = HitSize.x;\r","  BoundingBoxCollisionResult.SizeY = HitSize.y;\r","  BoundingBoxCollisionResult.SizeZ = HitSize.z;\r","  BoundingBoxCollisionResult.MoveX = MoveValue.x;\r","  BoundingBoxCollisionResult.MoveY = MoveValue.y;\r","  BoundingBoxCollisionResult.MoveZ = MoveValue.z;\r","  return BoundingBoxCollisionResult;\r","});\r","//\r","gdjs.__WithThreeJS.set(\"GetCamera\", function(Id) {\r","  const AllCams = gdjs.__WithThreeJS.get(\"AllCams\");\r","  return AllCams.get(\"Camera\" + gdjs.evtTools.common.clamp(Id, 1, 4));\r","});\r","//\r","gdjs.__WithThreeJS.set(\"SetAllOpacity\", function(Obj, Operator, Opacity) {\r","  if (Obj.material) {\r","    if (Array.isArray(Obj.material)) {\r","      for (let i = 0; i < Obj.material.length; i++) {\r","        // Obj.material[i].transparent = (Obj.material[i].alphaTest !== 0 || Opacity !== 1);\r","        if (!Obj.material[i].transparent) {\r","          Obj.material[i].transparent = true;\r","          Obj.material[i].needsUpdate = true;\r","        }\r","        if (Operator == \"=\") {\r","          Obj.material[i].opacity = Opacity;\r","        } else if (Operator == \"+\") {\r","          Obj.material[i].opacity += Opacity;\r","        } else {\r","          Obj.material[i].opacity -= Opacity;\r","        }\r","        if (Obj.material[i].opacity < 0) Obj.material[i].opacity = 0;\r","        if (Obj.material[i].opacity > 1) Obj.material[i].opacity = 1;\r","      }\r","    } else {\r","      // Obj.material.transparent = (Obj.material.alphaTest !== 0 || Opacity !== 1);\r","      if (!Obj.material.transparent) {\r","        Obj.material.transparent = true;\r","        Obj.material.needsUpdate = true;\r","      }\r","      if (Operator == \"=\") {\r","        Obj.material.opacity = Opacity;\r","      } else if (Operator == \"+\") {\r","        Obj.material.opacity += Opacity;\r","      } else {\r","        Obj.material.opacity -= Opacity;\r","      }\r","      if (Obj.material.opacity < 0) Obj.material.opacity = 0;\r","      if (Obj.material.opacity > 1) Obj.material.opacity = 1;\r","    }\r","  }\r","  //\r","  for (let i = 0; i < Obj.children.length; i++) {\r","    gdjs.__WithThreeJS.get(\"SetAllOpacity\")(Obj.children[i], Operator, Opacity);\r","  }\r","});\r","//\r","gdjs.__WithThreeJS.set(\"SetAllDepthWrite\", function(Obj, Write) {\r","  if (Obj.material) {\r","    if (Array.isArray(Obj.material)) {\r","      for (let i = 0; i < Obj.material.length; i++) {\r","        Obj.material[i].depthWrite = Write;\r","      }\r","    } else {\r","      Obj.material.depthWrite = Write;\r","    }\r","  }\r","  //\r","  for (let i = 0; i < Obj.children.length; i++) {\r","    gdjs.__WithThreeJS.get(\"SetAllDepthWrite\")(Obj.children[i], Write);\r","  }\r","});\r","//\r","gdjs.__WithThreeJS.set(\"AddSuffixToAllIds\", function(Obj, Suffix) {\r","  // !Obj.isLight && !Obj.isLine && !Obj.isSkinnedMesh && !Obj.isBone\r","  // Obj.type != \"Audio\"\r","  if (!Obj.isCamera && !Obj.isScene) {\r","    Obj.name += Suffix;\r","  }\r","  //\r","  for (let i = 0; i < Obj.children.length; i++) {\r","    gdjs.__WithThreeJS.get(\"AddSuffixToAllIds\")(Obj.children[i], Suffix);\r","  }\r","});\r","//\r","gdjs.__WithThreeJS.set(\"SetAllBlendMode\", function(Obj, Blend) {\r","  if (Obj.material) {\r","    if (Array.isArray(Obj.material)) {\r","      for (let i = 0; i < Obj.material.length; i++) {\r","        Obj.material[i].blending = Blend;\r","      }\r","    } else {\r","      Obj.material.blending = Blend;\r","    }\r","  }\r","  //\r","  for (let i = 0; i < Obj.children.length; i++) {\r","    gdjs.__WithThreeJS.get(\"SetAllBlendMode\")(Obj.children[i], Blend);\r","  }\r","});\r","\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"OBJLoader (Custom)"},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// Custom","if (gdjs.__WithThreeJS.get(\"NoTHREE\")) {","  return;","}","//","( function () {","","\tconst _object_pattern = /^[og]\\s*(.+)?/; // mtllib file_reference","","\tconst _material_library_pattern = /^mtllib /; // usemtl material_name","","\tconst _material_use_pattern = /^usemtl /; // usemap map_name","","\tconst _map_use_pattern = /^usemap /;","\tconst _face_vertex_data_separator_pattern = /\\s+/;","","\tconst _vA = new THREE.Vector3();","","\tconst _vB = new THREE.Vector3();","","\tconst _vC = new THREE.Vector3();","","\tconst _ab = new THREE.Vector3();","","\tconst _cb = new THREE.Vector3();","","\tconst _color = new THREE.Color();","","\tfunction ParserState() {","","\t\tconst state = {","\t\t\tobjects: [],","\t\t\tobject: {},","\t\t\tvertices: [],","\t\t\tnormals: [],","\t\t\tcolors: [],","\t\t\tuvs: [],","\t\t\tmaterials: {},","\t\t\tmaterialLibraries: [],","\t\t\tstartObject: function ( name, fromDeclaration ) {","","\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed","\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.","\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {","","\t\t\t\t\tthis.object.name = name;","\t\t\t\t\tthis.object.fromDeclaration = fromDeclaration !== false;","\t\t\t\t\treturn;","","\t\t\t\t}","","\t\t\t\tconst previousMaterial = this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined;","","\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {","","\t\t\t\t\tthis.object._finalize( true );","","\t\t\t\t}","","\t\t\t\tthis.object = {","\t\t\t\t\tname: name || '',","\t\t\t\t\tfromDeclaration: fromDeclaration !== false,","\t\t\t\t\tgeometry: {","\t\t\t\t\t\tvertices: [],","\t\t\t\t\t\tnormals: [],","\t\t\t\t\t\tcolors: [],","\t\t\t\t\t\tuvs: [],","\t\t\t\t\t\thasUVIndices: false","\t\t\t\t\t},","\t\t\t\t\tmaterials: [],","\t\t\t\t\tsmooth: true,","\t\t\t\t\tstartMaterial: function ( name, libraries ) {","","\t\t\t\t\t\tconst previous = this._finalize( false ); // New usemtl declaration overwrites an inherited material, except if faces were declared","\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.","","","\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {","","\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );","","\t\t\t\t\t\t}","","\t\t\t\t\t\tconst material = {","\t\t\t\t\t\t\tindex: this.materials.length,","\t\t\t\t\t\t\tname: name || '',","\t\t\t\t\t\t\tmtllib: Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '',","\t\t\t\t\t\t\tsmooth: previous !== undefined ? previous.smooth : this.smooth,","\t\t\t\t\t\t\tgroupStart: previous !== undefined ? previous.groupEnd : 0,","\t\t\t\t\t\t\tgroupEnd: - 1,","\t\t\t\t\t\t\tgroupCount: - 1,","\t\t\t\t\t\t\tinherited: false,","\t\t\t\t\t\t\tclone: function ( index ) {","","\t\t\t\t\t\t\t\tconst cloned = {","\t\t\t\t\t\t\t\t\tindex: typeof index === 'number' ? index : this.index,","\t\t\t\t\t\t\t\t\tname: this.name,","\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,","\t\t\t\t\t\t\t\t\tsmooth: this.smooth,","\t\t\t\t\t\t\t\t\tgroupStart: 0,","\t\t\t\t\t\t\t\t\tgroupEnd: - 1,","\t\t\t\t\t\t\t\t\tgroupCount: - 1,","\t\t\t\t\t\t\t\t\tinherited: false","\t\t\t\t\t\t\t\t};","\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );","\t\t\t\t\t\t\t\treturn cloned;","","\t\t\t\t\t\t\t}","\t\t\t\t\t\t};","\t\t\t\t\t\tthis.materials.push( material );","\t\t\t\t\t\treturn material;","","\t\t\t\t\t},","\t\t\t\t\tcurrentMaterial: function () {","","\t\t\t\t\t\tif ( this.materials.length > 0 ) {","","\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];","","\t\t\t\t\t\t}","","\t\t\t\t\t\treturn undefined;","","\t\t\t\t\t},","\t\t\t\t\t_finalize: function ( end ) {","","\t\t\t\t\t\tconst lastMultiMaterial = this.currentMaterial();","","\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {","","\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;","\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;","\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;","","\t\t\t\t\t\t} // Ignore objects tail materials if no face declarations followed them before a new o/g started.","","","\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {","","\t\t\t\t\t\t\tfor ( let mi = this.materials.length - 1; mi >= 0; mi -- ) {","","\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {","","\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );","","\t\t\t\t\t\t\t\t}","","\t\t\t\t\t\t\t}","","\t\t\t\t\t\t} // Guarantee at least one empty material, this makes the creation later more straight forward.","","","\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {","","\t\t\t\t\t\t\tthis.materials.push( {","\t\t\t\t\t\t\t\tname: '',","\t\t\t\t\t\t\t\tsmooth: this.smooth","\t\t\t\t\t\t\t} );","","\t\t\t\t\t\t}","","\t\t\t\t\t\treturn lastMultiMaterial;","","\t\t\t\t\t}","\t\t\t\t}; // Inherit previous objects material.","\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.","\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will","\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations","\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.","","\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {","","\t\t\t\t\tconst declared = previousMaterial.clone( 0 );","\t\t\t\t\tdeclared.inherited = true;","\t\t\t\t\tthis.object.materials.push( declared );","","\t\t\t\t}","","\t\t\t\tthis.objects.push( this.object );","","\t\t\t},","\t\t\tfinalize: function () {","","\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {","","\t\t\t\t\tthis.object._finalize( true );","","\t\t\t\t}","","\t\t\t},","\t\t\tparseVertexIndex: function ( value, len ) {","","\t\t\t\tconst index = parseInt( value, 10 );","\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;","","\t\t\t},","\t\t\tparseNormalIndex: function ( value, len ) {","","\t\t\t\tconst index = parseInt( value, 10 );","\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;","","\t\t\t},","\t\t\tparseUVIndex: function ( value, len ) {","","\t\t\t\tconst index = parseInt( value, 10 );","\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;","","\t\t\t},","\t\t\taddVertex: function ( a, b, c ) {","","\t\t\t\tconst src = this.vertices;","\t\t\t\tconst dst = this.object.geometry.vertices;","\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );","\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );","\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );","","\t\t\t},","\t\t\taddVertexPoint: function ( a ) {","","\t\t\t\tconst src = this.vertices;","\t\t\t\tconst dst = this.object.geometry.vertices;","\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );","","\t\t\t},","\t\t\taddVertexLine: function ( a ) {","","\t\t\t\tconst src = this.vertices;","\t\t\t\tconst dst = this.object.geometry.vertices;","\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );","","\t\t\t},","\t\t\taddNormal: function ( a, b, c ) {","","\t\t\t\tconst src = this.normals;","\t\t\t\tconst dst = this.object.geometry.normals;","\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );","\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );","\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );","","\t\t\t},","\t\t\taddFaceNormal: function ( a, b, c ) {","","\t\t\t\tconst src = this.vertices;","\t\t\t\tconst dst = this.object.geometry.normals;","","\t\t\t\t_vA.fromArray( src, a );","","\t\t\t\t_vB.fromArray( src, b );","","\t\t\t\t_vC.fromArray( src, c );","","\t\t\t\t_cb.subVectors( _vC, _vB );","","\t\t\t\t_ab.subVectors( _vA, _vB );","","\t\t\t\t_cb.cross( _ab );","","\t\t\t\t_cb.normalize();","","\t\t\t\tdst.push( _cb.x, _cb.y, _cb.z );","\t\t\t\tdst.push( _cb.x, _cb.y, _cb.z );","\t\t\t\tdst.push( _cb.x, _cb.y, _cb.z );","","\t\t\t},","\t\t\taddColor: function ( a, b, c ) {","","\t\t\t\tconst src = this.colors;","\t\t\t\tconst dst = this.object.geometry.colors;","\t\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );","\t\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );","\t\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );","","\t\t\t},","\t\t\taddUV: function ( a, b, c ) {","","\t\t\t\tconst src = this.uvs;","\t\t\t\tconst dst = this.object.geometry.uvs;","\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );","\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );","\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );","","\t\t\t},","\t\t\taddDefaultUV: function () {","","\t\t\t\tconst dst = this.object.geometry.uvs;","\t\t\t\tdst.push( 0, 0 );","\t\t\t\tdst.push( 0, 0 );","\t\t\t\tdst.push( 0, 0 );","","\t\t\t},","\t\t\taddUVLine: function ( a ) {","","\t\t\t\tconst src = this.uvs;","\t\t\t\tconst dst = this.object.geometry.uvs;","\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );","","\t\t\t},","\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {","","\t\t\t\tconst vLen = this.vertices.length;","\t\t\t\tlet ia = this.parseVertexIndex( a, vLen );","\t\t\t\tlet ib = this.parseVertexIndex( b, vLen );","\t\t\t\tlet ic = this.parseVertexIndex( c, vLen );","\t\t\t\tthis.addVertex( ia, ib, ic );","\t\t\t\tthis.addColor( ia, ib, ic ); // normals","","\t\t\t\tif ( na !== undefined && na !== '' ) {","","\t\t\t\t\tconst nLen = this.normals.length;","\t\t\t\t\tia = this.parseNormalIndex( na, nLen );","\t\t\t\t\tib = this.parseNormalIndex( nb, nLen );","\t\t\t\t\tic = this.parseNormalIndex( nc, nLen );","\t\t\t\t\tthis.addNormal( ia, ib, ic );","","\t\t\t\t} else {","","\t\t\t\t\tthis.addFaceNormal( ia, ib, ic );","","\t\t\t\t} // uvs","","","\t\t\t\tif ( ua !== undefined && ua !== '' ) {","","\t\t\t\t\tconst uvLen = this.uvs.length;","\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );","\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );","\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );","\t\t\t\t\tthis.addUV( ia, ib, ic );","\t\t\t\t\tthis.object.geometry.hasUVIndices = true;","","\t\t\t\t} else {","","\t\t\t\t\t// add placeholder values (for inconsistent face definitions)","\t\t\t\t\tthis.addDefaultUV();","","\t\t\t\t}","","\t\t\t},","\t\t\taddPointGeometry: function ( vertices ) {","","\t\t\t\tthis.object.geometry.type = 'Points';","\t\t\t\tconst vLen = this.vertices.length;","","\t\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {","","\t\t\t\t\tconst index = this.parseVertexIndex( vertices[ vi ], vLen );","\t\t\t\t\tthis.addVertexPoint( index );","\t\t\t\t\tthis.addColor( index );","","\t\t\t\t}","","\t\t\t},","\t\t\taddLineGeometry: function ( vertices, uvs ) {","","\t\t\t\tthis.object.geometry.type = 'Line';","\t\t\t\tconst vLen = this.vertices.length;","\t\t\t\tconst uvLen = this.uvs.length;","","\t\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {","","\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );","","\t\t\t\t}","","\t\t\t\tfor ( let uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {","","\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );","","\t\t\t\t}","","\t\t\t}","\t\t};","\t\tstate.startObject( '', false );","\t\treturn state;","","\t} //","","","\tclass OBJLoader extends THREE.Loader {","","\t\tconstructor( manager ) {","","\t\t\tsuper( manager );","\t\t\tthis.materials = null;","","\t\t}","","\t\tload( url, onLoad, onProgress, onError ) {","","\t\t\tconst scope = this;","\t\t\tconst loader = new THREE.FileLoader( this.manager );","\t\t\tloader.setPath( this.path );","\t\t\tloader.setRequestHeader( this.requestHeader );","\t\t\tloader.setWithCredentials( this.withCredentials );","\t\t\tloader.load( url, function ( text ) {","","\t\t\t\ttry {","","\t\t\t\t\tonLoad( scope.parse( text ) );","","\t\t\t\t} catch ( e ) {","","\t\t\t\t\tif ( onError ) {","","\t\t\t\t\t\tonError( e );","","\t\t\t\t\t} else {","","\t\t\t\t\t\tconsole.error( e );","","\t\t\t\t\t}","","\t\t\t\t\tscope.manager.itemError( url );","","\t\t\t\t}","","\t\t\t}, onProgress, onError );","","\t\t}","","\t\tsetMaterials( materials ) {","","\t\t\tthis.materials = materials;","\t\t\treturn this;","","\t\t}","","\t\tparse( text ) {","","\t\t\tconst state = new ParserState();","","\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {","","\t\t\t\t// This is faster than String.split with regex that splits on both","\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );","","\t\t\t}","","\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {","","\t\t\t\t// join lines separated by a line continuation character (\\)","\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );","","\t\t\t}","","\t\t\tconst lines = text.split( '\\n' );","\t\t\tlet result = [];","","\t\t\tfor ( let i = 0, l = lines.length; i < l; i ++ ) {","","\t\t\t\tconst line = lines[ i ].trimStart();","\t\t\t\tif ( line.length === 0 ) continue;","\t\t\t\tconst lineFirstChar = line.charAt( 0 ); // @todo invoke passed in handler if any","","\t\t\t\tif ( lineFirstChar === '#' ) continue;","","\t\t\t\tif ( lineFirstChar === 'v' ) {","","\t\t\t\t\tconst data = line.split( _face_vertex_data_separator_pattern );","","\t\t\t\t\tswitch ( data[ 0 ] ) {","","\t\t\t\t\t\tcase 'v':","\t\t\t\t\t\t\tstate.vertices.push( parseFloat( data[ 1 ] ), parseFloat( data[ 2 ] ), parseFloat( data[ 3 ] ) );","","\t\t\t\t\t\t\tif ( data.length >= 7 ) {","","\t\t\t\t\t\t\t\t_color.setRGB( parseFloat( data[ 4 ] ), parseFloat( data[ 5 ] ), parseFloat( data[ 6 ] ) ).convertSRGBToLinear();","","\t\t\t\t\t\t\t\tstate.colors.push( _color.r, _color.g, _color.b );","","\t\t\t\t\t\t\t} else {","","\t\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match","\t\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );","","\t\t\t\t\t\t\t}","","\t\t\t\t\t\t\tbreak;","","\t\t\t\t\t\tcase 'vn':","\t\t\t\t\t\t\tstate.normals.push( parseFloat( data[ 1 ] ), parseFloat( data[ 2 ] ), parseFloat( data[ 3 ] ) );","\t\t\t\t\t\t\tbreak;","","\t\t\t\t\t\tcase 'vt':","\t\t\t\t\t\t\tstate.uvs.push( parseFloat( data[ 1 ] ), parseFloat( data[ 2 ] ) );","\t\t\t\t\t\t\tbreak;","","\t\t\t\t\t}","","\t\t\t\t} else if ( lineFirstChar === 'f' ) {","","\t\t\t\t\tconst lineData = line.slice( 1 ).trim();","\t\t\t\t\tconst vertexData = lineData.split( _face_vertex_data_separator_pattern );","\t\t\t\t\tconst faceVertices = []; // Parse the face vertex data into an easy to work with format","","\t\t\t\t\tfor ( let j = 0, jl = vertexData.length; j < jl; j ++ ) {","","\t\t\t\t\t\tconst vertex = vertexData[ j ];","","\t\t\t\t\t\tif ( vertex.length > 0 ) {","","\t\t\t\t\t\t\tconst vertexParts = vertex.split( '/' );","\t\t\t\t\t\t\tfaceVertices.push( vertexParts );","","\t\t\t\t\t\t}","","\t\t\t\t\t} // Draw an edge between the first vertex and all subsequent vertices to form an n-gon","","","\t\t\t\t\tconst v1 = faceVertices[ 0 ];","","\t\t\t\t\tfor ( let j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {","","\t\t\t\t\t\tconst v2 = faceVertices[ j ];","\t\t\t\t\t\tconst v3 = faceVertices[ j + 1 ];","\t\t\t\t\t\tstate.addFace( v1[ 0 ], v2[ 0 ], v3[ 0 ], v1[ 1 ], v2[ 1 ], v3[ 1 ], v1[ 2 ], v2[ 2 ], v3[ 2 ] );","","\t\t\t\t\t}","","\t\t\t\t} else if ( lineFirstChar === 'l' ) {","","\t\t\t\t\tconst lineParts = line.substring( 1 ).trim().split( ' ' );","\t\t\t\t\tlet lineVertices = [];","\t\t\t\t\tconst lineUVs = [];","","\t\t\t\t\tif ( line.indexOf( '/' ) === - 1 ) {","","\t\t\t\t\t\tlineVertices = lineParts;","","\t\t\t\t\t} else {","","\t\t\t\t\t\tfor ( let li = 0, llen = lineParts.length; li < llen; li ++ ) {","","\t\t\t\t\t\t\tconst parts = lineParts[ li ].split( '/' );","\t\t\t\t\t\t\tif ( parts[ 0 ] !== '' ) lineVertices.push( parts[ 0 ] );","\t\t\t\t\t\t\tif ( parts[ 1 ] !== '' ) lineUVs.push( parts[ 1 ] );","","\t\t\t\t\t\t}","","\t\t\t\t\t}","","\t\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );","","\t\t\t\t} else if ( lineFirstChar === 'p' ) {","","\t\t\t\t\tconst lineData = line.slice( 1 ).trim();","\t\t\t\t\tconst pointData = lineData.split( ' ' );","\t\t\t\t\tstate.addPointGeometry( pointData );","","\t\t\t\t} else if ( ( result = _object_pattern.exec( line ) ) !== null ) {","","\t\t\t\t\t// o object_name","\t\t\t\t\t// or","\t\t\t\t\t// g group_name","\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869","\t\t\t\t\t// let name = result[ 0 ].slice( 1 ).trim();","\t\t\t\t\tconst name = ( ' ' + result[ 0 ].slice( 1 ).trim() ).slice( 1 );","\t\t\t\t\tstate.startObject( name );","","\t\t\t\t} else if ( _material_use_pattern.test( line ) ) {","","\t\t\t\t\t// material","\t\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );","","\t\t\t\t} else if ( _material_library_pattern.test( line ) ) {","","\t\t\t\t\t// mtl file","\t\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );","","\t\t\t\t} else if ( _map_use_pattern.test( line ) ) {","","\t\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files","\t\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)","\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );","","\t\t\t\t} else if ( lineFirstChar === 's' ) {","","\t\t\t\t\tresult = line.split( ' ' ); // smooth shading","\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,","\t\t\t\t\t// but does not define a usemtl for each face set.","\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).","\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.","\t\t\t\t\t// where explicit usemtl defines geometry groups.","\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj","","\t\t\t\t\t/*","        \t * http://paulbourke.net/dataformats/obj/","        \t *","        \t * From chapter \"Grouping\" Syntax explanation \"s group_number\":","        \t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.","        \t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form","        \t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater","        \t * than 0.\"","        \t */","","\t\t\t\t\tif ( result.length > 1 ) {","","\t\t\t\t\t\tconst value = result[ 1 ].trim().toLowerCase();","\t\t\t\t\t\tstate.object.smooth = value !== '0' && value !== 'off';","","\t\t\t\t\t} else {","","\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707","\t\t\t\t\t\tstate.object.smooth = true;","","\t\t\t\t\t}","","\t\t\t\t\tconst material = state.object.currentMaterial();","\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;","","\t\t\t\t} else {","","\t\t\t\t\t// Handle null terminated files without exception","\t\t\t\t\tif ( line === '\\0' ) continue;","\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );","","\t\t\t\t}","","\t\t\t}","","\t\t\tstate.finalize();","\t\t\tconst container = new THREE.Group();","\t\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );","\t\t\tconst hasPrimitives = ! ( state.objects.length === 1 && state.objects[ 0 ].geometry.vertices.length === 0 );","","\t\t\tif ( hasPrimitives === true ) {","","\t\t\t\tfor ( let i = 0, l = state.objects.length; i < l; i ++ ) {","","\t\t\t\t\tconst object = state.objects[ i ];","\t\t\t\t\tconst geometry = object.geometry;","\t\t\t\t\tconst materials = object.materials;","\t\t\t\t\tconst isLine = geometry.type === 'Line';","\t\t\t\t\tconst isPoints = geometry.type === 'Points';","\t\t\t\t\tlet hasVertexColors = false; // Skip o/g line declarations that did not follow with any faces","","\t\t\t\t\tif ( geometry.vertices.length === 0 ) continue;","\t\t\t\t\tconst buffergeometry = new THREE.BufferGeometry();","\t\t\t\t\tbuffergeometry.setAttribute( 'position', new THREE.Float32BufferAttribute( geometry.vertices, 3 ) );","","\t\t\t\t\tif ( geometry.normals.length > 0 ) {","","\t\t\t\t\t\tbuffergeometry.setAttribute( 'normal', new THREE.Float32BufferAttribute( geometry.normals, 3 ) );","","\t\t\t\t\t}","","\t\t\t\t\tif ( geometry.colors.length > 0 ) {","","\t\t\t\t\t\thasVertexColors = true;","\t\t\t\t\t\tbuffergeometry.setAttribute( 'color', new THREE.Float32BufferAttribute( geometry.colors, 3 ) );","","\t\t\t\t\t}","","\t\t\t\t\tif ( geometry.hasUVIndices === true ) {","","\t\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new THREE.Float32BufferAttribute( geometry.uvs, 2 ) );","","\t\t\t\t\t} // Create materials","","","\t\t\t\t\tconst createdMaterials = [];","","\t\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {","","\t\t\t\t\t\tconst sourceMaterial = materials[ mi ];","\t\t\t\t\t\tconst materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;","\t\t\t\t\t\tlet material = state.materials[ materialHash ];","","\t\t\t\t\t\tif ( this.materials !== null ) {","","\t\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name ); // mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.","","\t\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof THREE.LineBasicMaterial ) ) {","","\t\t\t\t\t\t\t\tconst materialLine = new THREE.LineBasicMaterial();","\t\t\t\t\t\t\t\tTHREE.Material.prototype.copy.call( materialLine, material );","\t\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );","\t\t\t\t\t\t\t\tmaterial = materialLine;","","\t\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof THREE.PointsMaterial ) ) {","","\t\t\t\t\t\t\t\tconst materialPoints = new THREE.PointsMaterial( {","\t\t\t\t\t\t\t\t\tsize: 10,","\t\t\t\t\t\t\t\t\tsizeAttenuation: false","\t\t\t\t\t\t\t\t} );","\t\t\t\t\t\t\t\tTHREE.Material.prototype.copy.call( materialPoints, material );","\t\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );","\t\t\t\t\t\t\t\tmaterialPoints.map = material.map;","\t\t\t\t\t\t\t\tmaterial = materialPoints;","","\t\t\t\t\t\t\t}","","\t\t\t\t\t\t}","","\t\t\t\t\t\tif ( material === undefined ) {","","\t\t\t\t\t\t\tif ( isLine ) {","","\t\t\t\t\t\t\t\tmaterial = new THREE.LineBasicMaterial();","","\t\t\t\t\t\t\t} else if ( isPoints ) {","","\t\t\t\t\t\t\t\tmaterial = new THREE.PointsMaterial( {","\t\t\t\t\t\t\t\t\tsize: 1,","\t\t\t\t\t\t\t\t\tsizeAttenuation: false","\t\t\t\t\t\t\t\t} );","","\t\t\t\t\t\t\t} else {","","\t\t\t\t\t\t\t\t// material = new THREE.MeshPhongMaterial();","\t\t\t\t\t\t\t\t// material = new THREE.MeshBasicMaterial();// Custom","        \t\t\t\t\t\tmaterial = new THREE.MeshLambertMaterial();// Custom","","","\t\t\t\t\t\t\t}","","\t\t\t\t\t\t\tmaterial.name = sourceMaterial.name;","\t\t\t\t\t\t\t// material.flatShading = sourceMaterial.smooth ? false : true;// Custom (MeshBasicMaterial)","\t\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;// Custom (MeshLambertMaterial)","\t\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;","\t\t\t\t\t\t\tstate.materials[ materialHash ] = material;","","\t\t\t\t\t\t}","","\t\t\t\t\t\tcreatedMaterials.push( material );","","\t\t\t\t\t} // Create mesh","","","\t\t\t\t\tlet mesh;","","\t\t\t\t\tif ( createdMaterials.length > 1 ) {","","\t\t\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {","","\t\t\t\t\t\t\tconst sourceMaterial = materials[ mi ];","\t\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );","","\t\t\t\t\t\t}","","\t\t\t\t\t\tif ( isLine ) {","","\t\t\t\t\t\t\tmesh = new THREE.LineSegments( buffergeometry, createdMaterials );","","\t\t\t\t\t\t} else if ( isPoints ) {","","\t\t\t\t\t\t\tmesh = new THREE.Points( buffergeometry, createdMaterials );","","\t\t\t\t\t\t} else {","","\t\t\t\t\t\t\tmesh = new THREE.Mesh( buffergeometry, createdMaterials );","","\t\t\t\t\t\t}","","\t\t\t\t\t} else {","","\t\t\t\t\t\tif ( isLine ) {","","\t\t\t\t\t\t\tmesh = new THREE.LineSegments( buffergeometry, createdMaterials[ 0 ] );","","\t\t\t\t\t\t} else if ( isPoints ) {","","\t\t\t\t\t\t\tmesh = new THREE.Points( buffergeometry, createdMaterials[ 0 ] );","","\t\t\t\t\t\t} else {","","\t\t\t\t\t\t\tmesh = new THREE.Mesh( buffergeometry, createdMaterials[ 0 ] );","","\t\t\t\t\t\t}","","\t\t\t\t\t}","","\t\t\t\t\tmesh.geometry.computeBoundingBox();// Custom","\t\t\t\t\tmesh.name = object.name;","\t\t\t\t\tcontainer.add( mesh );","","\t\t\t\t}","","\t\t\t} else {","","\t\t\t\t// if there is only the default parser state object with no geometry data, interpret data as point cloud","\t\t\t\tif ( state.vertices.length > 0 ) {","","\t\t\t\t\tconst material = new THREE.PointsMaterial( {","\t\t\t\t\t\tsize: 1,","\t\t\t\t\t\tsizeAttenuation: false","\t\t\t\t\t} );","\t\t\t\t\tconst buffergeometry = new THREE.BufferGeometry();","\t\t\t\t\tbuffergeometry.setAttribute( 'position', new THREE.Float32BufferAttribute( state.vertices, 3 ) );","","\t\t\t\t\tif ( state.colors.length > 0 && state.colors[ 0 ] !== undefined ) {","","\t\t\t\t\t\tbuffergeometry.setAttribute( 'color', new THREE.Float32BufferAttribute( state.colors, 3 ) );","\t\t\t\t\t\tmaterial.vertexColors = true;","","\t\t\t\t\t}","","\t\t\t\t\tconst points = new THREE.Points( buffergeometry, material );","\t\t\t\t\tpoints.geometry.computeBoundingBox();// Custom","\t\t\t\t\tcontainer.add( points );","","\t\t\t\t}","","\t\t\t}","","\t\t\treturn container;","","\t\t}","","\t}","","\tTHREE.OBJLoader = OBJLoader;","","} )();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// console.log(\"Three.js post events\");","if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","  return;","}","// if (gdjs.__WithThreeJS.has(\"BuiltIn3DWithThreeJS\")) {","//   return;","// }","const Canvas2D = gdjs.__WithThreeJS.get(\"Canvas2D\");","const Rect = Canvas2D.getBoundingClientRect();","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const AllCams = gdjs.__WithThreeJS.get(\"AllCams\");","const Renderer = gdjs.__WithThreeJS.get(\"Renderer\");","const AnimationMixer = gdjs.__WithThreeJS.get(\"AnimationMixer\");","//","AnimationMixer.update(runtimeScene.getElapsedTime() / 1000);","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","// Renderer.render( Scene, Camera );","for (const [K, V] of AllCams) {","  if (V.userData.CameraStatus.Active) {","    const X = V.userData.CameraStatus.X;","    const Y = V.userData.CameraStatus.Y;","    const W = V.userData.CameraStatus.W;","    const H = V.userData.CameraStatus.H;","    Renderer.setViewport(X, Y, W, H);","    Renderer.setScissor(X, Y, W, H);","    Renderer.render( Scene, V );","  }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onSceneUnloading","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"WithThreeJS::Clear3DScene"},"parameters":["",""]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (gdjs.__WithThreeJS.get(\"BuiltIn3D\")) {","    if (runtimeScene.getRenderer()._threeRenderer._render_WithThreeJS) {","        runtimeScene.getRenderer()._threeRenderer.render = runtimeScene.getRenderer()._threeRenderer._render_WithThreeJS;","        runtimeScene.getRenderer()._threeRenderer._render_WithThreeJS = null;","    };","    if (runtimeScene.getRenderer().getPIXIRenderer()._clear_WithThreeJS) {","        runtimeScene.getRenderer().getPIXIRenderer().clear = runtimeScene.getRenderer().getPIXIRenderer()._clear_WithThreeJS;","        runtimeScene.getRenderer().getPIXIRenderer()._clear_WithThreeJS = null;","    };","}","// if (gdjs.__WithThreeJS.has(\"BuiltIn3DWithThreeJS\")) {","//     gdjs.__WithThreeJS.delete(\"Scene\");","//     gdjs.__WithThreeJS.delete(\"BuiltIn3dCamera\");","//     gdjs.__WithThreeJS.delete(\"BuiltIn3dRenderer\");","//     gdjs.__WithThreeJS.delete(\"Listener\");","//     gdjs.__WithThreeJS.delete(\"BuiltIn3DWithThreeJS\");","// }","if (runtimeScene.getRenderer().getPIXIRenderer().background) {","    runtimeScene.getRenderer().getPIXIRenderer().background.alpha = 1;// For PixiJS 7","} else {","    runtimeScene.getRenderer().getPIXIRenderer().backgroundAlpha = 1;// For PixiJS 6","}","gdjs.__WithThreeJS.set(\"SceneIsReady\", false);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"Create a 3D Scene and initialize all 3D Cameras.","fullName":"Create 3D Scene","functionType":"Action","group":"3D Scene","name":"Create3DScene","sentence":"Create 3D Scene (Background: _PARAM1_, _PARAM2_, Ambient: _PARAM3_, Fog: _PARAM4_, _PARAM5_, _PARAM6_, Projection Scale: _PARAM7_, View Mode: _PARAM8_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// console.log(\"Three.js create scene\");","// v5.1.162 ‰ª•‰∏ä„Åß Built-In 3D „Åå„Ç≤„Éº„É†„Å´Âê´„Åæ„Çå„Å¶„ÅÑ„Çã","const BuiltIn3D = gdjs.__WithThreeJS.get(\"BuiltIn3D\");","if (BuiltIn3D) {","  // runtimescene-pixi-renderer.ts „Ç´„Çπ„Çø„É†","  console.log(\"[WithThreeJS] Built-in 3D is enabled.\");","  if (!runtimeScene.getRenderer()._threeRenderer._render_WithThreeJS) {","    runtimeScene.getRenderer()._threeRenderer._render_WithThreeJS = runtimeScene.getRenderer()._threeRenderer.render;","    runtimeScene.getRenderer()._threeRenderer.render = function(S, C) {","      // Three.js „ÅÆ„É¨„É≥„ÉÄ„É©„Éº„ÅåÂà©Áî®„Åï„Çå„ÇãÂ†¥Âêà„ÅÆÈÄèÈÅéË®≠ÂÆö","      runtimeScene.getLayer(\"\").getRenderer().getThreeScene().background = null;","      this._render_WithThreeJS(S, C);","    }","  }","  if (!runtimeScene.getRenderer().getPIXIRenderer()._clear_WithThreeJS) {","    runtimeScene.getRenderer().getPIXIRenderer()._clear_WithThreeJS = runtimeScene.getRenderer().getPIXIRenderer().clear;","    runtimeScene.getRenderer().getPIXIRenderer().clear = function() {","      // PixiJS „ÅÆ„É¨„É≥„ÉÄ„É©„Éº„ÅåÂà©Áî®„Åï„Çå„ÇãÂ†¥Âêà„ÅÆÈÄèÈÅéË®≠ÂÆö","      runtimeScene.setBackgroundColor(0,0,0);","      if (this.background) {","        this.background.alpha = 0;// For PixiJS 7","      } else {","        this.backgroundAlpha = 0;// For PixiJS 6","      }","      this._clear_WithThreeJS();","    }","  }","} else {","  console.log(\"[WithThreeJS] Built-in 3D is disabled. (LEGACY MODE)\");","  // Ë≠¶ÂëäË°®Á§∫","  let AlertElement = document.createElement('div');","  AlertElement.innerHTML = `<strong>Warning from WithThreeJS</strong><br>","  Please add an \"Enable WithThreeJS\" object to a scene.<br>","  For more information, <a href=\"https://pandako.itch.io/with-threejs-extension-for-gdevelop/devlog/631434/about-the-warning-please-add-an-enable-withthreejs-object-to-a-scene\" target=\"_blank\" style=\"color:yellow\">please click here</a>.`;","  AlertElement.style.position = \"absolute\";","  AlertElement.style.zIndex = 999;","  AlertElement.style.top = 0;","  AlertElement.style.left = 0;","  AlertElement.style.backgroundColor = \"red\";","  AlertElement.style.color = \"white\";","  AlertElement.style.padding = \"0.5em\";","  document.body.appendChild(AlertElement);","  return;","}","//","const ProjectionScale = eventsFunctionContext.getArgument(\"ProjectionScale\") || 1;","let ViewMode = eventsFunctionContext.getArgument(\"ViewMode\");","if (ViewMode !== \"Top Down\" && ViewMode !== \"Side\" && ViewMode !== \"Built-In 3D\") {","  ViewMode = \"Top Down\";","}","gdjs.__WithThreeJS.set(\"ProjectionScale\", ProjectionScale);","gdjs.__WithThreeJS.set(\"ViewMode\", ViewMode);","//","const Canvas2D = document.getElementsByTagName(\"canvas\")[0];","gdjs.__WithThreeJS.set(\"Canvas2D\", Canvas2D);","const Rect = Canvas2D.getBoundingClientRect();","//","let Scene;","if (gdjs.__WithThreeJS.has(\"Scene\")) {","  Scene = gdjs.__WithThreeJS.get(\"Scene\");","} else {","  Scene = new THREE.Scene();","  gdjs.__WithThreeJS.set(\"Scene\", Scene);","}","Scene.name =\"Scene\";","gdjs.__WithThreeJS.set(\"SceneIsReady\", true);","//","const BG_RGB = eventsFunctionContext.getArgument(\"BackGroundColor\") || \"0;0;0\";","const BG_Img = eventsFunctionContext.getArgument(\"BackGroundImage\") || \"\";","const Ambient_RGB = eventsFunctionContext.getArgument(\"AmbientColor\") || \"255;255;255\";","const FogColor = eventsFunctionContext.getArgument(\"FogColor\") || \"\";","const FogNear = eventsFunctionContext.getArgument(\"FogNear\") || 1;","const FogFar = eventsFunctionContext.getArgument(\"FogFar\") || 1000;","//","if (Scene.background) {","  if (Scene.background.isTexture) {","    Scene.background.dispose();","    Scene.background = null;","  }","}","//","if (BG_Img !== \"\") {","  const Resource = runtimeScene.getGame().getImageManager().getPIXITexture(BG_Img).baseTexture.resource;","  const ResourceWidth = Resource.width;","  const ResourceHeight = Resource.height;","  const BGTexture = new THREE.Texture();","  BGTexture.image = Resource.source;","  if (ResourceWidth == ResourceHeight * 2) {","    BGTexture.mapping = THREE.EquirectangularReflectionMapping;","  }","  BGTexture.colorSpace = THREE.SRGBColorSpace;","  BGTexture.needsUpdate = true;//ÂøÖÈ†à","  Scene.background = BGTexture;","} else {","  const RGB = BG_RGB.split(\";\");","  Scene.background = new THREE.Color(`rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`);","}","//","let AmbientLight;","const AmbientColor = Ambient_RGB.split(\";\");","if (gdjs.__WithThreeJS.has(\"AmbientLight\")) {","  AmbientLight = gdjs.__WithThreeJS.get(\"AmbientLight\");","} else {","  AmbientLight = new THREE.AmbientLight();","  AmbientLight.intensity = gdjs.__WithThreeJS.get(\"LightIntensityScale\");// Three.js r160","  gdjs.__WithThreeJS.set(\"AmbientLight\", AmbientLight);","}","Scene.add(AmbientLight);","AmbientLight.color.set(`rgb(${AmbientColor[0]}, ${AmbientColor[1]}, ${AmbientColor[2]})`);","//","if (FogColor === \"\") {","  Scene.fog = null;","} else {","  const RGB = FogColor.split(\";\");","  Scene.fog = new THREE.Fog(`rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`, FogNear, FogFar);","  // Scene.fog = new THREE.FogExp2(\"rgb(0,0,0)\", 0.005);","}","//","// Ë§áÊï∞„Ç´„É°„É©","let AllCams, Camera1, Camera2, Camera3, Camera4;","if (gdjs.__WithThreeJS.has(\"AllCams\")) {","  AllCams = gdjs.__WithThreeJS.get(\"AllCams\");","  Camera1 = AllCams.get(\"Camera1\");","  Camera2 = AllCams.get(\"Camera2\");","  Camera3 = AllCams.get(\"Camera3\");","  Camera4 = AllCams.get(\"Camera4\");","} else {","  AllCams = new Map();","  Camera1 = new THREE.PerspectiveCamera();","  Camera2 = new THREE.PerspectiveCamera();","  Camera3 = new THREE.PerspectiveCamera();","  Camera4 = new THREE.PerspectiveCamera();","  AllCams.set(\"Camera1\", Camera1);","  AllCams.set(\"Camera2\", Camera2);","  AllCams.set(\"Camera3\", Camera3);","  AllCams.set(\"Camera4\", Camera4);","  gdjs.__WithThreeJS.set(\"AllCams\", AllCams);","}","for (const [K, V] of AllCams) {","  V.name = K;","  V.fov = 50;","  V.aspect = Rect.width / Rect.height;","  V.near = 0.1;","  V.far = 10000;//1000","  V.position.set(0, 0, 0);","  V.rotation.set(0, 0, 0);","  V.updateProjectionMatrix();//ÂøÖÈ†à","  V.userData.CameraStatus = {};","  V.userData.CameraStatus.Active = false;","  V.userData.CameraStatus.T = 1;","  V.userData.CameraStatus.B = 0;","  V.userData.CameraStatus.L = 0;","  V.userData.CameraStatus.R = 1;","  V.userData.CameraStatus.X = 0;","  V.userData.CameraStatus.Y = 0;","  V.userData.CameraStatus.W = Rect.width;","  V.userData.CameraStatus.H = Rect.height;","}","Camera1.userData.CameraStatus.Active = true;","//","let Listener;","if (gdjs.__WithThreeJS.has(\"Listener\")) {","  Listener = gdjs.__WithThreeJS.get(\"Listener\");","} else {","  Listener = new THREE.AudioListener();","  gdjs.__WithThreeJS.set(\"Listener\", Listener);","}","Listener.name =\"Listener\";","Camera1.add(Listener);","//","let Renderer;","if (gdjs.__WithThreeJS.has(\"Renderer\")) {","  Renderer = gdjs.__WithThreeJS.get(\"Renderer\");","} else {","  Renderer = new THREE.WebGLRenderer();","  document.body.appendChild( Renderer.domElement );","  gdjs.__WithThreeJS.set(\"Renderer\", Renderer);","}","Renderer.setPixelRatio(window.devicePixelRatio);","// Renderer.setSize( window.innerWidth, window.innerHeight );","Renderer.setSize(Rect.width, Rect.height);","Renderer.domElement.id = \"WithThreeJS_Canvas\";","Renderer.domElement.style.position = \"absolute\";","Renderer.domElement.style.zIndex = -99;","Renderer.domElement.style.left = Rect.left + \"px\";","Renderer.domElement.style.top = Rect.top + \"px\";","Renderer.setScissorTest(true);","Renderer.shadowMap.enabled = false;","// Renderer.shadowMap.type = THREE.BasicShadowMap;//THREE.BasicShadowMap THREE.PCFShadowMap THREE.PCFSoftShadowMap THREE.VSMShadowMap","// Renderer.outputColorSpace = THREE.LinearSRGBColorSpace;//NoColorSpace SRGBColorSpace LinearSRGBColorSpace","//","let AnimationMixer;","if (gdjs.__WithThreeJS.has(\"AnimationMixer\")) {","  AnimationMixer = gdjs.__WithThreeJS.get(\"AnimationMixer\");","} else {","  AnimationMixer = new THREE.AnimationMixer(Scene);","  gdjs.__WithThreeJS.set(\"AnimationMixer\", AnimationMixer);","}","//","let AnimationActions;","if (gdjs.__WithThreeJS.has(\"AnimationActions\")) {","  AnimationActions = gdjs.__WithThreeJS.get(\"AnimationActions\");","} else {","  AnimationActions = new Map();","  gdjs.__WithThreeJS.set(\"AnimationActions\", AnimationActions);","}","//","// Resize","window.addEventListener('resize', () => {","  const Rect = Canvas2D.getBoundingClientRect();","","  // „É¨„É≥„ÉÄ„É©„Éº„ÅÆ„Çµ„Ç§„Ç∫„ÇíË™øÊï¥„Åô„Çã","  Renderer.setPixelRatio(window.devicePixelRatio);","  Renderer.setSize(Rect.width, Rect.height);","","  // „Ç´„É°„É©„ÅÆ„Ç¢„Çπ„Éö„ÇØ„ÉàÊØî„ÇíÊ≠£„Åô","  // Camera.aspect = Rect.width / Rect.height;","  // Camera.updateProjectionMatrix();","  for (const [K, V] of AllCams) {","    const T = V.userData.CameraStatus.T;","    const B = V.userData.CameraStatus.B;","    const L = V.userData.CameraStatus.L;","    const R = V.userData.CameraStatus.R;","    const X = V.userData.CameraStatus.X = L * Rect.width;","    const Y = V.userData.CameraStatus.Y = B * Rect.height;","    const W = V.userData.CameraStatus.W = (R - L) * Rect.width;","    const H = V.userData.CameraStatus.H = (T - B) * Rect.height;","    V.aspect = W / H;","    V.updateProjectionMatrix();","  }","","  // CSS","  Renderer.domElement.style.position = \"absolute\";","  Renderer.domElement.style.zIndex = -99;","  Renderer.domElement.style.left = Rect.left + \"px\";","  Renderer.domElement.style.top = Rect.top + \"px\";","});","","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Background Color","name":"BackGroundColor","type":"color"},{"description":"Background Image (GDevelop Resource Name) (\"\" => No Background Image)","longDescription":"Escape is required. example: \"assets\\\\Image.png\" -> \"assets\\\\\\\\Image.png\"  \n\"\" => No Background Image  \nImage ratio 2:1 (e.g. 1024 x 512 pixels) => Skybox  \nOther image ratio => Flat Background Image","name":"BackGroundImage","type":"string"},{"description":"Ambient Light Color","name":"AmbientColor","type":"color"},{"description":"Fog Color (\"\" is none fog)","name":"FogColor","type":"color"},{"description":"Fog Start Distance (Default: 1)","longDescription":"Distance to start applying fog.","name":"FogNear","type":"expression"},{"description":"Fog Maximum Distance (Default: 1000)","longDescription":"Distance to maximum fog.","name":"FogFar","type":"expression"},{"description":"Projection Scale (Recommended: 1)","longDescription":"Only affects WithThreeJS Behaviors and WithThreeJS Custom Objects.  \nAffects X, Y, Z and Width, Height, Depth.","name":"ProjectionScale","type":"expression"},{"description":"View Mode","longDescription":"Only affects WithThreeJS Behaviors and WithThreeJS Custom Objects.  \nTop Down: 2D[X, Y, Z-Order] -> 3D[X, Z-Order, Y] or Side: 2D[X, Y, Z-Order] -> 3D[X, -Y, Z-Order]","name":"ViewMode","supplementaryInformation":"[\"Top Down\",\"Side\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Use this action in place of the \"Create 3D Scene\" action.\nThe built-in 3D axes are different from the axes in WithThreeJS.\nSome WithThreeJS features are not available.\n‚ö†Ô∏è This may be deprecated in the future.","fullName":"Built-In 3D WithThreeJS (Deprecated)","functionType":"Action","group":"3D Scene","name":"BuiltIn3dWithThreeJS","private":true,"sentence":"‚ö†Ô∏è Built-In 3D WithThreeJS","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// console.log(\"Three.js create scene\");","/*","ÂΩ±ÈüøÁØÑÂõ≤","onScenePostEvents","onSceneUnloading","BuiltIn3dWithThreeJS","„Éì„Éò„Ç§„Éì„Ç¢„Å®„Ç´„Çπ„Çø„É†„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆViewMode„Åæ„Çè„Çä","LinkedCamera„ÅßBuiltIn3dCamera„ÇíÂèÇÁÖß","*/","// v5.1.162 ‰ª•‰∏ä„Åß Built-In 3D „Åå„Ç≤„Éº„É†„Å´Âê´„Åæ„Çå„Å¶„ÅÑ„Çã","const BuiltIn3D = gdjs.__WithThreeJS.get(\"BuiltIn3D\");","if (BuiltIn3D) {","  console.log(\"[WithThreeJS] Built-in 3D is enabled. Built-In 3D WithThreeJS is now enabled.\");","  gdjs.__WithThreeJS.set(\"BuiltIn3DWithThreeJS\", true);","  gdjs.__WithThreeJS.set(\"Scene\", runtimeScene.getLayer(\"\").getRenderer().getThreeScene());","  gdjs.__WithThreeJS.set(\"BuiltIn3dCamera\", runtimeScene.getLayer(\"\").getRenderer().getThreeCamera());","  gdjs.__WithThreeJS.set(\"BuiltIn3dRenderer\", runtimeScene.getRenderer()._threeRenderer);","} else {","  console.warn(\"[WithThreeJS] Built-in 3D is disabled. Could not enable Built-In 3D WithThreeJS!\");","  return;","}","//","gdjs.__WithThreeJS.set(\"ProjectionScale\", 1);","gdjs.__WithThreeJS.set(\"ViewMode\", \"Built-In 3D\");","//","// ‰ª•‰∏ã„ÄÅ‰∫íÊèõ„ÅÆ„Åü„ÇÅ„Å´ÂøÖË¶Å","//","gdjs.__WithThreeJS.set(\"SceneIsReady\", true);","const Canvas2D = document.getElementsByTagName(\"canvas\")[0];","gdjs.__WithThreeJS.set(\"Canvas2D\", Canvas2D);","const Rect = Canvas2D.getBoundingClientRect();","//","// Ë§áÊï∞„Ç´„É°„É©ÔºàÊú™‰ΩøÁî®„ÉªÂÖ±Áî®„ÉªÂÜçÂà©Áî®Ôºâ","let AllCams, Camera1, Camera2, Camera3, Camera4;","if (gdjs.__WithThreeJS.has(\"AllCams\")) {","  AllCams = gdjs.__WithThreeJS.get(\"AllCams\");","  Camera1 = AllCams.get(\"Camera1\");","  Camera2 = AllCams.get(\"Camera2\");","  Camera3 = AllCams.get(\"Camera3\");","  Camera4 = AllCams.get(\"Camera4\");","} else {","  AllCams = new Map();","  Camera1 = new THREE.PerspectiveCamera();","  Camera2 = new THREE.PerspectiveCamera();","  Camera3 = new THREE.PerspectiveCamera();","  Camera4 = new THREE.PerspectiveCamera();","  AllCams.set(\"Camera1\", Camera1);","  AllCams.set(\"Camera2\", Camera2);","  AllCams.set(\"Camera3\", Camera3);","  AllCams.set(\"Camera4\", Camera4);","  gdjs.__WithThreeJS.set(\"AllCams\", AllCams);","}","for (const [K, V] of AllCams) {","  V.name = K;","  V.fov = 50;","  V.aspect = Rect.width / Rect.height;","  V.near = 0.1;","  V.far = 10000;","  V.position.set(0, 0, 0);","  V.rotation.set(0, 0, 0);","  V.updateProjectionMatrix();//ÂøÖÈ†à","  V.userData.CameraStatus = {};","  V.userData.CameraStatus.Active = false;","  V.userData.CameraStatus.T = 1;","  V.userData.CameraStatus.B = 0;","  V.userData.CameraStatus.L = 0;","  V.userData.CameraStatus.R = 1;","  V.userData.CameraStatus.X = 0;","  V.userData.CameraStatus.Y = 0;","  V.userData.CameraStatus.W = Rect.width;","  V.userData.CameraStatus.H = Rect.height;","}","//","// „É™„Çπ„Éä„ÉºÔºàÂÖ±Áî®„Åó„Å™„ÅÑ„ÉªÈÅ∑ÁßªÊôÇÁ†¥Ê£ÑÔºâ","const Listener = new THREE.AudioListener();","gdjs.__WithThreeJS.set(\"Listener\", Listener);","Listener.name =\"Listener\";","gdjs.__WithThreeJS.get(\"BuiltIn3dCamera\").add(Listener);","//","// „É¨„É≥„ÉÄ„É©„Éº„Å®„Ç≠„É£„É≥„Éê„ÇπÔºàÊú™‰ΩøÁî®„ÉªÂÖ±Áî®„ÉªÂÜçÂà©Áî®Ôºâ","if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","  const Renderer = new THREE.WebGLRenderer();","  document.body.appendChild( Renderer.domElement );","  gdjs.__WithThreeJS.set(\"Renderer\", Renderer);","  Renderer.domElement.id = \"WithThreeJS_Canvas\";","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"Clear 3D Scene. Removes all 3D Objects in the 3D Scene.\nAs a result, this action also removes 2D Objects that have 3D Projection Behaviors.\nThis action does not clear the loaded 3D Texture data and the loaded 3D Model data.\nThey will continue to be accessible by ID.","fullName":"Clear 3D Scene","functionType":"Action","group":"3D Scene","name":"Clear3DScene","sentence":"Clear 3D Scene","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    // console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const AnimationMixer = gdjs.__WithThreeJS.get(\"AnimationMixer\");","const AnimationActions = gdjs.__WithThreeJS.get(\"AnimationActions\");","//","const All = runtimeScene.getAdhocListOfAllInstances();","for (let i = All.length - 1; i >= 0; i--){","    if (","           All[i].hasBehavior(\"SpriteProjection\")","        || All[i].hasBehavior(\"BoardProjection\")","        || All[i].hasBehavior(\"PlaneProjectionFromTiled\")","        || All[i].hasBehavior(\"BoxProjectionFromTiled\")","        || All[i].type == \"WithThreeJS::Box3D\"","        || All[i].hasBehavior(\"LinkedLight\")","        ) {","        All[i].deleteFromScene(runtimeScene);","    }","}","//","gdjs.__WithThreeJS.get(\"AllSoundsStop\")(Scene);","//","AnimationMixer.stopAllAction();","for (const [K, V] of AnimationActions) {","    for (const [KK, VV] of V) {","        AnimationMixer.uncacheAction(VV.getClip(), VV.getRoot());","        AnimationMixer.uncacheClip(VV.getClip());","        AnimationMixer.uncacheRoot(VV.getRoot());","    }","}","AnimationActions.clear();","//","Scene.clear();","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"Load image from GDevelop resources and create 3D Texture.\nNote that this is an asynchronous process.","fullName":"Load 3D Texture (Deprecated)","functionType":"Action","group":"3D Scene","name":"Load3DTexture","private":true,"sentence":"‚ö†Ô∏è Load 3D Texture (Resource: _PARAM1_, ID: _PARAM2_, Repeat: _PARAM3_, _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Textures\")) {","    gdjs.__WithThreeJS.set(\"Textures\", new Map());","}","let Textures = gdjs.__WithThreeJS.get(\"Textures\");","const ResourceName = eventsFunctionContext.getArgument(\"ResourceName\");","const TextureId = eventsFunctionContext.getArgument(\"TextureId\");","const RepeatU = eventsFunctionContext.getArgument(\"RepeatU\");","const RepeatV = eventsFunctionContext.getArgument(\"RepeatV\");","//","const GetResourceFileName = gdjs.__WithThreeJS.get(\"GetResourceFileName\");","const ResourceFileName = GetResourceFileName(ResourceName, \"image\");","if (ResourceFileName) {","    const Loader = new THREE.TextureLoader();","    Loader.load(GetResourceFileName(ResourceName, \"image\"), ","        (T) => {","            T.wrapS = THREE.RepeatWrapping;","            T.wrapT = THREE.RepeatWrapping;","            T.repeat.set(RepeatU, RepeatV);","            Textures.set(TextureId, T);","        },","        undefined,","        (E) => {}","    );","}",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"GDevelop Resource Name (Image)","longDescription":"Escape is required. example: \"assets\\\\Image.png\" -> \"assets\\\\\\\\Image.png\"","name":"ResourceName","type":"string"},{"description":"3D Texture ID","name":"TextureId","supplementaryInformation":"scene3D Texture ID","type":"identifier"},{"description":"Texture Repeat U","name":"RepeatU","type":"expression"},{"description":"Texture Repeat V","name":"RepeatV","type":"expression"}],"objectGroups":[]},{"description":"Load image from GDevelop resources and create 3D Texture.","fullName":"Load 3D Texture","functionType":"Action","group":"3D Scene","name":"Load3DTextureV2","sentence":"Load 3D Texture (Resource: _PARAM1_, ID: _PARAM2_, Repeat: _PARAM3_, _PARAM4_, Anti-Aliasing: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Textures\")) {","    gdjs.__WithThreeJS.set(\"Textures\", new Map());","}","let Textures = gdjs.__WithThreeJS.get(\"Textures\");","const ResourceName = eventsFunctionContext.getArgument(\"ResourceName\");","const TextureId = eventsFunctionContext.getArgument(\"TextureId\");","const RepeatU = eventsFunctionContext.getArgument(\"RepeatU\");","const RepeatV = eventsFunctionContext.getArgument(\"RepeatV\");","const AntiAliasing = eventsFunctionContext.getArgument(\"AntiAliasing\");","//","if (!Textures.has(TextureId)) {","    const T = new THREE.Texture();","    T.image = runtimeScene.getGame().getImageManager().getPIXITexture(ResourceName).baseTexture.resource.source;","    T.wrapS = THREE.RepeatWrapping;","    T.wrapT = THREE.RepeatWrapping;","    T.repeat.set(RepeatU, RepeatV);","    if (!AntiAliasing) {","        T.magFilter = THREE.NearestFilter;// THREE.LinearFilter","        T.minFilter = THREE.NearestFilter;// THREE.LinearMipmapLinearFilter","    }","    T.colorSpace = THREE.SRGBColorSpace;//NoColorSpace SRGBColorSpace LinearSRGBColorSpace","    T.needsUpdate = true;//ÂøÖÈ†à","    Textures.set(TextureId, T);","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"GDevelop Resource Name (Image)","longDescription":"Escape is required. example: \"assets\\\\Image.png\" -> \"assets\\\\\\\\Image.png\"","name":"ResourceName","type":"string"},{"description":"3D Texture ID","name":"TextureId","supplementaryInformation":"scene3D Texture ID","type":"identifier"},{"description":"Texture Repeat U","name":"RepeatU","type":"expression"},{"description":"Texture Repeat V","name":"RepeatV","type":"expression"},{"defaultValue":"True","description":"Anti-Aliasing","name":"AntiAliasing","optional":true,"supplementaryInformation":"[\"Antialiased\",\"No Antialiasing\"]","type":"trueorfalse"}],"objectGroups":[]},{"fullName":"Load 3D Model From OBJ","functionType":"Action","group":"3D Scene","name":"Load3DModelFromOBJ","sentence":"Load 3D Model From OBJ (ID: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Models\")) {","    gdjs.__WithThreeJS.set(\"Models\", new Map());","}","const Models = gdjs.__WithThreeJS.get(\"Models\");","const OBJ = eventsFunctionContext.getArgument(\"OBJ\");","const ModelId = eventsFunctionContext.getArgument(\"ModelId\");","//","const OBJLoader = new THREE.OBJLoader();","const Model = OBJLoader.parse(OBJ);","Models.set(ModelId, Model);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"OBJ","longDescription":"Paste the contents of the OBJ file.","name":"OBJ","type":"string"},{"description":"3D Model ID","name":"ModelId","supplementaryInformation":"scene3D Model ID","type":"identifier"}],"objectGroups":[]},{"description":"Do a Raycast.\nYou can get the count of 3D Objects in the result with the \"Raycast Result Count\" expression.\nThe result can be accessed via the \"Raycast Result Number\" expression or the \"Raycast Result String\" string expression.","fullName":"Raycast","functionType":"Action","group":"3D Raycast","name":"Raycast","sentence":"Raycast (From: _PARAM1_, _PARAM2_, _PARAM3_, To: _PARAM4_, _PARAM5_, _PARAM6_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Raycaster\")) {","    gdjs.__WithThreeJS.set(\"Raycaster\", new THREE.Raycaster());","    gdjs.__WithThreeJS.set(\"RaycastResult\", new Array());","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(1);// ÁèæÁä∂„ÅØ1„ÅßÂõ∫ÂÆö","const Raycaster = gdjs.__WithThreeJS.get(\"Raycaster\");","//","const FromX = eventsFunctionContext.getArgument(\"FromX\");","const FromY = eventsFunctionContext.getArgument(\"FromY\");","const FromZ = eventsFunctionContext.getArgument(\"FromZ\");","const ToX = eventsFunctionContext.getArgument(\"ToX\");","const ToY = eventsFunctionContext.getArgument(\"ToY\");","const ToZ = eventsFunctionContext.getArgument(\"ToZ\");","//","const From = new THREE.Vector3(FromX, FromY, FromZ);","const To = new THREE.Vector3(ToX, ToY, ToZ);","const Distance = From.distanceTo(To);","const Direction = new THREE.Vector3().subVectors(To, From).normalize();","//","Raycaster.camera = Camera;","Raycaster.set(From, Direction);","Raycaster.far = Distance;","gdjs.__WithThreeJS.set(\"RaycastResult\", Raycaster.intersectObjects(Scene.children, true));","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"From World Position X","name":"FromX","type":"expression"},{"description":"From World Position Y","name":"FromY","type":"expression"},{"description":"From World Position Z","name":"FromZ","type":"expression"},{"description":"To World Position X","name":"ToX","type":"expression"},{"description":"To World Position Y","name":"ToY","type":"expression"},{"description":"To World Position Z","name":"ToZ","type":"expression"}],"objectGroups":[]},{"description":"Do a Raycast from the 3D Camera.\nYou can get the count of 3D Objects in the result with the \"Raycast Result Count\" expression.\nThe result can be accessed via the \"Raycast Result Number\" expression or the \"Raycast Result String\" string expression.","fullName":"Raycast From 3D Camera","functionType":"Action","group":"3D Raycast","name":"RaycastFrom3DCamera","sentence":"Raycast From 3D Camera (ID: _PARAM1_, Screen: _PARAM2_, _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Raycaster\")) {","    gdjs.__WithThreeJS.set(\"Raycaster\", new THREE.Raycaster());","    gdjs.__WithThreeJS.set(\"RaycastResult\", new Array());","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Raycaster = gdjs.__WithThreeJS.get(\"Raycaster\");","//","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const ScreenX = eventsFunctionContext.getArgument(\"ScreenX\");","const ScreenY = eventsFunctionContext.getArgument(\"ScreenY\");","const ScreenPoint = new THREE.Vector2();","//","const T = Camera.userData.CameraStatus.T;","const B = Camera.userData.CameraStatus.B;","const L = Camera.userData.CameraStatus.L;","const R = Camera.userData.CameraStatus.R;","const GameResolutionWidth = runtimeScene.getGame().getGameResolutionWidth();","const GameResolutionHeight = runtimeScene.getGame().getGameResolutionHeight();","const ScreenResolutionWidth = GameResolutionWidth * (R - L);","const ScreenResolutionHeight = GameResolutionHeight * (T - B);","const CameraScreenX = ScreenX - (L * GameResolutionWidth);","const CameraScreenY = ScreenY - ((1 - T) * GameResolutionHeight);","//","ScreenPoint.x = (CameraScreenX / ScreenResolutionWidth) * 2 - 1;","ScreenPoint.y = -(CameraScreenY / ScreenResolutionHeight) * 2 + 1;","//","Raycaster.setFromCamera(ScreenPoint, Camera);","Raycaster.far = Camera.far;","gdjs.__WithThreeJS.set(\"RaycastResult\", Raycaster.intersectObjects(Scene.children, true));","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Screen X","name":"ScreenX","type":"expression"},{"description":"Screen Y","name":"ScreenY","type":"expression"}],"objectGroups":[]},{"description":"Do a Raycast from the 3D Object. (Z axis direction)\nYou can get the count of 3D Objects in the result with the \"Raycast Result Count\" expression.\nThe result can be accessed via the \"Raycast Result Number\" expression or the \"Raycast Result String\" string expression.","fullName":"Raycast From 3D Object","functionType":"Action","group":"3D Raycast","name":"RaycastFrom3DObject","sentence":"Raycast From 3D Object (ID: _PARAM1_, Distance: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Raycaster\")) {","    gdjs.__WithThreeJS.set(\"Raycaster\", new THREE.Raycaster());","    gdjs.__WithThreeJS.set(\"RaycastResult\", new Array());","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(1);// ÁèæÁä∂„ÅØ1„ÅßÂõ∫ÂÆö","const Raycaster = gdjs.__WithThreeJS.get(\"Raycaster\");","//","const Id = eventsFunctionContext.getArgument(\"Id\");","const Distance = eventsFunctionContext.getArgument(\"Distance\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","const WorldPosition = new THREE.Vector3();","const WorldDirection = new THREE.Vector3();","Obj.getWorldPosition(WorldPosition);","Obj.getWorldDirection(WorldDirection);","//","Raycaster.camera = Camera;","Raycaster.set(WorldPosition, WorldDirection);","Raycaster.far = Distance;","gdjs.__WithThreeJS.set(\"RaycastResult\", Raycaster.intersectObjects(Scene.children, true));","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Distance","name":"Distance","type":"expression"}],"objectGroups":[]},{"fullName":"Place 3D Object Using Raycast Result","functionType":"Action","group":"3D Raycast","name":"Place3DObjectUsingRaycastResult","sentence":"Place 3D Object Using Raycast Result (ID: _PARAM1_, Result: _PARAM2_, Position: _PARAM3_, Normal: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"RaycastResult\")) {","    console.warn(\"No Raycast has been done yet.\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const RaycastResult = gdjs.__WithThreeJS.get(\"RaycastResult\");","//","const Id = eventsFunctionContext.getArgument(\"Id\");","const Index = eventsFunctionContext.getArgument(\"Index\");","const Position = eventsFunctionContext.getArgument(\"Position\");","const Normal = eventsFunctionContext.getArgument(\"Normal\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","if (Index < 0 || RaycastResult.length <= Index) {","    console.warn(\"Incorrect Raycast Result index.\");","    return;","}","//","const Parent = Obj.parent;","Scene.attach(Obj);","if (Position) {","    Obj.position.copy(RaycastResult[Index].point);","}","if (Normal && RaycastResult[Index].normal) {","    const DirY = new THREE.Vector3(0, 1, 0);","    const DifQua = new THREE.Quaternion();","    DirY.applyQuaternion(Obj.quaternion);","    DifQua.setFromUnitVectors(DirY, RaycastResult[Index].normal);","    Obj.applyQuaternion(DifQua);","}","Parent.attach(Obj);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Index of Raycast Result (0 or more)","name":"Index","type":"expression"},{"defaultValue":"yes","description":"Position","name":"Position","optional":true,"type":"yesorno"},{"defaultValue":"yes","description":"Normal","name":"Normal","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Count of 3D Objects in Raycast Result","fullName":"Raycast Result Count","functionType":"Expression","group":"3D Raycast","name":"RaycastResultCount","sentence":"Raycast (From: _PARAM1_, _PARAM2_, _PARAM3_, To: _PARAM4_, _PARAM5_, _PARAM6_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"RaycastResult\")) {","    console.warn(\"No Raycast has been done yet.\");","    return;","}","const RaycastResult = gdjs.__WithThreeJS.get(\"RaycastResult\");","eventsFunctionContext.returnValue = RaycastResult.length;","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"fullName":"Raycast Result Number","functionType":"Expression","group":"3D Raycast","name":"RaycastResultNumber","sentence":"Raycast (From: _PARAM1_, _PARAM2_, _PARAM3_, To: _PARAM4_, _PARAM5_, _PARAM6_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"RaycastResult\")) {","    console.warn(\"No Raycast has been done yet.\");","    return;","}","const RaycastResult = gdjs.__WithThreeJS.get(\"RaycastResult\");","//","const Index = eventsFunctionContext.getArgument(\"Index\");","const Item = eventsFunctionContext.getArgument(\"Item\");","//","if (Index < 0 || RaycastResult.length <= Index) {","    // console.warn(\"Incorrect index.\");","    eventsFunctionContext.returnValue = 0;","    return;","}","if (Item == \"Distance\") {","    eventsFunctionContext.returnValue = RaycastResult[Index].distance;","} else if (Item == \"Point X\") {","    eventsFunctionContext.returnValue = RaycastResult[Index].point.x;","} else if (Item == \"Point Y\") {","    eventsFunctionContext.returnValue = RaycastResult[Index].point.y;","} else if (Item == \"Point Z\") {","    eventsFunctionContext.returnValue = RaycastResult[Index].point.z;","} else if (Item == \"Normal X\") {","    eventsFunctionContext.returnValue = RaycastResult[Index].normal.x;","} else if (Item == \"Normal Y\") {","    eventsFunctionContext.returnValue = RaycastResult[Index].normal.y;","} else if (Item == \"Normal Z\") {","    eventsFunctionContext.returnValue = RaycastResult[Index].normal.z;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Index (0 or more)","name":"Index","type":"expression"},{"description":"Item","name":"Item","supplementaryInformation":"[\"Distance\",\"Point X\",\"Point Y\",\"Point Z\",\"Normal X\",\"Normal Y\",\"Normal Z\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"Raycast Result String","functionType":"StringExpression","group":"3D Raycast","name":"RaycastResultString","sentence":"Raycast (From: _PARAM1_, _PARAM2_, _PARAM3_, To: _PARAM4_, _PARAM5_, _PARAM6_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"RaycastResult\")) {","    console.warn(\"No Raycast has been done yet.\");","    return;","}","const RaycastResult = gdjs.__WithThreeJS.get(\"RaycastResult\");","//","const Index = eventsFunctionContext.getArgument(\"Index\");","const Item = eventsFunctionContext.getArgument(\"Item\");","//","if (Index < 0 || RaycastResult.length <= Index) {","    // console.warn(\"Incorrect index.\");","    eventsFunctionContext.returnValue = \"\";","    return;","}","if (Item == \"3D Object ID\") {","    eventsFunctionContext.returnValue = RaycastResult[Index].object.name;","} else if (Item == \"Parent 3D Object ID\") {","    if (RaycastResult[Index].object.parent) {","        eventsFunctionContext.returnValue = RaycastResult[Index].object.parent.name;","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"string"},"parameters":[{"description":"Index (0 or more)","name":"Index","type":"expression"},{"description":"Item","name":"Item","supplementaryInformation":"[\"3D Object ID\",\"Parent 3D Object ID\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"Create 3D Sprite","functionType":"Action","group":"3D Object","name":"Create3DSprite","sentence":"Create 3D Sprite (ID: _PARAM1_, X: _PARAM2_, Y: _PARAM3_, Z: _PARAM4_, Scale: _PARAM5_, Texture: _PARAM6_, Œ±Test: _PARAM7_, Opacity: _PARAM8_, Blend: _PARAM9_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Textures\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Textures = gdjs.__WithThreeJS.get(\"Textures\");","const TextureId = eventsFunctionContext.getArgument(\"TextureId\");","if (!Textures.has(TextureId)) {","    console.warn(\"3D Texture not found: \" + TextureId);","    return;","}","const Id = eventsFunctionContext.getArgument(\"Id\");","const X = eventsFunctionContext.getArgument(\"X\");","const Y = eventsFunctionContext.getArgument(\"Y\");","const Z = eventsFunctionContext.getArgument(\"Z\");","const Scale = eventsFunctionContext.getArgument(\"Scale\");","const AlphaTest = eventsFunctionContext.getArgument(\"AlphaTest\");","const Opacity = eventsFunctionContext.getArgument(\"Opacity\");","const Transparent = (AlphaTest !== 0 || Opacity !== 1);","let Blend = THREE.NormalBlending;","if (eventsFunctionContext.getArgument(\"Blend\") == \"Additive\") {","    Blend = THREE.AdditiveBlending;","} else if (eventsFunctionContext.getArgument(\"Blend\") == \"Subtractive\") {","    Blend = THREE.SubtractiveBlending;","} else if (eventsFunctionContext.getArgument(\"Blend\") == \"Multiply\") {","    Blend = THREE.MultiplyBlending;","}","//","const Texture = Textures.get(TextureId);","const TextureWidth = Texture.image.width;","const TextureHeight = Texture.image.height;","const Material = new THREE.SpriteMaterial({map:Texture, transparent:Transparent, alphaTest:AlphaTest, blending:Blend, opacity:Opacity});","const Sprite = new THREE.Sprite(Material);","Sprite.geometry.computeBoundingBox();","Sprite.position.set(X, Y, Z);","Sprite.scale.set(TextureWidth * Scale, TextureHeight * Scale, 1);","Sprite.name = Id;","Scene.add(Sprite);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"X","name":"X","type":"expression"},{"description":"Y","name":"Y","type":"expression"},{"description":"Z","name":"Z","type":"expression"},{"description":"Scale","longDescription":"Recommended value: 1","name":"Scale","type":"expression"},{"description":"3D Texture ID","name":"TextureId","supplementaryInformation":"scene3D Texture ID","type":"identifier"},{"description":"Alpha Channel Test (0 to 1)","longDescription":"Recommended values: 0 or 0.5  \nIf the texture is opaque, you can set the value to 0 to reduce the drawing load.","name":"AlphaTest","type":"expression"},{"description":"Opacity (0 to 1)","longDescription":"1 is fully opaque.  \nIf the object is opaque, you can set the value to 1 to reduce the drawing load.","name":"Opacity","type":"expression"},{"description":"Blend Mode","name":"Blend","supplementaryInformation":"[\"Normal\",\"Additive\",\"Subtractive\",\"Multiply\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"Create 3D Plane","functionType":"Action","group":"3D Object","name":"Create3DPlane","sentence":"Create 3D Plane (ID: _PARAM1_, X: _PARAM2_, Y: _PARAM3_, Z: _PARAM4_, AX: _PARAM5_, AY: _PARAM6_, AZ: _PARAM7_, W: _PARAM8_, H: _PARAM9_, Texture: _PARAM10_, Œ±Test: _PARAM11_, Opacity: _PARAM12_, Blend: _PARAM13_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Textures\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Textures = gdjs.__WithThreeJS.get(\"Textures\");","const TextureId = eventsFunctionContext.getArgument(\"TextureId\");","if (!Textures.has(TextureId)) {","    console.warn(\"3D Texture not found: \" + TextureId);","    return;","}","const Id = eventsFunctionContext.getArgument(\"Id\");","const X = eventsFunctionContext.getArgument(\"X\");","const Y = eventsFunctionContext.getArgument(\"Y\");","const Z = eventsFunctionContext.getArgument(\"Z\");","const AngleX = eventsFunctionContext.getArgument(\"AngleX\");","const AngleY = eventsFunctionContext.getArgument(\"AngleY\");","const AngleZ = eventsFunctionContext.getArgument(\"AngleZ\");","const Width = eventsFunctionContext.getArgument(\"Width\");","const Height = eventsFunctionContext.getArgument(\"Height\");","const AlphaTest = eventsFunctionContext.getArgument(\"AlphaTest\");","const Opacity = eventsFunctionContext.getArgument(\"Opacity\");","const Transparent = (AlphaTest !== 0 || Opacity !== 1);","let Blend = THREE.NormalBlending;","if (eventsFunctionContext.getArgument(\"Blend\") == \"Additive\") {","    Blend = THREE.AdditiveBlending;","} else if (eventsFunctionContext.getArgument(\"Blend\") == \"Subtractive\") {","    Blend = THREE.SubtractiveBlending;","} else if (eventsFunctionContext.getArgument(\"Blend\") == \"Multiply\") {","    Blend = THREE.MultiplyBlending;","}","//","const Texture = Textures.get(TextureId);","// const Material = new THREE.MeshBasicMaterial({map: Texture, side: THREE.DoubleSide, transparent:Transparent, alphaTest:AlphaTest, blending:Blend, opacity:Opacity});//transparent:false, alphaTest:0, opacity:1.0","const Material = new THREE.MeshLambertMaterial({map: Texture, side: THREE.DoubleSide, transparent:Transparent, alphaTest:AlphaTest, blending:Blend, opacity:Opacity});//transparent:false, alphaTest:0, opacity:1.0","const Geometry = new THREE.PlaneGeometry(Width, Height, 1, 1);","Geometry.computeBoundingBox();","const Plane = new THREE.Mesh(Geometry, Material);","Plane.position.set(X, Y, Z);","Plane.rotation.set(gdjs.toRad(AngleX), gdjs.toRad(AngleY), gdjs.toRad(AngleZ));","Plane.name = Id;","Scene.add(Plane);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"X","name":"X","type":"expression"},{"description":"Y","name":"Y","type":"expression"},{"description":"Z","name":"Z","type":"expression"},{"description":"Angle X Axis","name":"AngleX","type":"expression"},{"description":"Angle Y Axis","name":"AngleY","type":"expression"},{"description":"Angle Z Axis","name":"AngleZ","type":"expression"},{"description":"Width","name":"Width","type":"expression"},{"description":"Height","name":"Height","type":"expression"},{"description":"3D Texture ID","name":"TextureId","supplementaryInformation":"scene3D Texture ID","type":"identifier"},{"description":"Alpha Channel Test (0 to 1)","longDescription":"Recommended values: 0 or 0.5  \nIf the texture is opaque, you can set the value to 0 to reduce the drawing load.","name":"AlphaTest","type":"expression"},{"description":"Opacity (0 to 1)","longDescription":"1 is fully opaque.  \nIf the object is opaque, you can set the value to 1 to reduce the drawing load.","name":"Opacity","type":"expression"},{"description":"Blend Mode","name":"Blend","supplementaryInformation":"[\"Normal\",\"Additive\",\"Subtractive\",\"Multiply\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"Create 3D Box","functionType":"Action","group":"3D Object","name":"Create3DBox","sentence":"Create 3D Box (ID: _PARAM1_, X: _PARAM2_, Y: _PARAM3_, Z: _PARAM4_, AX: _PARAM5_, AY: _PARAM6_, AZ: _PARAM7_, W: _PARAM8_, H: _PARAM9_, D: _PARAM10_, Texture: _PARAM11_, Œ±Test: _PARAM12_, Opacity: _PARAM13_, Blend: _PARAM14_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Textures\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Textures = gdjs.__WithThreeJS.get(\"Textures\");","//","const Id = eventsFunctionContext.getArgument(\"Id\");","const X = eventsFunctionContext.getArgument(\"X\");","const Y = eventsFunctionContext.getArgument(\"Y\");","const Z = eventsFunctionContext.getArgument(\"Z\");","const AngleX = eventsFunctionContext.getArgument(\"AngleX\");","const AngleY = eventsFunctionContext.getArgument(\"AngleY\");","const AngleZ = eventsFunctionContext.getArgument(\"AngleZ\");","const Width = eventsFunctionContext.getArgument(\"Width\");","const Height = eventsFunctionContext.getArgument(\"Height\");","const Depth = eventsFunctionContext.getArgument(\"Depth\");","const TextureIdList = eventsFunctionContext.getArgument(\"TextureIdList\");","const AlphaTest = eventsFunctionContext.getArgument(\"AlphaTest\");","const Opacity = eventsFunctionContext.getArgument(\"Opacity\");","const Transparent = (AlphaTest !== 0 || Opacity !== 1);","let Blend = THREE.NormalBlending;","if (eventsFunctionContext.getArgument(\"Blend\") == \"Additive\") {","    Blend = THREE.AdditiveBlending;","} else if (eventsFunctionContext.getArgument(\"Blend\") == \"Subtractive\") {","    Blend = THREE.SubtractiveBlending;","} else if (eventsFunctionContext.getArgument(\"Blend\") == \"Multiply\") {","    Blend = THREE.MultiplyBlending;","}","//","let TextureList = [];","for (const V of TextureIdList.split(\"\\n\")) {","    if (V != \"\") {","        if (!Textures.has(V)) {","            console.warn(\"3D Texture not found: \" + V);","        } else {","            TextureList.push(Textures.get(V));","        }","    }","}","//","let Materials;","if (TextureList.length === 1) {","    // Materials = new THREE.MeshBasicMaterial({map:TextureList[0], transparent:Transparent, alphaTest:AlphaTest, blending:Blend, opacity:Opacity});","    Materials = new THREE.MeshLambertMaterial({map:TextureList[0], transparent:Transparent, alphaTest:AlphaTest, blending:Blend, opacity:Opacity});","} else if (TextureList.length == 6) {","    Materials = [];","    for (let i = 0; i < TextureList.length; i++) {","        // Materials.push(new THREE.MeshBasicMaterial({map:TextureList[i], transparent:Transparent, alphaTest:AlphaTest, blending:Blend, opacity:Opacity}));//side:THREE.FrontSide, transparent:false, alphaTest:0, opacity:1.0","        Materials.push(new THREE.MeshLambertMaterial({map:TextureList[i], transparent:Transparent, alphaTest:AlphaTest, blending:Blend, opacity:Opacity}));//side:THREE.FrontSide, transparent:false, alphaTest:0, opacity:1.0","    }","} else {","    console.warn(\"Requires 1 or 6 Texture IDs\");","    return;","}","const Geometry = new THREE.BoxGeometry(Width, Height, Depth);","Geometry.computeBoundingBox();","const Box = new THREE.Mesh(Geometry, Materials);","Box.position.set(X, Y, Z);","Box.rotation.set(gdjs.toRad(AngleX), gdjs.toRad(AngleY), gdjs.toRad(AngleZ));","Box.name = Id;","Scene.add(Box);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"X","name":"X","type":"expression"},{"description":"Y","name":"Y","type":"expression"},{"description":"Z","name":"Z","type":"expression"},{"description":"Angle X Axis","name":"AngleX","type":"expression"},{"description":"Angle Y Axis","name":"AngleY","type":"expression"},{"description":"Angle Z Axis","name":"AngleZ","type":"expression"},{"description":"Width","name":"Width","type":"expression"},{"description":"Height","name":"Height","type":"expression"},{"description":"Depth","name":"Depth","type":"expression"},{"description":"3D Texture ID List","longDescription":"One Texture ID per line. Requires 1 or 6 Texture IDs. 3D Object with 6 textures increase the drawing load.","name":"TextureIdList","supplementaryInformation":"scene3D Texture ID","type":"identifier"},{"description":"Alpha Channel Test (0 to 1)","longDescription":"Recommended values: 0 or 0.5  \nIf the texture is opaque, you can set the value to 0 to reduce the drawing load.  \nThe same value is set for multiple textures.","name":"AlphaTest","type":"expression"},{"description":"Opacity (0 to 1)","longDescription":"1 is fully opaque.  \nIf the object is opaque, you can set the value to 1 to reduce the drawing load.  \nThe same value is set for multiple textures.","name":"Opacity","type":"expression"},{"description":"Blend Mode","longDescription":"The same value is set for multiple textures.","name":"Blend","supplementaryInformation":"[\"Normal\",\"Additive\",\"Subtractive\",\"Multiply\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"Create 3D Model","functionType":"Action","group":"3D Object","name":"Create3DModel","sentence":"Create 3D Model (3D Model: _PARAM1_, ID: _PARAM2_, X: _PARAM3_, Y: _PARAM4_, Z: _PARAM5_, AX: _PARAM6_, AY: _PARAM7_, AZ: _PARAM8_, Scale: _PARAM9_, Texture: _PARAM10_, Œ±Test: _PARAM11_, Opacity: _PARAM12_, Blend: _PARAM13_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Textures\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Models\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Textures = gdjs.__WithThreeJS.get(\"Textures\");","const Models = gdjs.__WithThreeJS.get(\"Models\");","//","const ModelId = eventsFunctionContext.getArgument(\"ModelId\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const X = eventsFunctionContext.getArgument(\"X\");","const Y = eventsFunctionContext.getArgument(\"Y\");","const Z = eventsFunctionContext.getArgument(\"Z\");","const AngleX = eventsFunctionContext.getArgument(\"AngleX\");","const AngleY = eventsFunctionContext.getArgument(\"AngleY\");","const AngleZ = eventsFunctionContext.getArgument(\"AngleZ\");","const Scale = eventsFunctionContext.getArgument(\"Scale\");","const TextureIdList = eventsFunctionContext.getArgument(\"TextureIdList\");","const AlphaTest = eventsFunctionContext.getArgument(\"AlphaTest\");","const Opacity = eventsFunctionContext.getArgument(\"Opacity\");","const Transparent = (AlphaTest !== 0 || Opacity !== 1);","let Blend = THREE.NormalBlending;","if (eventsFunctionContext.getArgument(\"Blend\") == \"Additive\") {","    Blend = THREE.AdditiveBlending;","} else if (eventsFunctionContext.getArgument(\"Blend\") == \"Subtractive\") {","    Blend = THREE.SubtractiveBlending;","} else if (eventsFunctionContext.getArgument(\"Blend\") == \"Multiply\") {","    Blend = THREE.MultiplyBlending;","}","//","let TextureList = [];","for (const V of TextureIdList.split(\"\\n\")) {","    if (V != \"\") {","        if (!Textures.has(V)) {","            console.warn(\"3D Texture not found: \" + V);","        } else {","            TextureList.push(Textures.get(V));","        }","    }","}","//","if (!Models.has(ModelId)) {","    console.warn(\"3D Model not found: \" + ModelId);","    return;","}","//","const Model = Models.get(ModelId).clone();","//","// gdjs.__WithThreeJS.get(\"AllMaterialClone\")(Model, Transparent, AlphaTest, Blend, Opacity);","const Mats = new Map();","gdjs.__WithThreeJS.get(\"GetAllMaterials\")(Model, Mats);","for (const [K, V] of Mats) {","    const CloneMaterial = V.clone();","    CloneMaterial.transparent = Transparent;","    CloneMaterial.alphaTest = AlphaTest;","    CloneMaterial.blending = Blend;","    CloneMaterial.opacity = Opacity;","    Mats.set(K, CloneMaterial);","}","gdjs.__WithThreeJS.get(\"ReplaceMaterial\")(Model, Mats);","//","Model.position.set(X, Y, Z);","Model.rotation.set(gdjs.toRad(AngleX), gdjs.toRad(AngleY), gdjs.toRad(AngleZ));","Model.name = Id;","Model.scale.setScalar(Scale);","gdjs.__WithThreeJS.get(\"SettingRecursiveTextures\")(Model, TextureList);","Scene.add(Model);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Model ID","name":"ModelId","supplementaryInformation":"scene3D Model ID","type":"identifier"},{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"X","name":"X","type":"expression"},{"description":"Y","name":"Y","type":"expression"},{"description":"Z","name":"Z","type":"expression"},{"description":"Angle X Axis","name":"AngleX","type":"expression"},{"description":"Angle Y Axis","name":"AngleY","type":"expression"},{"description":"Angle Z Axis","name":"AngleZ","type":"expression"},{"description":"Scale","name":"Scale","type":"expression"},{"description":"3D Texture ID List","longDescription":"One Texture ID per line.","name":"TextureIdList","supplementaryInformation":"scene3D Texture ID","type":"identifier"},{"description":"Alpha Channel Test (0 to 1)","longDescription":"Recommended values: 0 or 0.5  \nIf the texture is opaque, you can set the value to 0 to reduce the drawing load.  \nThe same value is set for multiple textures.","name":"AlphaTest","type":"expression"},{"description":"Opacity (0 to 1)","longDescription":"1 is fully opaque.  \nIf the object is opaque, you can set the value to 1 to reduce the drawing load.  \nThe same value is set for multiple textures.","name":"Opacity","type":"expression"},{"description":"Blend Mode","longDescription":"The same value is set for multiple textures.","name":"Blend","supplementaryInformation":"[\"Normal\",\"Additive\",\"Subtractive\",\"Multiply\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"Create 3D Model From Built-In 3D Model","functionType":"Action","group":"3D Object","name":"Create3DModelFromBuiltIn","sentence":"Create 3D Model From Built-In (3D Model: _PARAM1_, ID: _PARAM2_, X: _PARAM3_, Y: _PARAM4_, Z: _PARAM5_, AX: _PARAM6_, AY: _PARAM7_, AZ: _PARAM8_, Scale: _PARAM9_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.get(\"BuiltIn3D\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Models\")) {","    gdjs.__WithThreeJS.set(\"Models\", new Map());","}","const Models = gdjs.__WithThreeJS.get(\"Models\");","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","//","const ModelObject = eventsFunctionContext.getObjectsLists(\"ModelObject\");","const ModelObjectName = ModelObject.firstKey();","const ModelResourceName = runtimeScene._objects.get(ModelObjectName).content.modelResourceName;","const Id = eventsFunctionContext.getArgument(\"Id\");","const X = eventsFunctionContext.getArgument(\"X\");","const Y = eventsFunctionContext.getArgument(\"Y\");","const Z = eventsFunctionContext.getArgument(\"Z\");","const AngleX = eventsFunctionContext.getArgument(\"AngleX\");","const AngleY = eventsFunctionContext.getArgument(\"AngleY\");","const AngleZ = eventsFunctionContext.getArgument(\"AngleZ\");","const Scale = eventsFunctionContext.getArgument(\"Scale\");","//","if (!Models.has(ModelResourceName)) {","    const ResourceModel = runtimeScene.getGame().getModel3DManager().getModel(ModelResourceName).scene;","    const ResourceAnimations = runtimeScene.getGame().getModel3DManager().getModel(ModelResourceName).animations;","    ResourceModel.animations = ResourceAnimations;","    const Mats = new Map();","    gdjs.__WithThreeJS.get(\"GetAllMaterials\")(ResourceModel, Mats);","    // MeshStandardMaterial „Åã„ÇâÊåáÂÆö„ÅÆ„Éû„ÉÜ„É™„Ç¢„É´„Å∏Â§âÊèõ","    for (const [K, V] of Mats) {","        // const BasicMaterial = new THREE.MeshBasicMaterial();","        const LambertMaterial = new THREE.MeshLambertMaterial();","        for(const KK of Object.keys(V)) {","            if (KK === \"isMaterial\") {","                continue;","            }","            if (KK === \"uuid\") {","                continue;","            }","            if (KK === \"type\") {","                continue;","            }","            if (LambertMaterial[KK] !== undefined) {","                LambertMaterial[KK] = V[KK];","            }","            //console.log(`V.${KK} = ${V[KK]}`);","        }","        LambertMaterial.side = THREE.FrontSide;","        V.dispose();// „Åì„Åì„ÅßÂÆüË°å„Åó„Å¶ÊÑèÂë≥„ÅÇ„ÇãÔºü","        Mats.set(K, LambertMaterial);","    }","    gdjs.__WithThreeJS.get(\"ReplaceMaterial\")(ResourceModel, Mats);","    Models.set(ModelResourceName, ResourceModel);","    // console.log(ResourceModel, ResourceAnimations);","}","// const Model = Models.get(ModelResourceName).clone();// „Åì„Çå„Å†„Å®„Éú„Éº„É≥„ÅåÊ©üËÉΩ„Åó„Å™„Åè„Å™„Çã","const Model = THREE_ADDONS.SkeletonUtils.clone(Models.get(ModelResourceName));","//","const Mats = new Map();","gdjs.__WithThreeJS.get(\"GetAllMaterials\")(Model, Mats);","for (const [K, V] of Mats) {","    const CloneMaterial = V.clone();","    Mats.set(K, CloneMaterial);","}","gdjs.__WithThreeJS.get(\"ReplaceMaterial\")(Model, Mats);","//","Model.position.set(X, Y, Z);","Model.rotation.set(gdjs.toRad(AngleX), gdjs.toRad(AngleY), gdjs.toRad(AngleZ));","Model.name = Id;","Model.scale.setScalar(Scale);","Scene.add(Model);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Model Object","name":"ModelObject","supplementaryInformation":"Scene3D::Model3DObject","type":"objectList"},{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"X","name":"X","type":"expression"},{"description":"Y","name":"Y","type":"expression"},{"description":"Z","name":"Z","type":"expression"},{"description":"Angle X Axis","name":"AngleX","type":"expression"},{"description":"Angle Y Axis","name":"AngleY","type":"expression"},{"description":"Angle Z Axis","name":"AngleZ","type":"expression"},{"description":"Scale","name":"Scale","type":"expression"}],"objectGroups":[]},{"description":"‚ö†Ô∏è 3D Lights are highly loaded.\n3D Directional Light and 3D Spot Light emit light in the -Z direction.\n3D Lights can be handled like 3D Objects.","fullName":"Create 3D Light","functionType":"Action","group":"3D Light","name":"Create3DLight","sentence":"Create 3D Light (ID: _PARAM1_, Type: _PARAM2_, Color: _PARAM3_, Intensity: _PARAM4_, Distance: _PARAM5_, SpotAngle: _PARAM6_, SpotPenumbra: _PARAM7_, Pos: _PARAM8_, _PARAM9_, _PARAM10_, Ang: _PARAM11_, _PARAM12_, _PARAM13_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","//","const LightId = eventsFunctionContext.getArgument(\"LightId\");","const LightType = eventsFunctionContext.getArgument(\"Type\");","const Color = eventsFunctionContext.getArgument(\"Color\") || \"255;255;255\";","let Intensity = eventsFunctionContext.getArgument(\"Intensity\");","const Distance = eventsFunctionContext.getArgument(\"Distance\");","const Decay = 2;","const SpotAngle = eventsFunctionContext.getArgument(\"SpotAngle\");","const SpotPenumbra = eventsFunctionContext.getArgument(\"SpotPenumbra\");","const X = eventsFunctionContext.getArgument(\"X\");","const Y = eventsFunctionContext.getArgument(\"Y\");","const Z = eventsFunctionContext.getArgument(\"Z\");","const AngleX = eventsFunctionContext.getArgument(\"AngleX\");","const AngleY = eventsFunctionContext.getArgument(\"AngleY\");","const AngleZ = eventsFunctionContext.getArgument(\"AngleZ\");","//","const RGB = Color.split(\";\");","let Light;","if (LightType == \"Directional Light\") {","    Intensity *= gdjs.__WithThreeJS.get(\"LightIntensityScale\");// Three.js r160","    Light = new THREE.DirectionalLight(`rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`, Intensity);","    const Target = new THREE.Group();","    Target.translateZ(-1);","    Light.add(Target);","    Light.target = Target;","} else if (LightType == \"Spot Light\") {","    Intensity *= gdjs.__WithThreeJS.get(\"LightIntensityCandela\");// Three.js r160","    Light = new THREE.SpotLight(`rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`, Intensity, Distance, gdjs.toRad(SpotAngle), SpotPenumbra, Decay);","    const Target = new THREE.Group();","    Target.translateZ(-1);","    Light.add(Target);","    Light.target = Target;","} else {","    // Point","    Intensity *= gdjs.__WithThreeJS.get(\"LightIntensityCandela\");// Three.js r160","    Light = new THREE.PointLight(`rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`, Intensity, Distance, Decay);","}","Light.name = LightId;","Light.position.set(X, Y, Z);","Light.rotation.set(gdjs.toRad(AngleX), gdjs.toRad(AngleY), gdjs.toRad(AngleZ));","Scene.add(Light);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Light ID (3D Object ID)","name":"LightId","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Light Type","name":"Type","supplementaryInformation":"[\"Directional Light\",\"Point Light\",\"Spot Light\"]","type":"stringWithSelector"},{"description":"Color","name":"Color","type":"color"},{"description":"Intensity (Default: 1)","name":"Intensity","type":"expression"},{"description":"Distance (Default: 0)","longDescription":"For Point and Spot Lights.\n0 is no limit.","name":"Distance","type":"expression"},{"description":"Spot Angle (0 to 180)","longDescription":"For Spot Lights.","name":"SpotAngle","type":"expression"},{"description":"Spot Penumbra (0 to 1)","longDescription":"For Spot Lights.","name":"SpotPenumbra","type":"expression"},{"description":"X","name":"X","type":"expression"},{"description":"Y","name":"Y","type":"expression"},{"description":"Z","name":"Z","type":"expression"},{"description":"Angle X Axis","name":"AngleX","type":"expression"},{"description":"Angle Y Axis","name":"AngleY","type":"expression"},{"description":"Angle Z Axis","name":"AngleZ","type":"expression"}],"objectGroups":[]},{"description":"This 3D Object without geometry is useful for grouping other 3D Objects together or changing their center point.","fullName":"Create 3D Group","functionType":"Action","group":"3D Object","name":"Create3DGroup","sentence":"Create 3D Group (ID: _PARAM1_, X: _PARAM2_, Y: _PARAM3_, Z: _PARAM4_, AX: _PARAM5_, AY: _PARAM6_, AZ: _PARAM7_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const X = eventsFunctionContext.getArgument(\"X\");","const Y = eventsFunctionContext.getArgument(\"Y\");","const Z = eventsFunctionContext.getArgument(\"Z\");","const AngleX = eventsFunctionContext.getArgument(\"AngleX\");","const AngleY = eventsFunctionContext.getArgument(\"AngleY\");","const AngleZ = eventsFunctionContext.getArgument(\"AngleZ\");","const Group = new THREE.Group();","Group.position.set(X, Y, Z);","Group.rotation.set(gdjs.toRad(AngleX), gdjs.toRad(AngleY), gdjs.toRad(AngleZ));","Group.name = Id;","Scene.add(Group);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"X","name":"X","type":"expression"},{"description":"Y","name":"Y","type":"expression"},{"description":"Z","name":"Z","type":"expression"},{"description":"Angle X Axis","name":"AngleX","type":"expression"},{"description":"Angle Y Axis","name":"AngleY","type":"expression"},{"description":"Angle Z Axis","name":"AngleZ","type":"expression"}],"objectGroups":[]},{"description":"Move a 3D Camera.\n'=' is relative to the parent axis.\n\"+\" and \"-\" are relative to the local axis.","fullName":"Move 3D Camera","functionType":"Action","group":"3D Camera","name":"Move3DCamera","sentence":"Move 3D Camera (ID: _PARAM1_, _PARAM2_, X: _PARAM3_, Y: _PARAM4_, Z: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const X = eventsFunctionContext.getArgument(\"X\");","const Y = eventsFunctionContext.getArgument(\"Y\");","const Z = eventsFunctionContext.getArgument(\"Z\");","//","if (Operator == \"=\") {","    Camera.position.set(X, Y, Z);","} else if (Operator == \"+\") {","    Camera.translateX(X);","    Camera.translateY(Y);","    Camera.translateZ(Z);","} else {","    Camera.translateX(-X);","    Camera.translateY(-Y);","    Camera.translateZ(-Z);","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"X","name":"X","type":"expression"},{"description":"Y","name":"Y","type":"expression"},{"description":"Z","name":"Z","type":"expression"}],"objectGroups":[]},{"description":"Rotate the 3D Camera in the order X, Y, Z.","fullName":"Rotate 3D Camera","functionType":"Action","group":"3D Camera","name":"Rotate3DCamera","sentence":"Rotate 3D Camera (ID: _PARAM1_, _PARAM2_, X: _PARAM3_, Y: _PARAM4_, Z: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const AngleX = eventsFunctionContext.getArgument(\"AngleX\");","const AngleY = eventsFunctionContext.getArgument(\"AngleY\");","const AngleZ = eventsFunctionContext.getArgument(\"AngleZ\");","//","if (Operator == \"=\") {","    Camera.rotation.set(gdjs.toRad(AngleX), gdjs.toRad(AngleY), gdjs.toRad(AngleZ));","} else if (Operator == \"+\") {","    Camera.rotateX(gdjs.toRad(AngleX));","    Camera.rotateY(gdjs.toRad(AngleY));","    Camera.rotateZ(gdjs.toRad(AngleZ));","} else {","    Camera.rotateX(gdjs.toRad(-AngleX));","    Camera.rotateY(gdjs.toRad(-AngleY));","    Camera.rotateZ(gdjs.toRad(-AngleZ));","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Angle X","name":"AngleX","type":"expression"},{"description":"Angle Y","name":"AngleY","type":"expression"},{"description":"Angle Z","name":"AngleZ","type":"expression"}],"objectGroups":[]},{"description":"Rotate the 3D Camera in the order X, Y, Z on the world axis.","fullName":"Rotate 3D Camera On World","functionType":"Action","group":"3D Camera","name":"Rotate3DCameraOnWorld","sentence":"Rotate 3D Camera On World (ID: _PARAM1_, _PARAM2_, X: _PARAM3_, Y: _PARAM4_, Z: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const AngleX = eventsFunctionContext.getArgument(\"AngleX\");","const AngleY = eventsFunctionContext.getArgument(\"AngleY\");","const AngleZ = eventsFunctionContext.getArgument(\"AngleZ\");","//","if (Operator == \"=\") {","    Camera.rotation.set(0, 0, 0);","    Camera.rotateOnWorldAxis(new THREE.Vector3(1, 0, 0), gdjs.toRad(AngleX));","    Camera.rotateOnWorldAxis(new THREE.Vector3(0, 1, 0), gdjs.toRad(AngleY));","    Camera.rotateOnWorldAxis(new THREE.Vector3(0, 0, 1), gdjs.toRad(AngleZ));","} else if (Operator == \"+\") {","    Camera.rotateOnWorldAxis(new THREE.Vector3(1, 0, 0), gdjs.toRad(AngleX));","    Camera.rotateOnWorldAxis(new THREE.Vector3(0, 1, 0), gdjs.toRad(AngleY));","    Camera.rotateOnWorldAxis(new THREE.Vector3(0, 0, 1), gdjs.toRad(AngleZ));","} else {","    Camera.rotateOnWorldAxis(new THREE.Vector3(1, 0, 0), gdjs.toRad(-AngleX));","    Camera.rotateOnWorldAxis(new THREE.Vector3(0, 1, 0), gdjs.toRad(-AngleY));","    Camera.rotateOnWorldAxis(new THREE.Vector3(0, 0, 1), gdjs.toRad(-AngleZ));","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Angle X","name":"AngleX","type":"expression"},{"description":"Angle Y","name":"AngleY","type":"expression"},{"description":"Angle Z","name":"AngleZ","type":"expression"}],"objectGroups":[]},{"description":"Rotate the 3D Camera first in the world Y axis, then on the local X and Z axes.","fullName":"Rotate 3D Camera Like Head","functionType":"Action","group":"3D Camera","name":"Rotate3DCameraLikeHead","sentence":"Rotate 3D Camera Like Head (ID: _PARAM1_, _PARAM2_, X: _PARAM3_, Y: _PARAM4_, Z: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const AngleX = eventsFunctionContext.getArgument(\"AngleX\");","const AngleY = eventsFunctionContext.getArgument(\"AngleY\");","const AngleZ = eventsFunctionContext.getArgument(\"AngleZ\");","//","if (Operator == \"=\") {","    // Camera.rotation.set(gdjs.toRad(AngleX), gdjs.toRad(AngleY), gdjs.toRad(AngleZ), \"YXZ\");","    Camera.rotation.set(0, 0, 0);","    Camera.rotateY(gdjs.toRad(AngleY));","    Camera.rotateX(gdjs.toRad(AngleX));","    Camera.rotateZ(gdjs.toRad(AngleZ));","} else if (Operator == \"+\") {","    Camera.rotateX(gdjs.toRad(AngleX));","    Camera.rotateOnWorldAxis(new THREE.Vector3(0, 1, 0), gdjs.toRad(AngleY));","    Camera.rotateZ(gdjs.toRad(AngleZ));","} else {","    Camera.rotateX(gdjs.toRad(-AngleX));","    Camera.rotateOnWorldAxis(new THREE.Vector3(0, 1, 0), gdjs.toRad(-AngleY));","    Camera.rotateZ(gdjs.toRad(-AngleZ));","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Angle X","name":"AngleX","type":"expression"},{"description":"Angle Y","name":"AngleY","type":"expression"},{"description":"Angle Z","name":"AngleZ","type":"expression"}],"objectGroups":[]},{"fullName":"3D Camera Look At 3D Object","functionType":"Action","group":"3D Camera","name":"CameraLookAt3DObject","sentence":"3D Camera Look At 3D Object (Camera ID: _PARAM1_, Target ID: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const TargetId = eventsFunctionContext.getArgument(\"TargetId\");","//","const Obj = Scene.getObjectByName(TargetId);","if (!Obj) {","    console.warn(\"3D Object not found: \" + TargetId);","    return;","}","//","const WPos = new THREE.Vector3();","Obj.getWorldPosition(WPos);","Camera.lookAt(WPos);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Target 3D Object ID","name":"TargetId","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"description":"Correct the 3D Camera Rotation within limits.\nRotation is corrected like head movement. Limiting multiple axes can break things.","fullName":"Correct 3D Camera Rotation Within Limits (Deprecated)","functionType":"Action","group":"3D Camera","name":"Correct3DCameraRotationWithinLimits","private":true,"sentence":"‚ö†Ô∏è Correct 3D Camera Rotation Within Limits (ID: _PARAM1_, Axis: _PARAM2_, Limit: _PARAM3_ to _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Rad3 = gdjs.__WithThreeJS.get(\"GetSingleRadian3\")(Camera);","const Axis = eventsFunctionContext.getArgument(\"Axis\");","const MinAngle = gdjs.toRad(eventsFunctionContext.getArgument(\"MinAngle\"));","const MaxAngle = gdjs.toRad(eventsFunctionContext.getArgument(\"MaxAngle\"));","//","if (Axis == \"X\") {","    if (Rad3.x < MinAngle) {","        Camera.rotateX(MinAngle - Rad3.x);","    }","    if (Rad3.x > MaxAngle) {","        Camera.rotateX(MaxAngle - Rad3.x);","    }","} else if (Axis == \"Y\") {","    if (Rad3.y < MinAngle) {","        Camera.rotateOnWorldAxis(new THREE.Vector3(0, 1, 0), MinAngle - Rad3.y);","    }","    if (Rad3.y > MaxAngle) {","        Camera.rotateOnWorldAxis(new THREE.Vector3(0, 1, 0), MaxAngle - Rad3.y);","    }","} else {","    if (Rad3.z < MinAngle) {","        Camera.rotateZ(MinAngle - Rad3.z);","    }","    if (Rad3.z > MaxAngle) {","        Camera.rotateZ(MaxAngle - Rad3.z);","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"},{"description":"Min Angle (-180 to 180)","name":"MinAngle","type":"expression"},{"description":"Max Angle (-180 to 180)","name":"MaxAngle","type":"expression"}],"objectGroups":[]},{"description":"Change the Field Of View of the 3D Camera.","fullName":"Change 3D Camera FOV","functionType":"Action","group":"3D Camera","name":"Change3DCameraFOV","sentence":"Change 3D Camera FOV (ID: _PARAM1_, _PARAM2_, Fov: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const Fov = eventsFunctionContext.getArgument(\"Fov\");","//","if (Operator == \"=\") {","    Camera.fov = Fov;","} else if (Operator == \"+\") {","    Camera.fov += Fov;","} else if (Operator == \"-\") {","    Camera.fov -= Fov;","}","Camera.updateProjectionMatrix();","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Field Of View (Default: 50)","name":"Fov","type":"expression"}],"objectGroups":[]},{"description":"Change the near property of the 3D Camera.\nThe 3D Camera will not render 3D Objects closer than this distance.","fullName":"Change 3D Camera Near","functionType":"Action","group":"3D Camera","name":"Change3DCameraNear","sentence":"Change 3D Camera Near (ID: _PARAM1_, _PARAM2_, Near: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const Near = eventsFunctionContext.getArgument(\"Near\");","//","if (Operator == \"=\") {","    Camera.near = Near;","} else if (Operator == \"+\") {","    Camera.near += Near;","} else if (Operator == \"-\") {","    Camera.near -= Near;","}","Camera.updateProjectionMatrix();","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Near (Default: 0.1) (Greater than 0)","name":"Near","type":"expression"}],"objectGroups":[]},{"description":"Change the far property of 3D Camera.\nThe 3D Camera will not render 3D Objects farther than this distance.","fullName":"Change 3D Camera Far","functionType":"Action","group":"3D Camera","name":"Change3DCameraFar","sentence":"Change 3D Camera Far (ID: _PARAM1_, _PARAM2_, Far: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const Far = eventsFunctionContext.getArgument(\"Far\");","//","if (Operator == \"=\") {","    Camera.far = Far;","} else if (Operator == \"+\") {","    Camera.far += Far;","} else if (Operator == \"-\") {","    Camera.far -= Far;","}","Camera.updateProjectionMatrix();","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Far (Default: 10000)","name":"Far","type":"expression"}],"objectGroups":[]},{"fullName":"Change 3D Camera Zoom","functionType":"Action","group":"3D Camera","name":"Change3DCameraZoom","sentence":"Change 3D Camera Zoom (ID: _PARAM1_, _PARAM2_, Zoom: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const Zoom = eventsFunctionContext.getArgument(\"Zoom\");","//","if (Operator == \"=\") {","    Camera.zoom = Zoom;","} else if (Operator == \"+\") {","    Camera.zoom += Zoom;","} else if (Operator == \"-\") {","    Camera.zoom -= Zoom;","}","Camera.updateProjectionMatrix();","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Zoom (Default: 1)","name":"Zoom","type":"expression"}],"objectGroups":[]},{"description":"Note that rendering time increases by the number of enabled 3D Cameras.","fullName":"Setup Multiple 3D Cameras","functionType":"Action","group":"3D Camera","name":"SetupMultiple3DCameras","sentence":"Setup Multiple 3D Cameras (Camera2: _PARAM5_, Camera3: _PARAM10_, Camera4: _PARAM15_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Canvas2D = gdjs.__WithThreeJS.get(\"Canvas2D\");","const Rect = Canvas2D.getBoundingClientRect();","const AllCams = gdjs.__WithThreeJS.get(\"AllCams\");","const Arguments = {};","Arguments.Camera1 = {};","Arguments.Camera1.Active = true;","Arguments.Camera1.Top = eventsFunctionContext.getArgument(\"Top1\") || 0;","Arguments.Camera1.Bottom = eventsFunctionContext.getArgument(\"Bottom1\") || 1;","Arguments.Camera1.Left = eventsFunctionContext.getArgument(\"Left1\") || 0;","Arguments.Camera1.Right = eventsFunctionContext.getArgument(\"Right1\") || 1;","Arguments.Camera2 = {};","Arguments.Camera2.Active = eventsFunctionContext.getArgument(\"Active2\") || false;","Arguments.Camera2.Top = eventsFunctionContext.getArgument(\"Top2\") || 0;","Arguments.Camera2.Bottom = eventsFunctionContext.getArgument(\"Bottom2\") || 1;","Arguments.Camera2.Left = eventsFunctionContext.getArgument(\"Left2\") || 0;","Arguments.Camera2.Right = eventsFunctionContext.getArgument(\"Right2\") || 1;","Arguments.Camera3 = {};","Arguments.Camera3.Active = eventsFunctionContext.getArgument(\"Active3\") || false;","Arguments.Camera3.Top = eventsFunctionContext.getArgument(\"Top3\") || 0;","Arguments.Camera3.Bottom = eventsFunctionContext.getArgument(\"Bottom3\") || 1;","Arguments.Camera3.Left = eventsFunctionContext.getArgument(\"Left3\") || 0;","Arguments.Camera3.Right = eventsFunctionContext.getArgument(\"Right3\") || 1;","Arguments.Camera4 = {};","Arguments.Camera4.Active = eventsFunctionContext.getArgument(\"Active4\") || false;","Arguments.Camera4.Top = eventsFunctionContext.getArgument(\"Top4\") || 0;","Arguments.Camera4.Bottom = eventsFunctionContext.getArgument(\"Bottom4\") || 1;","Arguments.Camera4.Left = eventsFunctionContext.getArgument(\"Left4\") || 0;","Arguments.Camera4.Right = eventsFunctionContext.getArgument(\"Right4\") || 1;","//","for (const [K, V] of AllCams) {","    const C = Arguments[K];","    V.userData.CameraStatus.Active = C.Active;","    const T = V.userData.CameraStatus.T = 1 - C.Top;","    const B = V.userData.CameraStatus.B = 1 - C.Bottom;","    const L = V.userData.CameraStatus.L = C.Left;","    const R = V.userData.CameraStatus.R = C.Right;","    V.userData.CameraStatus.X = L * Rect.width;","    V.userData.CameraStatus.Y = B * Rect.height;","    const W = V.userData.CameraStatus.W = (R - L) * Rect.width;","    const H = V.userData.CameraStatus.H = (T - B) * Rect.height;","    V.aspect = W / H;","    V.updateProjectionMatrix();","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Camera1 Viewport: Top (0 to 1, Default: 0)","name":"Top1","type":"expression"},{"description":"Camera1 Viewport: Bottom (0 to 1, Default: 1)","name":"Bottom1","type":"expression"},{"description":"Camera1 Viewport: Left (0 to 1, Default: 0)","name":"Left1","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"expression"},{"description":"Camera1 Viewport: Right (0 to 1, Default: 1)","name":"Right1","type":"expression"},{"defaultValue":"no","description":"Enable 3D Camera2","name":"Active2","optional":true,"type":"yesorno"},{"description":"Camera2 Viewport: Top (0 to 1)","name":"Top2","type":"expression"},{"description":"Camera2 Viewport: Bottom (0 to 1)","name":"Bottom2","type":"expression"},{"description":"Camera2 Viewport: Left (0 to 1)","name":"Left2","type":"expression"},{"description":"Camera2 Viewport: Right (0 to 1)","name":"Right2","type":"expression"},{"description":"Enable 3D Camera3","name":"Active3","type":"yesorno"},{"description":"Camera3 Viewport: Top (0 to 1)","name":"Top3","type":"expression"},{"description":"Camera3 Viewport: Bottom (0 to 1)","name":"Bottom3","type":"expression"},{"description":"Camera3 Viewport: Left (0 to 1)","name":"Left3","type":"expression"},{"description":"Camera3 Viewport: Right (0 to 1)","name":"Right3","type":"expression"},{"description":"Enable 3D Camera4","name":"Active4","type":"yesorno"},{"description":"Camera4 Viewport: Top (0 to 1)","name":"Top4","type":"expression"},{"description":"Camera4 Viewport: Bottom (0 to 1)","name":"Bottom4","type":"expression"},{"description":"Camera4 Viewport: Left (0 to 1)","name":"Left4","type":"expression"},{"description":"Camera4 Viewport: Right (0 to 1)","name":"Right4","type":"expression"}],"objectGroups":[]},{"fullName":"Linearly interpolate 3D Camera","functionType":"Action","group":"3D Camera","name":"LerpCamera","sentence":"Linearly Interpolate 3D Camera (Camera ID: _PARAM1_, Target ID: _PARAM2_, Position: _PARAM3_, Rotation: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const TargetId = eventsFunctionContext.getArgument(\"TargetId\");","const FactorP = eventsFunctionContext.getArgument(\"FactorP\");","const FactorR = eventsFunctionContext.getArgument(\"FactorR\");","//","const Obj = Scene.getObjectByName(TargetId);","if (!Obj) {","    console.warn(\"3D Object not found: \" + TargetId);","    return;","}","//","if (FactorP) {","    const WPos = new THREE.Vector3();","    Obj.getWorldPosition(WPos);","    Camera.position.lerp(WPos, FactorP);","}","if (FactorR) {","    const WQua = new THREE.Quaternion();","    Obj.getWorldQuaternion(WQua);","    Camera.quaternion.slerp(WQua, FactorR);","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Target 3D Object ID","name":"TargetId","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Position interpolation factor (0 to 1)","longDescription":"Disable with 0","name":"FactorP","type":"expression"},{"description":"Rotation interpolation factor (0 to 1)","longDescription":"Disable with 0","name":"FactorR","type":"expression"}],"objectGroups":[]},{"fullName":"3D Camera Position","functionType":"Expression","group":"3D Camera","name":"CameraPosition","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Axis = eventsFunctionContext.getArgument(\"Axis\");","if (Axis == \"X\") {","    eventsFunctionContext.returnValue = Camera.position.x;","} else if (Axis == \"Y\") {","    eventsFunctionContext.returnValue = Camera.position.y;","} else {","    eventsFunctionContext.returnValue = Camera.position.z;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"3D Camera Rotation","functionType":"Expression","group":"3D Camera","name":"CameraRotation","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Axis = eventsFunctionContext.getArgument(\"Axis\");","if (Axis == \"X\") {","    eventsFunctionContext.returnValue = gdjs.toDegrees(Camera.rotation.x);","} else if (Axis == \"Y\") {","    eventsFunctionContext.returnValue = gdjs.toDegrees(Camera.rotation.y);","} else {","    eventsFunctionContext.returnValue = gdjs.toDegrees(Camera.rotation.z);","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"3D Camera Angle for GDevelop.\nReturns the angle of an individual axis.\nNote that combining the resulting XYZ values may not reproduce the original rotation.","fullName":"3D Camera Angle (Experimental)","functionType":"Expression","group":"3D Camera","name":"CameraAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Axis = eventsFunctionContext.getArgument(\"Axis\");","const Rad3 = gdjs.__WithThreeJS.get(\"GetSingleRadian3\")(Camera);","","if (Axis == \"X\") {","    eventsFunctionContext.returnValue = gdjs.toDegrees(Rad3.x * -1);","} else if (Axis == \"Y\") {","    eventsFunctionContext.returnValue = gdjs.toDegrees(Rad3.y * -1);","} else {","    eventsFunctionContext.returnValue = gdjs.toDegrees(Rad3.z * -1);","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Normalized direction vector of 3D camera.\n(3D Camera is shooting in the negative Z axis direction)","fullName":"3D Camera Direction","functionType":"Expression","group":"3D Camera","name":"CameraDirection","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","const Axis = eventsFunctionContext.getArgument(\"Axis\");","const WorldDirection = new THREE.Vector3();","Camera.getWorldDirection(WorldDirection);","//","if (Axis == \"X\") {","    eventsFunctionContext.returnValue = WorldDirection.x;","} else if (Axis == \"Y\") {","    eventsFunctionContext.returnValue = WorldDirection.y;","} else {","    eventsFunctionContext.returnValue = WorldDirection.z;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"Distance From 3D Camera To 3D Object","functionType":"Expression","group":"3D Camera","name":"DistanceFrom3DCameraTo3DObject","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const CameraId = eventsFunctionContext.getArgument(\"CameraId\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(CameraId);","const Id = eventsFunctionContext.getArgument(\"Id\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const WPos1 = new THREE.Vector3();","const WPos2 = new THREE.Vector3();","Camera.getWorldPosition(WPos1);","Obj.getWorldPosition(WPos2);","eventsFunctionContext.returnValue = WPos1.distanceTo(WPos2);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"From 3D Camera ID (1 to 4)","name":"CameraId","type":"expression"},{"description":"To 3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"fullName":"3D Camera FOV","functionType":"Expression","group":"3D Camera","name":"CameraFOV","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","eventsFunctionContext.returnValue = Camera.fov;","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"}],"objectGroups":[]},{"description":"The camera will not render objects closer than this distance.","fullName":"3D Camera Near","functionType":"Expression","group":"3D Camera","name":"CameraNear","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","eventsFunctionContext.returnValue = Camera.near;","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"}],"objectGroups":[]},{"fullName":"3D Camera Far","functionType":"Expression","group":"3D Camera","name":"CameraFar","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","eventsFunctionContext.returnValue = Camera.far;","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"}],"objectGroups":[]},{"fullName":"3D Camera Zoom","functionType":"Expression","group":"3D Camera","name":"CameraZoom","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(Id);","eventsFunctionContext.returnValue = Camera.zoom;","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Camera ID (1 to 4)","name":"Id","type":"expression"}],"objectGroups":[]},{"fullName":"Point Of 3D Object On 3D Camera","functionType":"Expression","group":"3D Camera","name":"PointOf3DObjectOn3DCamera","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const CameraId = eventsFunctionContext.getArgument(\"CameraId\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(CameraId);","const Id = eventsFunctionContext.getArgument(\"Id\");","const Axis = eventsFunctionContext.getArgument(\"Axis\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const WorldPosition = new THREE.Vector3();","Obj.getWorldPosition(WorldPosition);","const Project = WorldPosition.project(Camera);","//","const T = Camera.userData.CameraStatus.T;","const B = Camera.userData.CameraStatus.B;","const L = Camera.userData.CameraStatus.L;","const R = Camera.userData.CameraStatus.R;","const GameResolutionWidth = runtimeScene.getGame().getGameResolutionWidth();","const GameResolutionHeight = runtimeScene.getGame().getGameResolutionHeight();","const ScreenResolutionWidth = GameResolutionWidth * (R - L);","const ScreenResolutionHeight = GameResolutionHeight * (T - B);","const CameraScreenX = L * GameResolutionWidth;","const CameraScreenY = (1 - T) * GameResolutionHeight;","//","const PointX = CameraScreenX + ((ScreenResolutionWidth / 2) * (Project.x + 1.0));","const PointY = CameraScreenY + ((ScreenResolutionHeight / 2) * ((Project.y * -1) + 1.0));","//","if (Axis == \"X\") {","    eventsFunctionContext.returnValue = PointX;","} else {","    eventsFunctionContext.returnValue = PointY;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Camera ID (1 to 4)","name":"CameraId","type":"expression"},{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Axis Of Return Value","name":"Axis","supplementaryInformation":"[\"X\",\"Y\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"Point Of World Position On 3D Camera","functionType":"Expression","group":"3D Camera","name":"PointOfPositionOn3DCamera","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const CameraId = eventsFunctionContext.getArgument(\"CameraId\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(CameraId);","const X = eventsFunctionContext.getArgument(\"X\");","const Y = eventsFunctionContext.getArgument(\"Y\");","const Z = eventsFunctionContext.getArgument(\"Z\");","const Axis = eventsFunctionContext.getArgument(\"Axis\");","//","const WorldPosition = new THREE.Vector3(X, Y, Z);","const Project = WorldPosition.project(Camera);","//","const T = Camera.userData.CameraStatus.T;","const B = Camera.userData.CameraStatus.B;","const L = Camera.userData.CameraStatus.L;","const R = Camera.userData.CameraStatus.R;","const GameResolutionWidth = runtimeScene.getGame().getGameResolutionWidth();","const GameResolutionHeight = runtimeScene.getGame().getGameResolutionHeight();","const ScreenResolutionWidth = GameResolutionWidth * (R - L);","const ScreenResolutionHeight = GameResolutionHeight * (T - B);","const CameraScreenX = L * GameResolutionWidth;","const CameraScreenY = (1 - T) * GameResolutionHeight;","//","const PointX = CameraScreenX + ((ScreenResolutionWidth / 2) * (Project.x + 1.0));","const PointY = CameraScreenY + ((ScreenResolutionHeight / 2) * ((Project.y * -1) + 1.0));","//","if (Axis == \"X\") {","    eventsFunctionContext.returnValue = PointX;","} else {","    eventsFunctionContext.returnValue = PointY;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Camera ID (1 to 4)","name":"CameraId","type":"expression"},{"description":"World Position X","name":"X","supplementaryInformation":"scene3D Object ID","type":"expression"},{"description":"World Position Y","name":"Y","type":"expression"},{"description":"World Position Z","name":"Z","type":"expression"},{"description":"Axis Of Return Value","name":"Axis","supplementaryInformation":"[\"X\",\"Y\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Move a 3D Object.\n'=' is relative to the parent axis.\n\"+\" and \"-\" are relative to the local axis.","fullName":"Move 3D Object","functionType":"Action","group":"3D Object","name":"Move3DObject","sentence":"Move 3D Object (ID: _PARAM1_, _PARAM2_, X: _PARAM3_, Y: _PARAM4_, Z: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const X = eventsFunctionContext.getArgument(\"X\");","const Y = eventsFunctionContext.getArgument(\"Y\");","const Z = eventsFunctionContext.getArgument(\"Z\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","if (Operator == \"=\") {","    Obj.position.set(X, Y, Z);","} else if (Operator == \"+\") {","    Obj.translateX(X);","    Obj.translateY(Y);","    Obj.translateZ(Z);","} else {","    Obj.translateX(-X);","    Obj.translateY(-Y);","    Obj.translateZ(-Z);","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"X","name":"X","type":"expression"},{"description":"Y","name":"Y","type":"expression"},{"description":"Z","name":"Z","type":"expression"}],"objectGroups":[]},{"description":"Move a 3D Object on the world axis.\n\"=\", \"+\" and \"-\" are relative to the world axis.","fullName":"Move 3D Object On World","functionType":"Action","group":"3D Object","name":"Move3DObjectOnWorld","sentence":"Move 3D Object On World (ID: _PARAM1_, _PARAM2_, X: _PARAM3_, Y: _PARAM4_, Z: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const X = eventsFunctionContext.getArgument(\"X\");","const Y = eventsFunctionContext.getArgument(\"Y\");","const Z = eventsFunctionContext.getArgument(\"Z\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const Parent = Obj.parent;","const WorldPosition = new THREE.Vector3();","Obj.getWorldPosition(WorldPosition);","if (Operator == \"=\") {","    WorldPosition.set(X, Y, Z);","} else if (Operator == \"+\") {","    WorldPosition.add(new THREE.Vector3(X, Y, Z));","} else {","    WorldPosition.sub(new THREE.Vector3(X, Y, Z));","}","Parent.worldToLocal(WorldPosition);","Obj.position.set(WorldPosition.x, WorldPosition.y, WorldPosition.z);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"X","name":"X","type":"expression"},{"description":"Y","name":"Y","type":"expression"},{"description":"Z","name":"Z","type":"expression"}],"objectGroups":[]},{"description":"Rotate the 3D Object in the order X, Y, Z.","fullName":"Rotate 3D Object","functionType":"Action","group":"3D Object","name":"Rotate3DObject","sentence":"Rotate 3D Object (ID: _PARAM1_, _PARAM2_, X: _PARAM3_, Y: _PARAM4_, Z: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const AngleX = eventsFunctionContext.getArgument(\"AngleX\");","const AngleY = eventsFunctionContext.getArgument(\"AngleY\");","const AngleZ = eventsFunctionContext.getArgument(\"AngleZ\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","if (Operator == \"=\") {","    Obj.rotation.set(gdjs.toRad(AngleX), gdjs.toRad(AngleY), gdjs.toRad(AngleZ));","} else if (Operator == \"+\") {","    Obj.rotateX(gdjs.toRad(AngleX));","    Obj.rotateY(gdjs.toRad(AngleY));","    Obj.rotateZ(gdjs.toRad(AngleZ));","} else {","    Obj.rotateX(gdjs.toRad(-AngleX));","    Obj.rotateY(gdjs.toRad(-AngleY));","    Obj.rotateZ(gdjs.toRad(-AngleZ));","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Angle X","name":"AngleX","type":"expression"},{"description":"Angle Y","name":"AngleY","type":"expression"},{"description":"Angle Z","name":"AngleZ","type":"expression"}],"objectGroups":[]},{"description":"Rotate the 3D Object first in the world Y axis, then on the local X and Z axes.","fullName":"Rotate 3D Object Like Head","functionType":"Action","group":"3D Object","name":"Rotate3DObjectLikeHead","sentence":"Rotate 3D Object Like Head (ID: _PARAM1_, _PARAM2_, X: _PARAM3_, Y: _PARAM4_, Z: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const AngleX = eventsFunctionContext.getArgument(\"AngleX\");","const AngleY = eventsFunctionContext.getArgument(\"AngleY\");","const AngleZ = eventsFunctionContext.getArgument(\"AngleZ\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const Parent = Obj.parent;","Scene.attach(Obj);","if (Operator == \"=\") {","    Obj.rotation.set(0, 0, 0);","    Obj.rotateY(gdjs.toRad(AngleY));","    Obj.rotateX(gdjs.toRad(AngleX));","    Obj.rotateZ(gdjs.toRad(AngleZ));","} else if (Operator == \"+\") {","    Obj.rotateX(gdjs.toRad(AngleX));","    Obj.rotateOnWorldAxis(new THREE.Vector3(0, 1, 0), gdjs.toRad(AngleY));","    Obj.rotateZ(gdjs.toRad(AngleZ));","} else {","    Obj.rotateX(gdjs.toRad(-AngleX));","    Obj.rotateOnWorldAxis(new THREE.Vector3(0, 1, 0), gdjs.toRad(-AngleY));","    Obj.rotateZ(gdjs.toRad(-AngleZ));","}","Parent.attach(Obj);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Angle X","name":"AngleX","type":"expression"},{"description":"Angle Y","name":"AngleY","type":"expression"},{"description":"Angle Z","name":"AngleZ","type":"expression"}],"objectGroups":[]},{"description":"Rotate the 3D Object in the order X, Y, Z on the world axis.","fullName":"Rotate 3D Object On World","functionType":"Action","group":"3D Object","name":"Rotate3DObjectOnWorld","sentence":"Rotate 3D Object On World (ID: _PARAM1_, _PARAM2_, X: _PARAM3_, Y: _PARAM4_, Z: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const AngleX = eventsFunctionContext.getArgument(\"AngleX\");","const AngleY = eventsFunctionContext.getArgument(\"AngleY\");","const AngleZ = eventsFunctionContext.getArgument(\"AngleZ\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const Parent = Obj.parent;","Scene.attach(Obj);","if (Operator == \"=\") {","    Obj.rotation.set(0, 0, 0);","    Obj.rotateOnWorldAxis(new THREE.Vector3(1, 0, 0), gdjs.toRad(AngleX));","    Obj.rotateOnWorldAxis(new THREE.Vector3(0, 1, 0), gdjs.toRad(AngleY));","    Obj.rotateOnWorldAxis(new THREE.Vector3(0, 0, 1), gdjs.toRad(AngleZ));","} else if (Operator == \"+\") {","    Obj.rotateOnWorldAxis(new THREE.Vector3(1, 0, 0), gdjs.toRad(AngleX));","    Obj.rotateOnWorldAxis(new THREE.Vector3(0, 1, 0), gdjs.toRad(AngleY));","    Obj.rotateOnWorldAxis(new THREE.Vector3(0, 0, 1), gdjs.toRad(AngleZ));","} else {","    Obj.rotateOnWorldAxis(new THREE.Vector3(1, 0, 0), gdjs.toRad(-AngleX));","    Obj.rotateOnWorldAxis(new THREE.Vector3(0, 1, 0), gdjs.toRad(-AngleY));","    Obj.rotateOnWorldAxis(new THREE.Vector3(0, 0, 1), gdjs.toRad(-AngleZ));","}","Parent.attach(Obj);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Angle X","name":"AngleX","type":"expression"},{"description":"Angle Y","name":"AngleY","type":"expression"},{"description":"Angle Z","name":"AngleZ","type":"expression"}],"objectGroups":[]},{"fullName":"Look At 3D Object","functionType":"Action","group":"3D Object","name":"LookAt3DObject","sentence":"Look At 3D Object (ID: _PARAM1_, Target ID: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const TargetId = eventsFunctionContext.getArgument(\"TargetId\");","//","const Obj = Scene.getObjectByName(Id);","let TargetObj = Scene.getObjectByName(TargetId);","if (!Obj || !TargetObj) {","    console.warn(\"3D Object not found: \" + Id + \" or \" + TargetId);","    return;","}","//","const WPos = new THREE.Vector3();","TargetObj.getWorldPosition(WPos);","Obj.lookAt(WPos);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Target 3D Object ID","name":"TargetId","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"fullName":"Look At 3D Camera","functionType":"Action","group":"3D Object","name":"LookAt3DCamera","sentence":"Look At 3D Camera (Object ID: _PARAM1_, Camera ID: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","// const Camera = gdjs.__WithThreeJS.get(\"Camera\");","const CameraId = eventsFunctionContext.getArgument(\"CameraId\");","const Camera = gdjs.__WithThreeJS.get(\"GetCamera\")(CameraId);","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","Obj.lookAt(Camera.position);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"3D Camera ID (1 to 4)","name":"CameraId","type":"expression"}],"objectGroups":[]},{"description":"Correct the 3D Object Rotation within limits.\nUsing this action on a 3D Object rotated on multiple axes may not work correctly.","fullName":"Correct 3D Object Rotation Within Limits (Deprecated)","functionType":"Action","group":"3D Object","name":"Correct3DObjectRotationWithinLimits","private":true,"sentence":"‚ö†Ô∏è Correct 3D Object Rotation Within Limits (ID: _PARAM1_, Axis: _PARAM2_, Limit: _PARAM3_ to _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Axis = eventsFunctionContext.getArgument(\"Axis\");","const MinAngle = gdjs.toRad(eventsFunctionContext.getArgument(\"MinAngle\"));","const MaxAngle = gdjs.toRad(eventsFunctionContext.getArgument(\"MaxAngle\"));","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const RX = Obj.rotation.x;","const RY = Obj.rotation.y;","const RZ = Obj.rotation.z;","if (Axis == \"X\") {","    if (RX < MinAngle) {","        Obj.rotateX(MinAngle - RX);","    }","    if (RX > MaxAngle) {","        Obj.rotateX(MaxAngle - RX);","    }","} else if (Axis == \"Y\") {","    if (RY < MinAngle) {","        Obj.rotateY(MinAngle - RY);","    }","    if (RY > MaxAngle) {","        Obj.rotateY(MaxAngle - RY);","    }","} else {","    if (RZ < MinAngle) {","        Obj.rotateZ(MinAngle - RZ);","    }","    if (RZ > MaxAngle) {","        Obj.rotateZ(MaxAngle - RZ);","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"},{"description":"Min Angle (-180 to 180)","name":"MinAngle","type":"expression"},{"description":"Max Angle (-180 to 180)","name":"MaxAngle","type":"expression"}],"objectGroups":[]},{"description":"Remove a 3D Object from the 3D Scene.\nThis action cannot remove 3D Objects created by 3D Projection Behaviors.\nThis action does not clear the loaded 3D Texture data and the loaded 3D Model data.\nThey will continue to be accessible by ID.","fullName":"Remove 3D Object","functionType":"Action","group":"3D Object","name":"Remove3DObject","sentence":"Remove 3D Object (ID: _PARAM1_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","if (Obj.userData.Use3DProjectionBehavior) {","    console.warn(\"3D Object could not be removed.\");","    return;","}","//","// Obj.clear();","gdjs.__WithThreeJS.get(\"AllMaterialDispose\")(Obj);","Obj.removeFromParent();","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"description":"Change the 3D Texture of a 3D Object.","fullName":"Change 3D Texture","functionType":"Action","group":"3D Object","name":"Change3DTexture","sentence":"Change 3D Texture (ID: _PARAM1_, Texture: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Textures\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Textures = gdjs.__WithThreeJS.get(\"Textures\");","//","const Id = eventsFunctionContext.getArgument(\"Id\");","const TextureIdList = eventsFunctionContext.getArgument(\"TextureIdList\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","let TextureList = [];","for (const V of TextureIdList.split(\"\\n\")) {","    if (V != \"\") {","        if (!Textures.has(V)) {","            console.warn(\"3D Texture not found: \" + V);","        } else {","            TextureList.push(Textures.get(V));","        }","    }","}","//","gdjs.__WithThreeJS.get(\"SettingRecursiveTextures\")(Obj, TextureList);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"3D Texture ID List","longDescription":"One Texture ID per line.","name":"TextureIdList","supplementaryInformation":"scene3D Texture ID","type":"identifier"}],"objectGroups":[]},{"description":"Change the visibility of a 3D Object.","fullName":"Change 3D Object Visibility","functionType":"Action","group":"3D Object","name":"ChangeVisibility","sentence":"Change 3D Object Visibility (ID: _PARAM1_, Visible: _PARAM2_, Inherit: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","//","const Id = eventsFunctionContext.getArgument(\"Id\");","const Visible = eventsFunctionContext.getArgument(\"Visible\");","const Inherit = eventsFunctionContext.getArgument(\"Inherit\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","if (Inherit) {","    Obj.visible = Visible;","} else {","    if (Obj.material) {","        if (Array.isArray(Obj.material)) {","            for (let i = 0; i < Obj.material.length; i++) {","                Obj.material[i].visible = Visible;","            }","        } else {","            Obj.material.visible = Visible;","        }","    } else {","        // Obj.visible = Visible;","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"defaultValue":"yes","description":"Visible","name":"Visible","optional":true,"type":"yesorno"},{"defaultValue":"no","description":"Inherit to Children","longDescription":"The visibility of a child 3D Object that has been changed by inheritance cannot be changed individually.  \nSimilarly, the visibility of an individually changed child 3D Object cannot be changed by inheritance.","name":"Inherit","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Change the Opacity of a 3D Object.\nThe same value is set for multiple textures.","fullName":"Change 3D Object Opacity","functionType":"Action","group":"3D Object","name":"ChangeOpacity","sentence":"Change 3D Object Opacity (ID: _PARAM1_, _PARAM2_, Opacity: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","//","const Id = eventsFunctionContext.getArgument(\"Id\");","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const Opacity = eventsFunctionContext.getArgument(\"Opacity\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","gdjs.__WithThreeJS.get(\"SetAllOpacity\")(Obj, Operator, Opacity);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Opacity (0 to 1)","longDescription":"1 is fully opaque.","name":"Opacity","type":"expression"}],"objectGroups":[]},{"description":"Change the Scale of a 3D Object.\nNote that 3D Sprite and 3D Model were scaled when created.","fullName":"Change 3D Object Scale","functionType":"Action","group":"3D Object","name":"ChangeScale","sentence":"Change 3D Object Scale (ID: _PARAM1_, _PARAM2_, X: _PARAM3_, Y: _PARAM4_, Z: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const X = eventsFunctionContext.getArgument(\"X\");","const Y = eventsFunctionContext.getArgument(\"Y\");","const Z = eventsFunctionContext.getArgument(\"Z\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","if (Obj.isSprite) {","    const Texture = Obj.material.map;","    const TextureWidth = Texture.image.width;","    const TextureHeight = Texture.image.height;","    if (Operator == \"=\") {","        Obj.scale.set(TextureWidth * X, TextureHeight * Y, 1);","    } else if (Operator == \"+\") {","        Obj.scale.x += TextureWidth * X;","        Obj.scale.y += TextureHeight * Y;","    } else if (Operator == \"-\") {","        Obj.scale.x -= TextureWidth * X;","        Obj.scale.y -= TextureHeight * Y;","    } else {","        Obj.scale.x *= TextureWidth * X;","        Obj.scale.y *= TextureHeight * Y;","    }","} else {","    if (Operator == \"=\") {","        Obj.scale.set(X, Y, Z);","    } else if (Operator == \"+\") {","        Obj.scale.x += X;","        Obj.scale.y += Y;","        Obj.scale.z += Z;","    } else if (Operator == \"-\") {","        Obj.scale.x -= X;","        Obj.scale.y -= Y;","        Obj.scale.z -= Z;","    } else {","        Obj.scale.x *= X;","        Obj.scale.y *= Y;","        Obj.scale.z *= Z;","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\",\"*\"]","type":"stringWithSelector"},{"description":"Scale X Axis","name":"X","type":"expression"},{"description":"Scale Y Axis","name":"Y","type":"expression"},{"description":"Scale Z Axis","name":"Z","type":"expression"}],"objectGroups":[]},{"description":"Change the DepthWrite of a 3D Object.\nWhether rendering this 3D Object has any effect on the depth buffer.\nIf transparent 3D Objects overlap and render incorrectly, you may be able to obtain ideal rendering results by setting the DepthWrite of that 3D Object to No.\nDefault is Yes.","fullName":"Change 3D Object DepthWrite (Experimental)","functionType":"Action","group":"3D Object","name":"ChangeDepthWrite","sentence":"Change 3D Object DepthWrite (ID: _PARAM1_, Write: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","//","const Id = eventsFunctionContext.getArgument(\"Id\");","const Write = eventsFunctionContext.getArgument(\"Write\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","gdjs.__WithThreeJS.get(\"SetAllDepthWrite\")(Obj, Write);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"defaultValue":"yes","description":"Depth Write","name":"Write","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Change all animations speed scale of a 3D Object.\n0 is pause.\nNegative values play backwards.","fullName":"Change 3D Object All Animations Speed Scale","functionType":"Action","group":"3D Object","name":"ChangeAllAnimationsSpeedScale","sentence":"Change All Animations Speed Scale (ID: _PARAM1_, _PARAM2_, Speed: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const AnimationActions = gdjs.__WithThreeJS.get(\"AnimationActions\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const Speed = eventsFunctionContext.getArgument(\"Speed\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const OBJ_UUID = Obj.uuid;","if (AnimationActions.has(OBJ_UUID)) {","    for (const [K, V] of AnimationActions.get(OBJ_UUID)) {","        if (Operator == \"=\") {","            V.timeScale = Speed;","        } else if (Operator == \"+\") {","            V.timeScale += Speed;","        } else {","            V.timeScale -= Speed;","        }","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Animation Speed Scale (Default: 1)","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Change the Blend Mode of a 3D Object.","fullName":"Change 3D Object Blend Mode","functionType":"Action","group":"3D Object","name":"ChangeBlendMode","sentence":"Change 3D Object Blend Mode (ID: _PARAM1_, Blend Mode: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","let Blend = THREE.NormalBlending;","if (eventsFunctionContext.getArgument(\"Blend\") == \"Additive\") {","    Blend = THREE.AdditiveBlending;","} else if (eventsFunctionContext.getArgument(\"Blend\") == \"Subtractive\") {","    Blend = THREE.SubtractiveBlending;","} else if (eventsFunctionContext.getArgument(\"Blend\") == \"Multiply\") {","    Blend = THREE.MultiplyBlending;","}","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","gdjs.__WithThreeJS.get(\"SetAllBlendMode\")(Obj, Blend);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Blend Mode","longDescription":"The same value is set for multiple textures.","name":"Blend","supplementaryInformation":"[\"Normal\",\"Additive\",\"Subtractive\",\"Multiply\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Resolve collisions between Bounding Boxes.\nIt is not necessary to use the \"Check Bounding Box Collision\" condition beforehand. (It will do almost the same processing)\nNote that the 3D Objects are still in contact after resolution. (\"Check Bounding Box Collision\" condition will not be false.)\n3D Object thickness too thin for the amount of movement will not resolve correctly.\nThis action updates the \"Bounding Box Collision Result\".","fullName":"Resolve Bounding Box Collision (Deprecated)","functionType":"Action","group":"3D Object","name":"ResolveBoundingBoxCollision","private":true,"sentence":"‚ö†Ô∏è Resolve Bounding Box Collision (ID: _PARAM1_, Unmoved: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const UnmovedId = eventsFunctionContext.getArgument(\"UnmovedId\");","//","const Obj = Scene.getObjectByName(Id);","const UnmovedObj = Scene.getObjectByName(UnmovedId);","if (!Obj || !UnmovedObj) {","    console.warn(\"3D Object not found: \" + Id + \" or \" + UnmovedId);","    return;","}","//","const BoundingBoxCollisionResult = gdjs.__WithThreeJS.get(\"SetBoundingBoxCollisionResult\")(Obj, UnmovedObj);","const Move3 = new THREE.Vector3(BoundingBoxCollisionResult.MoveX, BoundingBoxCollisionResult.MoveY, BoundingBoxCollisionResult.MoveZ);","const WorldPosition = new THREE.Vector3();","Obj.getWorldPosition(WorldPosition);","WorldPosition.add(Move3);","Obj.position.copy(Obj.parent.worldToLocal(WorldPosition));","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Unmoved 3D Object ID","name":"UnmovedId","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"description":"Resolve collisions between Bounding Boxes.\nIt is not necessary to use the \"Check Bounding Box Collision\" condition beforehand. (It will do almost the same processing)\nNote that the 3D Objects are still in contact after resolution. (\"Check Bounding Box Collision\" condition will not be false.)\n3D Object thickness too thin for the amount of movement will not resolve correctly.\nThis action updates the \"Bounding Box Collision Result\".\n\"Bounding Box Collision Result\" stores the value when the Target 3D Object is unmoved.","fullName":"Resolve Bounding Box Collision","functionType":"Action","group":"3D Object","name":"ResolveBoundingBoxCollisionV2","sentence":"Resolve Bounding Box Collision (ID: _PARAM1_, Target: _PARAM2_, Unmoved: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const TargetId = eventsFunctionContext.getArgument(\"TargetId\");","const Unmoved = eventsFunctionContext.getArgument(\"Unmoved\");","//","const Obj = Scene.getObjectByName(Id);","const TargetObj = Scene.getObjectByName(TargetId);","if (!Obj || !TargetObj) {","    console.warn(\"3D Object not found: \" + Id + \" or \" + TargetId);","    return;","}","//","const BoundingBoxCollisionResult = gdjs.__WithThreeJS.get(\"SetBoundingBoxCollisionResult\")(Obj, TargetObj);","const Move3 = new THREE.Vector3(BoundingBoxCollisionResult.MoveX, BoundingBoxCollisionResult.MoveY, BoundingBoxCollisionResult.MoveZ);","if (Unmoved) {","    const WorldPosition = new THREE.Vector3();","    Obj.getWorldPosition(WorldPosition);","    WorldPosition.add(Move3);","    Obj.position.copy(Obj.parent.worldToLocal(WorldPosition));","} else {","    Move3.divideScalar(2);","    const Move3Neg = Move3.clone().negate();","    //","    const WorldPosition1 = new THREE.Vector3();","    const WorldPosition2 = new THREE.Vector3();","    Obj.getWorldPosition(WorldPosition1);","    TargetObj.getWorldPosition(WorldPosition2);","    WorldPosition1.add(Move3);","    WorldPosition2.add(Move3Neg);","    Obj.position.copy(Obj.parent.worldToLocal(WorldPosition1));","    TargetObj.position.copy(TargetObj.parent.worldToLocal(WorldPosition2));","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Target 3D Object ID","name":"TargetId","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"defaultValue":"True","description":"Target 3D Object is unmoved","name":"Unmoved","optional":true,"type":"trueorfalse"}],"objectGroups":[]},{"description":"Add 3D Object as child to 3D object.","fullName":"Add Child","functionType":"Action","group":"3D Object","name":"AddChild","sentence":"Add Child (ID: _PARAM1_, Child: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const ParentId = eventsFunctionContext.getArgument(\"ParentId\");","const ChildId = eventsFunctionContext.getArgument(\"ChildId\");","//","const Parent = Scene.getObjectByName(ParentId);","const Child = Scene.getObjectByName(ChildId);","if (!Parent || !Child) {","    console.warn(\"3D Object not found: \" + ParentId + \" or \" + ChildId);","    return;","}","Parent.attach(Child);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Parent 3D Object ID","name":"ParentId","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Child 3D Object ID","name":"ChildId","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"description":"Detach a 3D Object from its parent.\n(Set Parent to Scene)","fullName":"Detach From Parent","functionType":"Action","group":"3D Object","name":"DetachFromParent","sentence":"Detach From Parent (ID: _PARAM1_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","Scene.attach(Obj);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"description":"Set 3D Object ID of all children to scene variable as array.","fullName":"Set 3D Object ID Of Children To Scene Variable","functionType":"Action","group":"3D Object","name":"SetChildrenIdToSceneVariable","sentence":"Set 3D Object ID Of Children To Scene Variable (ID: _PARAM1_, Variable: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const SceneVariable = eventsFunctionContext.getArgument(\"Variable\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","let Children = [];","for (const V of Obj.children) {","    Children.push(V.name);","}","SceneVariable.fromJSObject(Children);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Parent 3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Scene Variable","name":"Variable","type":"scenevar"}],"objectGroups":[]},{"description":"Play 3D animation.\nIf already playing, only the \"Animation Speed Scale\" and \"Loop\" properties are updated.","fullName":"Play 3D Animation","functionType":"Action","group":"3D Object","name":"Play3DAnimation","sentence":"Play 3D Animation (ID: _PARAM1_, Animation: _PARAM2_, Speed: _PARAM3_, Loop: _PARAM4_, Fade: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const AnimationMixer = gdjs.__WithThreeJS.get(\"AnimationMixer\");","const AnimationActions = gdjs.__WithThreeJS.get(\"AnimationActions\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const ANumber = eventsFunctionContext.getArgument(\"ANumber\");","const Speed = eventsFunctionContext.getArgument(\"Speed\");","const Duration = eventsFunctionContext.getArgument(\"Duration\");","let Loop = eventsFunctionContext.getArgument(\"Loop\");","if (Loop == \"Once\") {","    Loop = THREE.LoopOnce;","} else if (Loop == \"PingPong\") {","    Loop = THREE.LoopPingPong;","} else {","    Loop = THREE.LoopRepeat;","}","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","const Clip = Obj.animations[ANumber];","if (!Clip) {","    console.warn(\"3D Animation not found: \" + ANumber);","    return;","}","//","let Action;","const OBJ_UUID = Obj.uuid;","const Clip_UUID = Clip.uuid;","if (AnimationActions.has(OBJ_UUID)) {","    if (AnimationActions.get(OBJ_UUID).has(Clip_UUID)) {","        Action = AnimationActions.get(OBJ_UUID).get(Clip_UUID);","        if (Action.isRunning()) {","            Action.timeScale = Speed;","            Action.setLoop(Loop, Infinity);","            return;","        }","    }","}","//","if (AnimationActions.has(OBJ_UUID)) {","    for (const [K, V] of AnimationActions.get(OBJ_UUID)) {","        if (K != Clip_UUID) {","            if (Duration === 0) {","                V.stop();","            } else {","                V.fadeOut(Duration);  ","            }","        }","    }","} else {","    AnimationActions.set(OBJ_UUID, new Map());","}","if (Action === undefined) {","    Action = AnimationMixer.clipAction(Clip, Obj);","    AnimationActions.get(OBJ_UUID).set(Clip_UUID, Action);","}","Action.timeScale = Speed;","Action.setLoop(Loop, Infinity);","Action.clampWhenFinished = true;","if (Speed >= 0) {","    Action.reset().play().fadeIn(Duration);","} else {","    Action.reset();","    Action.time = Clip.duration;","    Action.play().fadeIn(Duration);","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Original Animation Number","name":"ANumber","type":"expression"},{"description":"Animation Speed Scale (Default: 1)","longDescription":"0 is pause. Negative values play backwards.","name":"Speed","type":"expression"},{"description":"Loop","name":"Loop","supplementaryInformation":"[\"Once\",\"Repeat\",\"PingPong\"]","type":"stringWithSelector"},{"description":"Cross-Fade Duration (in seconds)","name":"Duration","type":"expression"}],"objectGroups":[]},{"fullName":"Stop 3D Animation","functionType":"Action","group":"3D Object","name":"Stop3DAnimation","sentence":"Stop 3D Animation (ID: _PARAM1_, Animation: _PARAM2_, Fade: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const AnimationActions = gdjs.__WithThreeJS.get(\"AnimationActions\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const ANumber = eventsFunctionContext.getArgument(\"ANumber\");","const Duration = eventsFunctionContext.getArgument(\"Duration\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","const Clip = Obj.animations[ANumber];","if (!Clip) {","    console.warn(\"3D Animation not found: \" + ANumber);","    return;","}","//","let Action;","const OBJ_UUID = Obj.uuid;","const Clip_UUID = Clip.uuid;","if (AnimationActions.has(OBJ_UUID)) {","    if (AnimationActions.get(OBJ_UUID).has(Clip_UUID)) {","        const Action = AnimationActions.get(OBJ_UUID).get(Clip_UUID);","        if (Duration === 0) {","            Action.stop();","        } else {","            Action.fadeOut(Duration);  ","        }","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Original Animation Number","name":"ANumber","type":"expression"},{"description":"Cross-Fade Duration (in seconds)","name":"Duration","type":"expression"}],"objectGroups":[]},{"fullName":"Stop All 3D Animation (Deprecated)","functionType":"Action","group":"3D Object","name":"StopAll3DAnimation","private":true,"sentence":"‚ö†Ô∏è Stop All 3D Animation (ID: _PARAM1_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const AnimationActions = gdjs.__WithThreeJS.get(\"AnimationActions\");","const Id = eventsFunctionContext.getArgument(\"Id\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const OBJ_UUID = Obj.uuid;","if (AnimationActions.has(OBJ_UUID)) {","    for (const [K, V] of AnimationActions.get(OBJ_UUID)) {","        V.stop();","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"fullName":"Set number to 3D Object Variable","functionType":"Action","group":"3D Object","name":"SetNumberVariable","sentence":"Set number to 3D Object Variable (ID: _PARAM1_, Variable: _PARAM2_, _PARAM3_, _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const VariableName = eventsFunctionContext.getArgument(\"VariableName\");","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const Value = eventsFunctionContext.getArgument(\"Value\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","if (!Obj.userData.Variable) {","    Obj.userData.Variable = {};","}","if (!Obj.userData.Variable[VariableName]) {","    // false, 0, \"\", undefined ...","    Obj.userData.Variable[VariableName] = 0;","}","if (Operator == \"=\") {","    Obj.userData.Variable[VariableName] = Value;","} else if (Operator == \"+\") {","    Obj.userData.Variable[VariableName] += Value;","} else if (Operator == \"-\") {","    Obj.userData.Variable[VariableName] -= Value;","} else {","    Obj.userData.Variable[VariableName] *= Value;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"3D Object Variable Name","name":"VariableName","supplementaryInformation":"scene3D Object Variable Name","type":"identifier"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\",\"*\"]","type":"stringWithSelector"},{"description":"Value","name":"Value","type":"expression"}],"objectGroups":[]},{"fullName":"Set string to 3D Object Variable","functionType":"Action","group":"3D Object","name":"SetStringVariable","sentence":"Set string to 3D Object Variable (ID: _PARAM1_, Variable: _PARAM2_, _PARAM3_, _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const VariableName = eventsFunctionContext.getArgument(\"VariableName\");","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const Value = eventsFunctionContext.getArgument(\"Value\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","if (!Obj.userData.Variable) {","    Obj.userData.Variable = {};","}","if (!Obj.userData.Variable[VariableName]) {","    // false, 0, \"\", undefined ...","    Obj.userData.Variable[VariableName] = \"\";","}","if (Operator == \"=\") {","    Obj.userData.Variable[VariableName] = Value;","} else {","    Obj.userData.Variable[VariableName] += Value;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"3D Object Variable Name","name":"VariableName","supplementaryInformation":"scene3D Object Variable Name","type":"identifier"},{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\"]","type":"stringWithSelector"},{"description":"Value","name":"Value","type":"string"}],"objectGroups":[]},{"fullName":"Linearly interpolate 3D Object","functionType":"Action","group":"3D Object","name":"Lerp3DObject","sentence":"Linearly Interpolate 3D Object (ID: _PARAM1_, Target ID: _PARAM2_, Position: _PARAM3_, Rotation: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const TargetId = eventsFunctionContext.getArgument(\"TargetId\");","const FactorP = eventsFunctionContext.getArgument(\"FactorP\");","const FactorR = eventsFunctionContext.getArgument(\"FactorR\");","//","const Obj = Scene.getObjectByName(Id);","const TargetObj = Scene.getObjectByName(TargetId);","if (!Obj || !TargetObj) {","    console.warn(\"3D Object not found: \" + Id + \" or \" + TargetId);","    return;","}","//","const Parent = Obj.parent;","Scene.attach(Obj);","if (FactorP) {","    const WPos = new THREE.Vector3();","    TargetObj.getWorldPosition(WPos);","    Obj.position.lerp(WPos, FactorP);","}","if (FactorR) {","    const WQua = new THREE.Quaternion();","    TargetObj.getWorldQuaternion(WQua);","    Obj.quaternion.slerp(WQua, FactorR);","}","Parent.attach(Obj);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Target 3D Object ID","name":"TargetId","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Position interpolation factor (0 to 1)","longDescription":"Disable with 0","name":"FactorP","type":"expression"},{"description":"Rotation interpolation factor (0 to 1)","longDescription":"Disable with 0","name":"FactorR","type":"expression"}],"objectGroups":[]},{"description":"Adds a suffix to the IDs of the specified 3D object and its children.\nNote that if lights or sounds are included as children, their IDs will also change.","fullName":"Add Suffix To 3D Object ID","functionType":"Action","group":"3D Object","name":"AddSuffixToId","sentence":"Add Suffix To 3D Object ID (ID: _PARAM1_, Suffix: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","//","const Id = eventsFunctionContext.getArgument(\"Id\");","const Suffix = eventsFunctionContext.getArgument(\"Suffix\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","gdjs.__WithThreeJS.get(\"AddSuffixToAllIds\")(Obj, Suffix);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Suffix","name":"Suffix","supplementaryInformation":"scene3D Object ID","type":"string"}],"objectGroups":[]},{"fullName":"3D Object Position","functionType":"Expression","group":"3D Object","name":"ObjectPosition","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Axis = eventsFunctionContext.getArgument(\"Axis\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","if (Axis == \"X\") {","    eventsFunctionContext.returnValue = Obj.position.x;","} else if (Axis == \"Y\") {","    eventsFunctionContext.returnValue = Obj.position.y;","} else {","    eventsFunctionContext.returnValue = Obj.position.z;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"3D Object Position On World","functionType":"Expression","group":"3D Object","name":"ObjectPositionOnWorld","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Axis = eventsFunctionContext.getArgument(\"Axis\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const WorldPosition = new THREE.Vector3();","Obj.getWorldPosition(WorldPosition);","if (Axis == \"X\") {","    eventsFunctionContext.returnValue = WorldPosition.x;","} else if (Axis == \"Y\") {","    eventsFunctionContext.returnValue = WorldPosition.y;","} else {","    eventsFunctionContext.returnValue = WorldPosition.z;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"3D Object Rotation","functionType":"Expression","group":"3D Object","name":"ObjectRotation","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Axis = eventsFunctionContext.getArgument(\"Axis\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","if (Axis == \"X\") {","    eventsFunctionContext.returnValue = gdjs.toDegrees(Obj.rotation.x);","} else if (Axis == \"Y\") {","    eventsFunctionContext.returnValue = gdjs.toDegrees(Obj.rotation.y);","} else {","    eventsFunctionContext.returnValue = gdjs.toDegrees(Obj.rotation.z);","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"3D Object Rotation On World","functionType":"Expression","group":"3D Object","name":"ObjectRotationOnWorld","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Axis = eventsFunctionContext.getArgument(\"Axis\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const WorldQuaternion = new THREE.Quaternion();","Obj.getWorldQuaternion(WorldQuaternion);","const Euler = new THREE.Euler();","Euler.setFromQuaternion(WorldQuaternion);","if (Axis == \"X\") {","    eventsFunctionContext.returnValue = gdjs.toDegrees(Euler.x);","} else if (Axis == \"Y\") {","    eventsFunctionContext.returnValue = gdjs.toDegrees(Euler.y);","} else {","    eventsFunctionContext.returnValue = gdjs.toDegrees(Euler.z);","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Normalized direction vector of 3D Object.\n(Z axis direction)","fullName":"3D Object Direction","functionType":"Expression","group":"3D Object","name":"ObjectDirection","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Axis = eventsFunctionContext.getArgument(\"Axis\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const WorldDirection = new THREE.Vector3();","Obj.getWorldDirection(WorldDirection);","//","if (Axis == \"X\") {","    eventsFunctionContext.returnValue = WorldDirection.x;","} else if (Axis == \"Y\") {","    eventsFunctionContext.returnValue = WorldDirection.y;","} else {","    eventsFunctionContext.returnValue = WorldDirection.z;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"X\",\"Y\",\"Z\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"3D Object Opacity","functionType":"Expression","group":"3D Object","name":"ObjectOpacity","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","if (Array.isArray(Obj.material)) {","    eventsFunctionContext.returnValue = Obj.material[0].opacity;","} else {","    eventsFunctionContext.returnValue = Obj.material.opacity;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"fullName":"3D Object Scale","functionType":"Expression","group":"3D Object","name":"ObjectScale","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Axis = eventsFunctionContext.getArgument(\"Axis\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","if (Obj.isSprite) {","    const Texture = Obj.material.map;","    const TextureWidth = Texture.image.width;","    const TextureHeight = Texture.image.height;","    if (Axis == \"Scale X Axis\") {","        eventsFunctionContext.returnValue = Obj.scale.x / TextureWidth;","    } else if (Axis == \"Scale Y Axis\") {","        eventsFunctionContext.returnValue = Obj.scale.y / TextureHeight;","    } else {","        eventsFunctionContext.returnValue = 1;","    }","} else {","    if (Axis == \"Scale X Axis\") {","        eventsFunctionContext.returnValue = Obj.scale.x;","    } else if (Axis == \"Scale Y Axis\") {","        eventsFunctionContext.returnValue = Obj.scale.y;","    } else {","        eventsFunctionContext.returnValue = Obj.scale.z;","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Axis","name":"Axis","supplementaryInformation":"[\"Scale X Axis\",\"Scale Y Axis\",\"Scale Z Axis\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"3D Object Parent","functionType":"StringExpression","group":"3D Object","name":"ObjectParent","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","eventsFunctionContext.returnValue = Obj.parent.name;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"supplementaryInformation":"scene","type":"string"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"fullName":"3D Object Animation Speed Scale","functionType":"Expression","group":"3D Object","name":"ObjectAnimationSpeedScale","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const AnimationActions = gdjs.__WithThreeJS.get(\"AnimationActions\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const ANumber = eventsFunctionContext.getArgument(\"ANumber\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","const Clip = Obj.animations[ANumber];","if (!Clip) {","    return;","}","//","const OBJ_UUID = Obj.uuid;","const Clip_UUID = Clip.uuid;","if (AnimationActions.has(OBJ_UUID)) {","    if (AnimationActions.get(OBJ_UUID).has(Clip_UUID)) {","        const Action = AnimationActions.get(OBJ_UUID).get(Clip_UUID);","        eventsFunctionContext.returnValue = Action.timeScale;","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"supplementaryInformation":"scene","type":"expression"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Original Animation Number","name":"ANumber","type":"expression"}],"objectGroups":[]},{"fullName":"3D Object Animation Time","functionType":"Expression","group":"3D Object","name":"ObjectAnimationTime","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const AnimationActions = gdjs.__WithThreeJS.get(\"AnimationActions\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const ANumber = eventsFunctionContext.getArgument(\"ANumber\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","const Clip = Obj.animations[ANumber];","if (!Clip) {","    return;","}","//","const OBJ_UUID = Obj.uuid;","const Clip_UUID = Clip.uuid;","if (AnimationActions.has(OBJ_UUID)) {","    if (AnimationActions.get(OBJ_UUID).has(Clip_UUID)) {","        const Action = AnimationActions.get(OBJ_UUID).get(Clip_UUID);","        eventsFunctionContext.returnValue = Action.time;","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"supplementaryInformation":"scene","type":"expression"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Original Animation Number","name":"ANumber","type":"expression"}],"objectGroups":[]},{"fullName":"3D Object Animation Duration","functionType":"Expression","group":"3D Object","name":"ObjectAnimationDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const AnimationActions = gdjs.__WithThreeJS.get(\"AnimationActions\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const ANumber = eventsFunctionContext.getArgument(\"ANumber\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","const Clip = Obj.animations[ANumber];","if (!Clip) {","    return;","}","eventsFunctionContext.returnValue = Clip.duration;","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"supplementaryInformation":"scene","type":"expression"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Original Animation Number","name":"ANumber","type":"expression"}],"objectGroups":[]},{"fullName":"3D Object Number Variable","functionType":"Expression","group":"3D Object","name":"ObjectNumberVariable","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const VariableName = eventsFunctionContext.getArgument(\"VariableName\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","if (!Obj.userData.Variable) {","    Obj.userData.Variable = {};","}","if (!Obj.userData.Variable[VariableName]) {","    // false, 0, \"\", undefined ...","    Obj.userData.Variable[VariableName] = 0;","}","eventsFunctionContext.returnValue = Obj.userData.Variable[VariableName];","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"supplementaryInformation":"scene","type":"expression"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"3D Object Variable Name","name":"VariableName","supplementaryInformation":"scene3D Object Variable Name","type":"identifier"}],"objectGroups":[]},{"fullName":"3D Object String Variable","functionType":"StringExpression","group":"3D Object","name":"ObjectStringVariable","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const VariableName = eventsFunctionContext.getArgument(\"VariableName\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","if (!Obj.userData.Variable) {","    Obj.userData.Variable = {};","}","if (!Obj.userData.Variable[VariableName]) {","    // false, 0, \"\", undefined ...","    Obj.userData.Variable[VariableName] = \"\";","}","eventsFunctionContext.returnValue = Obj.userData.Variable[VariableName];","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"supplementaryInformation":"scene","type":"string"},"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"3D Object Variable Name","name":"VariableName","supplementaryInformation":"scene3D Object Variable Name","type":"identifier"}],"objectGroups":[]},{"fullName":"Distance From 3D Object To 3D Object","functionType":"Expression","group":"3D Object","name":"DistanceFrom3DObjectTo3DObject","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id1 = eventsFunctionContext.getArgument(\"Id1\");","const Id2 = eventsFunctionContext.getArgument(\"Id2\");","//","const Obj1 = Scene.getObjectByName(Id1);","const Obj2 = Scene.getObjectByName(Id2);","if (!Obj1 || !Obj2) {","    console.warn(\"3D Object not found: \" + Id1 + \" or \" + Id2);","    return;","}","//","const WPos1 = new THREE.Vector3();","const WPos2 = new THREE.Vector3();","Obj1.getWorldPosition(WPos1);","Obj2.getWorldPosition(WPos2);","eventsFunctionContext.returnValue = WPos1.distanceTo(WPos2);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"From 3D Object ID","name":"Id1","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"To 3D Object ID","name":"Id2","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"fullName":"Bounding Box Collision Result Number","functionType":"Expression","group":"3D Object","name":"BoundingBoxCollisionResultNumber","sentence":"Raycast (From: _PARAM1_, _PARAM2_, _PARAM3_, To: _PARAM4_, _PARAM5_, _PARAM6_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"BoundingBoxCollisionResult\")) {","    gdjs.__WithThreeJS.set(\"BoundingBoxCollisionResult\", {Hit:false, CenterX:0, CenterY:0, CenterZ:0, SizeX:0, SizeY:0, SizeZ:0, MoveX:0, MoveY:0, MoveZ:0});","}","const BoundingBoxCollisionResult = gdjs.__WithThreeJS.get(\"BoundingBoxCollisionResult\");","const Item = eventsFunctionContext.getArgument(\"Item\");","//","if (Item == \"Center X\") {","    eventsFunctionContext.returnValue = BoundingBoxCollisionResult.CenterX;","} else if (Item == \"Center Y\") {","    eventsFunctionContext.returnValue = BoundingBoxCollisionResult.CenterY;","} else if (Item == \"Center Z\") {","    eventsFunctionContext.returnValue = BoundingBoxCollisionResult.CenterZ;","} else if (Item == \"Size X\") {","    eventsFunctionContext.returnValue = BoundingBoxCollisionResult.SizeX;","} else if (Item == \"Size Y\") {","    eventsFunctionContext.returnValue = BoundingBoxCollisionResult.SizeY;","} else if (Item == \"Size Z\") {","    eventsFunctionContext.returnValue = BoundingBoxCollisionResult.SizeZ;","} else if (Item == \"Move X\") {","    eventsFunctionContext.returnValue = BoundingBoxCollisionResult.MoveX;","} else if (Item == \"Move Y\") {","    eventsFunctionContext.returnValue = BoundingBoxCollisionResult.MoveY;","} else if (Item == \"Move Z\") {","    eventsFunctionContext.returnValue = BoundingBoxCollisionResult.MoveZ;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Item","name":"Item","supplementaryInformation":"[\"Center X\",\"Center Y\",\"Center Z\",\"Size X\",\"Size Y\",\"Size Z\",\"Move X\",\"Move Y\",\"Move Z\"]","type":"stringWithSelector"}],"objectGroups":[]},{"fullName":"Check Existence Of 3D Object","functionType":"Condition","group":"3D Object","name":"CheckExistenceOf3DObject","sentence":"Check Existence Of 3D Object (ID: _PARAM1_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","//","const Obj = Scene.getObjectByName(Id);","if (Obj && Id !== \"\") {","    eventsFunctionContext.returnValue = true;","} else {","    eventsFunctionContext.returnValue = false;","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"description":"Check the visibility of a 3D Object.\nThis condition cannot be tested correctly if the visibility of the 3D object is changed by inheritance.","fullName":"Check Visibility Of 3D Object","functionType":"Condition","group":"3D Object","name":"CheckVisibilityOf3DObject","sentence":"Check Visibility Of 3D Object (ID: _PARAM1_, Visible: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Visible = eventsFunctionContext.getArgument(\"Visible\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","let VisibilityResult = Obj.visible;","if (VisibilityResult) {","    if (Obj.material) {","        if (Array.isArray(Obj.material)) {","            VisibilityResult = Obj.material.every((x) => x.visible === true);","        } else {","            VisibilityResult = Obj.material.visible;","        }","    }","}","eventsFunctionContext.returnValue = VisibilityResult === Visible;","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"defaultValue":"yes","description":"Check if the visible is","name":"Visible","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Checks for collisions between the Bounding Boxes of two 3D Objects.\nThis condition updates the \"Bounding Box Collision Result\" when it returns True.","fullName":"Check Bounding Box Collision","functionType":"Condition","group":"3D Object","name":"CheckBoundingBoxCollision","sentence":"Check Bounding Box Collision (ID: _PARAM1_, Unmoved: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const UnmovedId = eventsFunctionContext.getArgument(\"UnmovedId\");","//","const Obj = Scene.getObjectByName(Id);","const UnmovedObj = Scene.getObjectByName(UnmovedId);","if (!Obj || !UnmovedObj) {","    console.warn(\"3D Object not found: \" + Id + \" or \" + UnmovedId);","    return;","}","//","const BoundingBoxCollisionResult = gdjs.__WithThreeJS.get(\"SetBoundingBoxCollisionResult\")(Obj, UnmovedObj);","eventsFunctionContext.returnValue = BoundingBoxCollisionResult.Hit;","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Unmoved 3D Object ID","name":"UnmovedId","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"description":"Check if the 3D Animation is playing.","fullName":"Check 3D Animation Is Playing","functionType":"Condition","group":"3D Object","name":"Check3DAnimationIsPlaying","sentence":"Check 3D Animation Is Playing (ID: _PARAM1_, Animation: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const AnimationMixer = gdjs.__WithThreeJS.get(\"AnimationMixer\");","const AnimationActions = gdjs.__WithThreeJS.get(\"AnimationActions\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const ANumber = eventsFunctionContext.getArgument(\"ANumber\");","eventsFunctionContext.returnValue = false;","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","const Clip = Obj.animations[ANumber];","if (!Clip) {","    return;","}","//","const OBJ_UUID = Obj.uuid;","const Clip_UUID = Clip.uuid;","if (AnimationActions.has(OBJ_UUID)) {","    if (AnimationActions.get(OBJ_UUID).has(Clip_UUID)) {","        const Action = AnimationActions.get(OBJ_UUID).get(Clip_UUID);","        eventsFunctionContext.returnValue = Action.isRunning();","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Original Animation Number","name":"ANumber","supplementaryInformation":"scene3D Object ID","type":"expression"}],"objectGroups":[]},{"description":"Check if all 3D animations are stopped.","fullName":"Check All 3D Animations Are Stopped (Deprecated)","functionType":"Condition","group":"3D Object","name":"CheckAll3DAnimationsAreStopped","private":true,"sentence":"‚ö†Ô∏è Check All 3D Animations Are Stopped (ID: _PARAM1_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const AnimationMixer = gdjs.__WithThreeJS.get(\"AnimationMixer\");","const AnimationActions = gdjs.__WithThreeJS.get(\"AnimationActions\");","const Id = eventsFunctionContext.getArgument(\"Id\");","eventsFunctionContext.returnValue = true;","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const OBJ_UUID = Obj.uuid;","if (AnimationActions.has(OBJ_UUID)) {","    for (const [K, V] of AnimationActions.get(OBJ_UUID)) {","        if (V.isRunning()) {","            eventsFunctionContext.returnValue = false;","            break;","        }","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"description":"Check if the 3D Animation is finished.\nThis condition is valid only for animations with \"Loop\" set to \"Once\".","fullName":"Check 3D Animation Is Finished","functionType":"Condition","group":"3D Object","name":"Check3DAnimationIsFinished","sentence":"Check 3D Animation Is Finished (ID: _PARAM1_, Animation: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const AnimationMixer = gdjs.__WithThreeJS.get(\"AnimationMixer\");","const AnimationActions = gdjs.__WithThreeJS.get(\"AnimationActions\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const ANumber = eventsFunctionContext.getArgument(\"ANumber\");","eventsFunctionContext.returnValue = false;","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","const Clip = Obj.animations[ANumber];","if (!Clip) {","    return;","}","//","const OBJ_UUID = Obj.uuid;","const Clip_UUID = Clip.uuid;","if (AnimationActions.has(OBJ_UUID)) {","    if (AnimationActions.get(OBJ_UUID).has(Clip_UUID)) {","        const Action = AnimationActions.get(OBJ_UUID).get(Clip_UUID);","        if (Action.loop === THREE.LoopOnce) {","            if (Action.timeScale >= 0) {","                if (Action.time >= Clip.duration) {","                    eventsFunctionContext.returnValue = true;","                }","            } else {","                if (Action.time <= 0) {","                    eventsFunctionContext.returnValue = true;","                }","            }","        }","    }","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Original Animation Number","name":"ANumber","supplementaryInformation":"scene3D Object ID","type":"expression"}],"objectGroups":[]},{"description":"Play a 3D Positional Sound.","fullName":"Play 3D Sound","functionType":"Action","group":"3D Sound","name":"Play3DSound","sentence":"Play 3D Sound (Resource: _PARAM1_, Sound ID: _PARAM2_, Parent ID: _PARAM3_, Loop: _PARAM4_, Volume: _PARAM5_, Pitch: _PARAM6_, Distance: _PARAM7_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Listener = gdjs.__WithThreeJS.get(\"Listener\");","const ResourceName = eventsFunctionContext.getArgument(\"ResourceName\");","const SoundId = eventsFunctionContext.getArgument(\"SoundId\");","const Id = eventsFunctionContext.getArgument(\"Id\");","const Loop = eventsFunctionContext.getArgument(\"Loop\");","const Volume = eventsFunctionContext.getArgument(\"Volume\") || 1;","const Pitch = eventsFunctionContext.getArgument(\"Pitch\") || 1;","let MaxDistance = eventsFunctionContext.getArgument(\"MaxDistance\") || 1000;","//","const ResourceFileName = gdjs.__WithThreeJS.get(\"GetResourceFileName\")(ResourceName, \"audio\");","MaxDistance = MaxDistance <= 0 ? 0.0001 : MaxDistance;","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","let Sound = Obj.getObjectByName(SoundId);","if (!Sound) {","\tSound = new THREE.PositionalAudio(Listener);","\tSound.name = SoundId;","\tObj.add(Sound);","}","Sound.setRefDistance(1);//Èü≥Èáè„ÅÆ‰Ωé‰∏ã„ÅåÊúâÂäπ„Å´„Å™„ÇäÂßã„ÇÅ„ÇãË∑ùÈõ¢","Sound.setRolloffFactor(1)//Èü≥Èáè„ÅåÊ∏õÂ∞ë„Åô„ÇãÈÄü„Åï","Sound.setDistanceModel(\"linear\");","Sound.setMaxDistance(MaxDistance);//„É™„Çπ„Éä„Éº„ÅÆÈñì„ÅÆÊúÄÂ§ßË∑ùÈõ¢","//","Sound.setLoop(Loop);","Sound.setVolume(Volume);","Sound.setPlaybackRate(Pitch);//ÂÜçÁîüÈÄüÂ∫¶","// Sound.setDetune(0);//„Éî„ÉÉ„ÉÅÔºà„Å™„Åú„Åã„Ç®„É©„Éº„Å´„Å™„ÇãÔºâ","//","const audioLoader = new THREE.AudioLoader();","audioLoader.load(ResourceFileName, function(buffer) {","\tSound.setBuffer(buffer);","\tif (Sound.isPlaying) {","\t\tSound.stop();","\t}","\tSound.play();","});","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"GDevelop Resource Name (Audio)","longDescription":"Escape is required. example: \"assets\\\\Sound.wav\" -> \"assets\\\\\\\\Sound.wav\"","name":"ResourceName","type":"string"},{"description":"3D Sound ID","name":"SoundId","supplementaryInformation":"scene3D Sound ID","type":"identifier"},{"description":"Parent 3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Loop","name":"Loop","type":"yesorno"},{"description":"Volume (Default: 1)","name":"Volume","type":"expression"},{"description":"Pitch (Default: 1)","name":"Pitch","type":"expression"},{"description":"Max Distance (0 or more)","name":"MaxDistance","type":"expression"}],"objectGroups":[]},{"description":"Stop a 3D Positional Sound.","fullName":"Stop 3D Sound","functionType":"Action","group":"3D Sound","name":"Stop3DSound","sentence":"Stop 3D Sound (Sound ID: _PARAM1_, Parent ID: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const SoundId = eventsFunctionContext.getArgument(\"SoundId\");","const Id = eventsFunctionContext.getArgument(\"Id\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const Sound = Obj.getObjectByName(SoundId);","if (!Sound) {","    console.warn(\"3D Sound not found: \" + SoundId);","    return;","}","if (Sound.isPlaying) {","\tSound.stop();","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Sound ID","name":"SoundId","supplementaryInformation":"scene3D Sound ID","type":"identifier"},{"description":"Parent 3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"fullName":"Change Master Volume Of 3D Scene","functionType":"Action","group":"3D Sound","name":"ChangeMasterVolumeOf3DScene","sentence":"Change Master Volume Of 3D Scene (_PARAM1_, Volume: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Listener = gdjs.__WithThreeJS.get(\"Listener\");","const Operator = eventsFunctionContext.getArgument(\"Operator\");","const Volume = eventsFunctionContext.getArgument(\"Volume\");","//","if (Operator == \"=\") {","    Listener.setMasterVolume(Volume);","} else if (Operator == \"+\") {","    Listener.setMasterVolume(Listener.getMasterVolume() + Volume);","} else if (Operator == \"-\") {","    Listener.setMasterVolume(Listener.getMasterVolume() - Volume);","}","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Operator","name":"Operator","supplementaryInformation":"[\"=\",\"+\",\"-\"]","type":"stringWithSelector"},{"description":"Master Volume (Default: 1)","name":"Volume","type":"expression"}],"objectGroups":[]},{"fullName":"Master Volume Of 3D Scene","functionType":"Expression","group":"3D Sound","name":"MasterVolumeOf3DScene","sentence":"Master Volume of 3D Scene","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Listener = gdjs.__WithThreeJS.get(\"Listener\");","eventsFunctionContext.returnValue = Listener.getMasterVolume();","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Check if the 3D Sound is playing.","fullName":"Check 3D Sound Is Playing","functionType":"Condition","group":"3D Sound","name":"Check3DSoundIsPlaying","sentence":"Check 3D Sound Is Playing (Sound ID: _PARAM1_, Parent ID: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const SoundId = eventsFunctionContext.getArgument(\"SoundId\");","const Id = eventsFunctionContext.getArgument(\"Id\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","//","const Sound = Obj.getObjectByName(SoundId);","if (!Sound) {","    console.warn(\"3D Sound not found: \" + SoundId);","    return;","}","eventsFunctionContext.returnValue = Sound.isPlaying;","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Sound ID","name":"SoundId","supplementaryInformation":"scene3D Sound ID","type":"identifier"},{"description":"Parent 3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"}],"objectGroups":[]},{"fullName":"Create 3D Axes Helper","functionType":"Action","group":"3D Debug","name":"Create3DAxesHelper","sentence":"Create 3D Axes Helper (Parent ID: _PARAM1_, Size: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","//","const ParentId = eventsFunctionContext.getArgument(\"ParentId\");","const Size = eventsFunctionContext.getArgument(\"Size\");","//","const Parent = Scene.getObjectByName(ParentId);","if (!Parent) {","    console.warn(\"Parent 3D Object not found: \" + ParentId);","    return;","}","//","const AxesHelper = new THREE.AxesHelper(Size);","AxesHelper.name = \"AxesHelper\";","Parent.add(AxesHelper);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Parent 3D Object ID","name":"ParentId","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Size","name":"Size","type":"expression"}],"objectGroups":[]},{"description":"Create or update Helper to graphically display Bounding Box.","fullName":"Update Bounding Box Helper","functionType":"Action","group":"3D Debug","name":"UpdateBoundingBoxHelper","sentence":"Update Bounding Box Helper (ID: _PARAM1_, Color: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","//","const Id = eventsFunctionContext.getArgument(\"Id\");","const Color = eventsFunctionContext.getArgument(\"Color\") || \"0;0;0\";","const RGB = Color.split(\";\");","//","const Obj = Scene.getObjectByName(Id);","if (!Obj) {","    console.warn(\"3D Object not found: \" + Id);","    return;","}","if (!Obj.geometry) {","    console.warn(\"Geometry not found: \" + Id);","    return;","}","//","/*","let BoxHelper = Scene.getObjectByName(\"_BoxHelper\"+ Id);","if (!BoxHelper) {","    BoxHelper = new THREE.BoxHelper(Obj, `rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`);","    BoxHelper.name = \"_BoxHelper\"+ Id;","    Scene.add(BoxHelper);","}","BoxHelper.update();","*/","//","let Box3Helper = Scene.getObjectByName(\"_Box3Helper\"+ Id);","if (Box3Helper) {","    Scene.remove(Box3Helper);","    Box3Helper.dispose();","} else {","    Obj.updateMatrixWorld(true);//„Ç∑„Éº„É≥ÈñãÂßãÁõ¥Âæå„ÅÆ„ÅøÂøÖË¶Å„Å†„Åå‰∏ÄÂøúÂÖ®„Å¶ÊúÄÂàù„Å´ÂÆüË°å„Åô„Çã","}","const Box3 = new THREE.Box3();","Box3.copy(Obj.geometry.boundingBox).applyMatrix4(Obj.matrixWorld);","Box3Helper = new THREE.Box3Helper(Box3, `rgb(${RGB[0]}, ${RGB[1]}, ${RGB[2]})`);","Box3Helper.name = \"_Box3Helper\"+ Id;","Scene.add(Box3Helper);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Object ID","name":"Id","supplementaryInformation":"scene3D Object ID","type":"identifier"},{"description":"Color","name":"Color","type":"color"}],"objectGroups":[]},{"fullName":"Output 3D Model Information To Console","functionType":"Action","group":"3D Debug","name":"OutputModelInformationToConsole","sentence":"Output 3D Model Information To Console (3D Model ID: _PARAM1_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","if (!gdjs.__WithThreeJS.has(\"Models\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Models = gdjs.__WithThreeJS.get(\"Models\");","//","const ModelId = eventsFunctionContext.getArgument(\"ModelId\");","//","if (!Models.has(ModelId)) {","    console.warn(\"3D Model not found: \" + ModelId);","    return;","}","//","console.log(gdjs.__WithThreeJS.get(\"GetModelInfo\")(Models.get(ModelId), \"\", 0));","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"3D Model ID","name":"ModelId","supplementaryInformation":"scene3D Model ID","type":"identifier"}],"objectGroups":[]},{"fullName":"Output All IDs To Console","functionType":"Action","group":"3D Debug","name":"OutputAllIdsToConsole","sentence":"Output All IDs To Console (Type: _PARAM1_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (!gdjs.__WithThreeJS.has(\"Renderer\")) {","    console.warn(\"!\");","    return;","}","const Scene = gdjs.__WithThreeJS.get(\"Scene\");","const Type = eventsFunctionContext.getArgument(\"Type\");","let Res = \"\";","//","if (Type == \"3D Object\") {","    Res = gdjs.__WithThreeJS.get(\"GetAllObjectsName\")(Scene, Res, 0);","} else if (Type == \"3D Texture\") {","    if (!gdjs.__WithThreeJS.has(\"Textures\")) {","        console.warn(\"3D Texture not found.\");","        return;","    }","    const Textures = gdjs.__WithThreeJS.get(\"Textures\");","    for (let K of Textures.keys()) {","        Res += \"ID: \" + K + \"\\n\";","    }","} else if (Type == \"3D Model\") {","    if (!gdjs.__WithThreeJS.has(\"Models\")) {","        console.warn(\"3D Model not found.\");","        return;","    }","    const Models = gdjs.__WithThreeJS.get(\"Models\");","    for (let K of Models.keys()) {","        Res += \"ID: \" + K + \"\\n\";","    }","}","//","console.log(Res);","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Type","name":"Type","supplementaryInformation":"[\"3D Object\",\"3D Texture\",\"3D Model\"]","type":"stringWithSelector"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[{"defaultName":"","description":"","fullName":"","is3D":true,"isTextContainer":true,"name":"Box3D","eventsFunctions":[],"propertyDescriptors":[],"objects":[{"assetStoreId":"","height":32.0,"name":"Top","texture":"","type":"TiledSpriteObject::TiledSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"}]},{"assetStoreId":"","height":32.0,"name":"Bottom","texture":"","type":"TiledSpriteObject::TiledSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"}]},{"assetStoreId":"","height":32.0,"name":"Front","texture":"","type":"TiledSpriteObject::TiledSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"}]},{"assetStoreId":"","height":32.0,"name":"Back","texture":"","type":"TiledSpriteObject::TiledSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"}]},{"assetStoreId":"","height":32.0,"name":"Left","texture":"","type":"TiledSpriteObject::TiledSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"}]},{"assetStoreId":"","height":32.0,"name":"Right","texture":"","type":"TiledSpriteObject::TiledSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"}]}],"objectsFolderStructure":{"folderName":"__ROOT"}},{"defaultName":"","description":"","fullName":"","is3D":true,"isTextContainer":true,"name":"EnableWithThreeJS","eventsFunctions":[],"propertyDescriptors":[],"objects":[],"objectsFolderStructure":{"folderName":"__ROOT"}}]}],"externalLayouts":[],"externalSourceFiles":[],"usedResources":[]};
gdjs.runtimeGameOptions = {};
